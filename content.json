[{"title":"Î»","date":"2019-11-01T15:28:00.000Z","path":"2019/11/01/2019/Î»/","text":"å…³äºÎ»ç»å¸¸ä¼šå¬åˆ°Î»æ¼”ç®—å’ŒÎ»è¡¨è¾¾å¼è¿™ä¸¤åè¯ï¼Œå…¶å®åˆ†åˆ«å¯¹åº”çš„æ˜¯ç†è®ºå’Œåº”ç”¨ä¸¤ä¸ªç»´åº¦ã€‚å®ƒä»¬çš„å…³ç³»å¯ä»¥ç±»æ¯”äºè´¨èƒ½æ–¹ç¨‹å’ŒåŸå­å¼¹ã€‚ Î»æ¼”ç®—æ•°å­¦å®¶é˜¿éš†ä½-é‚±å¥‡åœ¨20ä¸–çºª30å¹´ä»£æå‡ºÎ»æ¼”ç®—ï¼Œä½œä¸ºæ•°å­¦åŸºç¡€ç ”ç©¶çš„ä¸€éƒ¨åˆ†ã€‚é‚£ä¸ªå¹´ä»£ï¼Œæ•°å­¦ç•Œæœ‰ä¸ªé¢†è¢–ï¼Œå«å¸Œå°”ä¼¯ç‰¹ï¼ˆä¸€äººä¹‹åŠ›å°†è‘›æ ¹å»·å¤§å­¦å»ºè®¾ä¸ºå½“æ—¶æ•°çš„ä¸–ç•Œä¸­å¿ƒï¼‰ã€‚ä»–æå‡ºå°†æ•°å­¦å®šç†æœºæ¢°åŒ–ï¼Œè¿™æ ·æœºå™¨å°±å¯ä»¥é€šè¿‡å½¢å¼è¯­è¨€æ¨ç†å‡ºå¤§é‡æ–°å®šç†ï¼ˆAIçš„å‘³é“ï¼Ÿï¼‰ã€‚æ¯”ä»–å°å‡ å²çš„å›¾çµå’Œé‚±å¥‡éƒ½å—åˆ°ä»–è¿™ä¸€æ€æ½®å½±å“ï¼Œå¹¶ä»ä¸åŒçš„è§’åº¦è§£å†³äº†è¿™åŒä¸€ä¸ªé—®é¢˜ã€‚ç†è®ºä¸Šï¼Œå›¾çµæœºå’ŒÎ»æ¼”ç®—ï¼Œéƒ½å¯ä»¥æ¨¡æ‹Ÿå‡ºæˆ‘ä»¬ä»Šå¤©æ‰€æœ‰çš„ç¨‹åºã€‚ Î»æ¼”ç®—æ˜¯ä¸€ç§å½¢å¼ç³»ç»Ÿ(formal system)ï¼Œä»€ä¹ˆæ˜¯å½¢å¼ç³»ç»Ÿå‘¢ï¼Ÿå¤§å®¶çŸ¥é“ï¼Œæ•°å­¦è¯­è¨€æ˜¯æ˜¯å¯ä»¥è„±ç¦»ç°å®è€Œå­˜åœ¨çš„â€”â€”å¤§å®¶æŠŠæ•°å­¦æƒ³æˆäº†ä¸€ç§ç¬¦å·æ¸¸æˆï¼Œè„±ç¦»ç”Ÿæ´»å¸¸è¯†ï¼Œä»å…¬ç†å¼€å§‹ï¼Œè¿›è¡Œå¤§é‡çš„æ¨å¯¼å’Œè¯æ˜â€”â€”æœ€ç»ˆäº§ç”Ÿä¸€ä¸ªç³»ç»Ÿï¼Œé‡Œé¢æœ‰å…¬ç†ã€å®šç†ã€æ¨è®ºã€çŒœæƒ³â€¦ä¸Šè¿°è¿™ç§è‡ªæˆä½“ç³»ï¼Œæœ‰å…¬ç†åˆæœ‰æ¨ç†è¯æ˜æ–¹æ³•çš„ä½“ç³»ï¼Œç§°ä¸ºå½¢å¼ç³»ç»Ÿã€‚è€Œå½¢å¼ç³»ç»Ÿéœ€è¦è¯­è¨€å»æç»˜ï¼Œè¿™ç§è¯­è¨€å°±æ˜¯å½¢å¼è¯­è¨€(formal language)ã€‚é‚±å¥‡å¸Œæœ›ç”¨Î»æ¼”ç®—æ¥è¡¨è¾¾æœ‰å…³æ•°å­¦çš„ä¸€åˆ‡ï¼Œæ¯”å¦‚ç”¨ä¸€ç³»åˆ—å‡½æ•°æ¥è¡¨è¾¾è‡ªç„¶æ•°ï¼Œç¬¦å·ï¼Œå®šç†ç­‰ã€‚ æœ¬è´¨ä¸Šå›¾çµæœºå’ŒÎ»æ¼”ç®—æ˜¯åšåŒä¸€ä»¶äº‹æƒ…ï¼Œä¹Ÿæ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ã€‚ Lambdaè¡¨è¾¾å¼åŒºåˆ«äºÎ»æ¼”ç®—ä¸­çš„Î»è¡¨è¾¾å¼ï¼Œç¼–ç¨‹ä¸­æåˆ°çš„Lambdaè¡¨è¾¾å¼ï¼Œä¸€èˆ¬å°±æŒ‡ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ä¸ºä»€ä¹ˆè¦ç”¨åŒ¿åå‡½æ•°ï¼Œå¯¹äºä¸€ä¸ªåªç”¨ä¸€æ¬¡çš„å‡½æ•°ï¼ŒåŒ¿åä½¿ç”¨å½“ç„¶æ›´ç®€æ´æ–¹ä¾¿ã€‚egï¼Œç»™viewä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼š 12345678910111213// java 8ä»¥å‰view.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Log.d(\"click\",\"-----\"); &#125; &#125;);// java 8ç”¨ä¸ŠLambdaçš„åŒ¿åå‡½æ•°view.setOnClickListener(v -&gt; Log.d(\"click\",\"-----\"));// kotlin ç‰ˆæœ¬view.setOnClickListener &#123; Log.d(\"click\", \"-----\") &#125; é‚£ç§å†™æ³•æ›´å¥½ä¸€ç›®äº†ç„¶ï¼Œå¯¹å§ã€‚ æ‰€ä»¥åœ¨ç¼–ç¨‹ä¸­ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥è®©ä»£ç æ›´ç¬¦åˆç›´è§‰ï¼Œå†™æ³•æ¸…æ™°ç®€ç»ƒè‡ªç„¶ä¹Ÿå¸¦æ¥æ›´å¥½çš„ç»´æŠ¤æ€§ã€‚ å¥½çš„ç»´æŠ¤æ€§ç¨‹åºå‘˜ä¸æŒ å¤´ï¼Œä¹Ÿå¯ä»¥æ¨å¯¼å‡ºLambdaè¡¨è¾¾å¼å…·æœ‰ç¨‹åºå‘˜å‘é™…çº¿å‹å¥½ç‰¹æ€§ã€‚ Î»ä¸ç¼–ç¨‹è¯­è¨€å›¾çµæœºå¥ å®šäº†è®¡ç®—æœºåŸºç¡€ï¼Œé‚£èƒ½å’Œå®ƒç­‰ä»·è½¬åŒ–çš„Î»æ¼”ç®—å‘¢ï¼Ÿå®é™…ä¸ŠÎ»æ¼”ç®—åœ¨æ•°å­¦ã€å“²å­¦[2]ã€è¯­è¨€å­¦[3][4]å’Œè®¡ç®—æœºç§‘å­¦[5]ä¸­éƒ½æœ‰è®¸å¤šåº”ç”¨ã€‚å®ƒåœ¨ç¼–ç¨‹è¯­è¨€ç†è®ºä¸­å æœ‰é‡è¦åœ°ä½ï¼Œå‡½æ•°å¼ç¼–ç¨‹å®ç°äº†Î»æ¼”ç®—æ”¯æŒã€‚Î»æ¼”ç®—åœ¨èŒƒç•´è®ºä¸­ä¹Ÿæ˜¯ä¸€ä¸ªç ”ç©¶çƒ­ç‚¹ã€‚ å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æˆ–å¤šæˆ–å°‘å—Î»æ¼”ç®—æ‰€å¯å‘å’Œå½±å“ï¼Œå°¤å…¶æ˜¯å‡½æ•°å¼å‹å¥½è¯­è¨€ï¼ˆLispï¼ŒMLï¼ŒHaskellï¼ŒScalaï¼ŒC++ï¼ŒJava8 Lambdaï¼‰ã€‚ Java8 å®ç°Lambdaçš„æ–¹å¼æ˜¯é€šè¿‡invokedynamicæŒ‡ä»¤ï¼Œè¿è¡Œæ—¶è°ƒç”¨LambdaMetafactory.metafactoryåŠ¨æ€çš„ç”Ÿæˆå†…éƒ¨ç±»ï¼Œåœ¨å†…éƒ¨ç±»é‡Œè°ƒç”¨åŸclassçš„é™æ€æ–¹æ³•å¿«æ¥å®ç°çš„ã€‚ åº”ç”¨åœ¨Javaä¸­èƒ½è¢«Lambdaæ”¹å†™çš„å‰æå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å£ï¼ˆæŒ‡å†…éƒ¨åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰ã€‚ 1234@FunctionalInterfacepublic interface ConsumerInterface&lt;T&gt;&#123; void accept(T t);&#125; ä¸Šé¢ä»£ç ä¸­çš„@FunctionalInterfaceä¸æ˜¯å¿…é¡»è€Œæ˜¯å¯é€‰çš„ï¼Œä½†åŠ ä¸Šè¯¥æ ‡æ³¨ç¼–è¯‘å™¨ä¼šå¸®ä½ æ£€æŸ¥æ¥å£æ˜¯å¦ç¬¦åˆå‡½æ•°æ¥å£è§„èŒƒã€‚å°±åƒåŠ å…¥@Overrideæ ‡æ³¨ä¼šæ£€æŸ¥æ˜¯å¦é‡è½½äº†å‡½æ•°ä¸€æ ·ã€‚ 123456789101112131415161718192021222324252627//1ï¼Œç‚¹å‡»äº‹ä»¶view.setOnClickListener(v -&gt; Log.d(\"click\",\"-----Hello\"));//2ï¼Œçº¿ç¨‹æ–¹æ³•Runnable run = () -&gt; Log.d(\"----Hello World\");//3ï¼ŒCollection (list)æ“ä½œArrayList&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\"hello\", \"world\"));list.forEach(it -&gt; Log.d(\"tag\", \"---\" + it));list.removeIf(it -&gt; it.startsWith(\"h\"));list.sort((o1, o2) -&gt; o1.length() - o2.length());//kotlinval list = listOf(\"hello\", \"world\")list.forEach &#123; print(it) &#125;list.filterNot &#123; it.startsWith(\"h\") &#125;list.sortedWith(Comparator &#123; o1, o2 -&gt; o1.length - o2.length &#125;) //4ï¼Œ Collection (map)æ“ä½œMap&lt;String, String&gt; map = new HashMap&lt;&gt;();map.forEach((k, v) -&gt; Log.d(\"tag\", \"---\" + k + v));map.replaceAll((k, v) -&gt; v.toUpperCase());map.merge(\"key\", \"value\", (v1, v2) -&gt; v1 + v2);//kotlinval map = HashMap&lt;String, String&gt;()map.forEach &#123; (t, u) -&gt; print(\"----$t $u\") &#125;map.replaceAll &#123; t, u -&gt; u.toUpperCase() &#125;map.filter &#123; (t, u) -&gt; t.startsWith(\"h\") &#125; ###å‚è€ƒ https://zh.wikipedia.org/wiki/%CE%9B%E6%BC%94%E7%AE%97 https://zhuanlan.zhihu.com/p/30510749"},{"title":"ClipToPadding & ClipChildren","date":"2019-10-19T12:18:00.000Z","path":"2019/10/19/2019/ClipToPadding & ClipChildren/","text":"clipToPaddingå’ŒclipChidrenå¯ä»¥ç”¨æ¥æ”¹å˜å­è§†å›¾çš„æ ·å¼å’Œè¡Œä¸º clipToPaddingå­—é¢æ„æ€æ˜¯æ ¹æ®paddingæ¥è£å‰ªè§†å›¾ï¼Œå¦‚padding_top = 20dpï¼Œé‚£ä¹ˆå­è§†å›¾ä»ä¸Šè¾¹è·20dpå¼€å§‹ç»˜åˆ¶ã€‚æ—¢ç„¶æ˜¯paddingç›¸å…³ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨åœ¨viewGroupé‡Œï¼Œå°¤å…¶æ˜¯å¯ä»¥æ»šåŠ¨çš„recyclerViewï¼ŒscrollViewç­‰æ§åˆ¶ä¸Šä¸‹è¾¹è·ã€‚ 1ï¼ŒclipToPadding=â€trueâ€ 123456789101112131415161718192021222324252627&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"400dp\" android:paddingTop=\"16dp\" android:clipToPadding=\"true\" android:background=\"@android:color/holo_blue_bright\" android:orientation=\"vertical\"&gt; &lt;LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt; &lt;Button android:layout_width=\"match_parent\" android:layout_height=\"300dp\" android:text=\"button1\"/&gt; &lt;Button android:layout_width=\"match_parent\" android:layout_height=\"300dp\" android:layout_marginTop=\"16dp\" android:text=\"button2\"/&gt; &lt;/LinearLayout&gt;&lt;/ScrollView&gt; 2ï¼ŒclipToPadding=â€falseâ€ 123456789101112131415161718192021222324252627&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"400dp\" android:paddingTop=\"16dp\" android:clipToPadding=\"false\" android:background=\"@android:color/holo_blue_bright\" android:orientation=\"vertical\"&gt; &lt;LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"&gt; &lt;Button android:layout_width=\"match_parent\" android:layout_height=\"300dp\" android:text=\"button1\"/&gt; &lt;Button android:layout_width=\"match_parent\" android:layout_height=\"300dp\" android:layout_marginTop=\"16dp\" android:text=\"button2\"/&gt; &lt;/LinearLayout&gt;&lt;/ScrollView&gt; clipChildrenæ˜¯å¦è£å‰ªå­è§†å›¾ï¼Œé»˜è®¤æ˜¯trueï¼Œä¸€èˆ¬æƒ…å†µå­è§†å›¾éƒ½åœ¨çˆ¶è§†å›¾é‡Œå±•ç¤ºã€‚ä¹Ÿæœ‰äº›ç‰¹åˆ«æƒ…å†µæŸä¸ªè§†å›¾éœ€è¦çªå‡ºæ¥ï¼Œæ¯”å¦‚æœ‰äº›floatButtonéœ€è¦çªå‡ºåŠè¾¹ï¼Œè¿™æ—¶éœ€è¦è®¾ç½®ä¸ºfalseã€‚ä¸€èˆ¬åœ¨root viewé‡Œè®¾ç½®ã€‚ 1ï¼ŒclipChildren=â€trueâ€ 12345678910111213141516171819202122&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"400dp\" android:background=\"@android:color/holo_blue_bright\" android:orientation=\"vertical\" android:clipChildren=\"true\" android:paddingTop=\"16dp\"&gt; &lt;LinearLayout android:layout_width=\"200dp\" android:background=\"@android:color/white\" android:layout_height=\"100dp\" android:orientation=\"vertical\"&gt; &lt;Button android:layout_width=\"600dp\" android:layout_height=\"300dp\" android:text=\"button1\"/&gt; &lt;/LinearLayout&gt;&lt;/ScrollView&gt; 2ï¼ŒclipChildren=â€falseâ€ 12345678910111213141516171819202122&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"400dp\" android:background=\"@android:color/holo_blue_bright\" android:orientation=\"vertical\" android:clipChildren=\"false\" android:paddingTop=\"16dp\"&gt; &lt;LinearLayout android:layout_width=\"200dp\" android:background=\"@android:color/white\" android:layout_height=\"100dp\" android:orientation=\"vertical\"&gt; &lt;Button android:layout_width=\"600dp\" android:layout_height=\"300dp\" android:text=\"button1\"/&gt; &lt;/LinearLayout&gt;&lt;/ScrollView&gt; åŸç†ä¸Šé¢ä¸¤ä¸ªå±æ€§éƒ½åœ¨viewGroupï¼Œæ‰€ä»¥ç›´æ¥çœ‹æºç ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªmGroupFlagså±æ€§ï¼Œæœ‰clipToPaddingçš„èµ‹å€¼ï¼Œé‡‡ç”¨çš„ä½æ ‡è®°ï¼Œåœ¨äº‹ä»¶åˆ†å‘æ–¹æ³•dispatchTouchEventæœ‰ç›¸åº”é€»è¾‘æ¥åˆ¤æ–­äº‹ä»¶æ˜¯å¦å“åº”ï¼Œåœ¨dispatchDrawé‡Œåˆ¤æ–­æ˜¯å¦éœ€è¦ç»˜åˆ¶ã€‚ å‚è€ƒhttps://stackoverflow.com/questions/40953049/android-what-does-the-cliptopadding-attribute-do/40955714#40955714"},{"title":"HashMap","date":"2019-09-16T04:41:00.000Z","path":"2019/09/16/2019/HashMap/","text":"HashMapåœ¨Javaé‡Œæ˜¯å¾ˆå¸¸ç”¨çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œä»Šå¤©æ¥ç™½è¯ä¸€ä¸‹ å®šä¹‰HashMap åœ¨Javaä¸­ç”¨æ¥å­˜æ”¾Key-Valueï¼Œä½œç”¨ç±»æ¯”Pythonçš„dictionaryå’ŒJavascriptçš„objectã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯å—ï¼ŒæŸ¥è¯¢å’Œæ’å…¥çš„å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆ1ï¼‰ï¼Œå†…å­˜å¼€é”€ä¹Ÿæ˜¯ç¨³å®šçš„ã€‚ ç”¨æ³•123Map map = new HashMap&lt;String, Activity&gt;(4);map.put(\"a\", AnimationActivity());map.get(\"a\"); å“ˆå¸Œå’Œæ•£åˆ—è¿™ä¿©ä¸ªè¯æ˜¯å•¥å…³ç³»ï¼Ÿemmmrï¼Œå¥½æ¯”è¥¿çº¢æŸ¿å’Œç•ªèŒ„å§ã€‚ä¸€ä¸ªæ˜¯hashçš„éŸ³è¯‘ä¸€ä¸ªæ˜¯æ„è¯‘ã€‚æ‰€ä»¥å¬åˆ°ä»€ä¹ˆå“ˆå¸Œè¡¨å’Œæ•£åˆ—è¡¨ä¸è¦å¥‡æ€ªï¼Œå®ƒä»¬éƒ½åœ¨è¯´åŒä¸€ä¸ªä¸œè¥¿ï¼Œå“ˆå¸Œè¡¨å«æ³•çš„æœ€æ—©æ¥æºå¯èƒ½æ˜¯hashmapé‡Œçš„ Node&lt;K,V&gt;[] table.æ²¡é”™å“ˆå¸Œè¡¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ˜¯å®ƒcurdæ“ä½œå¤æ‚åº¦Oï¼ˆ1ï¼‰çš„åŸºçŸ³ã€‚ å–æ¨¡&amp;å–ä½™æ­£æ•°æ²¡æœ‰å·®åˆ«ï¼ŒåŒºåˆ«åœ¨äºè´Ÿæ•°å‘0å–ä½™ï¼Œè¿œç¦»0å–æ¨¡ 12347 mod 4 = 3ï¼ˆå•† = 1 æˆ– 2ï¼Œ1&lt;2ï¼Œå–å•†=1ï¼‰-7 mod 4 = 1ï¼ˆå•† = -1 æˆ– -2ï¼Œ-2&lt;-1ï¼Œå–å•†=-2ï¼‰7 mod -4 = -1ï¼ˆå•† = -1æˆ–-2ï¼Œ-2&lt;-1ï¼Œå–å•†=-2ï¼‰-7 mod -4 = -3ï¼ˆå•† = 1æˆ–2ï¼Œ1&lt;2ï¼Œå–å•†=1ï¼‰ å“ˆå¸Œå€¼Javaæ‰€æœ‰ç±»ç¥–å®—éƒ½æ˜¯Objectï¼ŒObjecté‡Œæä¾›äº†hashCodeï¼ˆï¼‰çš„é»˜è®¤å®ç°ã€‚hashCodeåˆæ˜¯é€šè¿‡identityHashCodeè·å–ï¼ŒidentityHashCodeæ˜¯ä¸€ä¸ªnativeæ–¹æ³•ï¼Œæ ¹æ®å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€è¿ç®—å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™hashCodeæ¥è¦†ç›–è¿™ä¸ªå€¼ï¼Œä½†System.identityHashCode()è¿”å›çš„å€¼æ˜¯ä¸å˜çš„ï¼ˆå†…å­˜æ²¡å˜çš„è¯ï¼‰ã€‚ 12345678910111213141516String a = \"test\"String b = \"test\"// æ‰“å°è¿™ä¸¤ä¸ªå€¼çš„hashcodeå‘ç°æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ˜¯ç¬¦åˆæˆ‘ä»¬çš„å®é™…ä½¿ç”¨åœºæ™¯çš„ï¼Œå¯è§Stringçš„hashCodeæ˜¯æœ‰é‡å†™è¿‡ã€‚// æŸ¥çœ‹æºç ï¼Œå¯ä»¥çœ‹åˆ°Stringçš„hashCodeæ˜¯åŸºäºå†…å®¹è¿ç®—å¾—åˆ°ã€‚public int hashCode() &#123; int h = hash; final int len = length(); if (h == 0 &amp;&amp; len &gt; 0) &#123; for (int i = 0; i &lt; len; i++) &#123; h = 31 * h + charAt(i); &#125; hash = h; &#125; return h; &#125; é‡å†™hashCodeä¸ºä»€ä¹ˆè¦é‡å†™hashCodeï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬å¸Œæœ›å¯¹è±¡çš„hashCodeå¯ä»¥æŒä¹…ï¼Œå¯¹è±¡ä¸å˜hashCodeä¹Ÿä¸å˜ã€‚ä½†æ˜¯ObjectåŸºäºå†…å­˜å¾—åˆ°çš„hashCodeæ˜¯ä¼šè·Ÿç€å†…å­˜åœ°å€ç”±äºå„ç§åŸå› å˜åŒ–çš„ï¼ˆæ¯”å¦‚GCï¼‰ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦é‡å†™hashCodeï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸‰ç‚¹ï¼šç¨³å®šæ€§ï¼ˆhashå€¼å’Œå¯¹è±¡å±æ€§ç›¸å…³ï¼‰ï¼›è¦å—ï¼›è¦ç¦»æ•£ï¼ŒEffective javaæœ‰ä»¥ä¸‹å»ºè®®ï¼š åŸŸç±»å‹ è®¡ç®— boolean c=(f?0:1) byte,char,short,int c=(int)f long c=(int)(f^(f&gt;&gt;&gt;32)) float c=Float.floatToIntBits(f) double long l = Double.doubleToLongBits(f)c=(int)(l^(l&gt;&gt;&gt;32)) æ•°ç»„ å¯¹æ¯ä¸ªå…ƒç´ åˆ†åˆ«è®¡ç®— Result = 31 * result + c å®ç°HashMapæœ‰ä»¥ä¸Šè¿™äº›å‚¨å¤‡ï¼Œæˆ‘ä»¬è‡ªå·±ä¹Ÿå¯ä»¥å®ç°ä¸€ä¸ªHashMapäº† 1231ï¼Œå®ä¾‹åŒ–ä¸€ä¸ªæ•°ç»„Object [] table2ï¼Œå†™ä¸€ä¸ªgetTableIndexæ–¹æ³•ï¼Œç”¨Object.hashCode() å¯¹æ•°ç»„é•¿åº¦å–æ¨¡3ï¼Œæ‹¿åˆ°indexå°±å¯ä»¥å¯¹tableæ•°ç»„è¿›è¡Œcurdæ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(1) å®ç°ç®€å•ï¼Œä½†é—®é¢˜å¾ˆæ˜æ˜¾ï¼Œå®é™…ä¸Šè¿™æ ·å®ç°çš„HashMapæ•ˆç‡ä¼šéå¸¸ä½ï¼ŒåŸå› æ˜¯ï¼š 1231ï¼Œæ²¡è€ƒè™‘resizeï¼Œè€Œå®é™…æƒ…å†µä¸­HashMapéœ€è¦ç»å¸¸åŠ¨æ€resizeï¼Œè¿™æ ·æ‰èƒ½å…¼é¡¾æ—¶é—´å’Œç©ºé—´çš„æ•ˆç‡2ï¼Œå³ä½¿ä¸è€ƒè™‘ç©ºé—´å¤æ‚åº¦ï¼Œåˆå§‹åŒ–ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œä¸åŒçš„Objectçš„hashCodeè¿˜æ˜¯æœ‰å¯èƒ½ä¸€æ ·ï¼Œè¿™æ—¶å°±å´©äº†3ï¼Œæ²¡æ”¯æŒèŒƒå‹ï¼Œä¼šå¾ˆéš¾ç”¨ æ‰€ä»¥JDKé‡Œçš„HashMapæ˜¯é‡‡ç”¨æ•°ç»„åŠ é“¾è¡¨æ¥å®ç°ï¼ˆjava 8åé“¾è¡¨ä¼šå’Œçº¢é»‘æ ‘åŠ¨æ€å˜æ¢ï¼‰ã€‚ HashMapçš„HashHashMapçš„é‡ç‚¹åœ¨Hashï¼Œæ‰€ä»¥Hashç®—æ³•çš„è®¾è®¡å°±æ˜¯ä»é€Ÿåº¦ï¼Œæ•ˆç‡ï¼Œè´¨é‡ç»¼åˆè€ƒè™‘æ¥è®¾è®¡çš„ 123456789// 1ï¼Œå–hashCode// 2ï¼Œé«˜ä½å‚ä¸è¿ç®—ï¼Œè¿™ä¸»è¦æ˜¯è®©hashæ›´ç¦»æ•£ï¼Œæé«˜hashè´¨é‡static final int hash(Object key) &#123; int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); &#125; // 3ï¼Œç”¨ä½è¿ç®—ä»£æ›¿å–æ¨¡ tab[i = (n - 1) &amp; hash] èƒ½ç”¨ä½è¿ç®—ä»£æ›¿å–æ¨¡çš„å‰ææ˜¯nå¿…é¡»æ˜¯2çš„æ•´æ•°æ¬¡æ–¹ï¼Œæºç å¯¹tableæ•°ç»„çš„sizeä¹Ÿç¡®å®åšäº†é™åˆ¶ï¼Œè€Œä¸”å¯¹reszieä¹Ÿæœ‰å¸®åŠ©ï¼Œæ–°ä½ç½® = åŸä½ç½® + åŸsize 12345678910// ä½è¿ç®—æ¯”ä¸€èˆ¬çš„å–æ¨¡è¿ç®—æ•ˆç‡æ›´é«˜æ˜¯å› ä¸ºå–æ¨¡éœ€è¦åšé™¤æ³•ï¼Œè§¦å‘å™¨è¿ç®—è¦å¤šä¸€ä¸ªcpuæ—¶é’Ÿ static final int tableSizeFor(int cap) &#123; int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1; &#125; HashMap çº¿ç¨‹å®‰å…¨HashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåœ¨resizeæ—¶å¯èƒ½ä¼šå‡ºç°ç¯å½¢é“¾è¡¨ï¼Œè¿™æ—¶å°±æ­»å¾ªç¯äº†ã€‚å¤šçº¿ç¨‹ä¸‹ä¸€èˆ¬æ¨èä½¿ç”¨ConcurrentHashMapã€‚ åˆå§‹å˜é‡123456static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30;static final float DEFAULT_LOAD_FACTOR = 0.75f;static final int TREEIFY_THRESHOLD = 8;static final int UNTREEIFY_THRESHOLD = 6;static final int MIN_TREEIFY_CAPACITY = 64;"},{"title":"ImageView ScaleType and Transition","date":"2019-09-08T15:31:00.000Z","path":"2019/09/08/2019/ImageView/","text":"ImageView æ˜¯å¾ˆå¸¸ç”¨çš„æ§ä»¶ï¼Œè®°å½•ä¸‹ScaleTypeå’ŒTransition animation ImageView ScaleType 1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:layout_width=&quot;match_parent&quot; android:id=&quot;@+id/faceLayout&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;Button android:id=&quot;@+id/button2&quot; android:layout_width=&quot;0dp&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Button&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; 1234// è¿™ä¸‰ä¸ªå±æ€§å°½é‡æ­é…ä¸€èµ·ä½¿ç”¨ï¼Œé™¤äº†centerå’Œmatrixï¼Œå…¶ä»–æ•ˆæœéƒ½ä¸€è‡´ï¼Œæ˜¾ç¤ºæ­£å¸¸ä¸æ‹‰ä¼¸çš„å›¾ç‰‡ã€‚android:layout_width=&quot;0dp&quot;android:layout_height=&quot;wrap_content&quot;android:adjustViewBounds=&quot;true&quot; ImageView Transitionhttps://medium.com/@andkulikov/animate-all-the-things-transitions-in-android-914af5477d50 1ï¼Œæ”¹å˜å›¾ç‰‡å±æ€§ 12345678910val animator = ValueAnimator.ofFloat(0f, 1f) animator.duration = Constants.ThrottleDuration.NORMAL animator.addUpdateListener &#123; animation -&gt; val animatorValue = animation.animatedValue as Float videoView.translationX = 50 * animatorValue videoView.translationY = 100 * animatorValue videoView.scaleX = 1f - 0.8f * animatorValue videoView.scaleY = 1f - 0.5f * animatorValue &#125; animator.start() 2ï¼Œåˆ©ç”¨transitionæ”¹å˜layoutParams 1234567891011121314151617181920212223242526272829val marginHorizontal = UtilResource.getDimensionPixelSize(R.dimen.margin_horizontal) val container = mRoot.transitionLayout val transitionSet = TransitionSet() .addTransition(ChangeBounds()) .addTransition(ChangeImageTransform()).addListener(object : TransitionListenerAdapter()&#123; override fun onTransitionStart(transition: Transition) &#123; super.onTransitionStart(transition) UtilLog.d(sTAG, &quot;------full start &quot;) &#125; override fun onTransitionEnd(transition: Transition) &#123; super.onTransitionEnd(transition) UtilLog.d(sTAG, &quot;------full end&quot;) &#125; &#125;) TransitionManager.beginDelayedTransition(container, transitionSet) val params = videoView.layoutParams as ViewGroup.MarginLayoutParams UtilLog.d(sTAG, &quot;------full $isScale $params&quot;) params.height = if (isScale) ViewGroup.LayoutParams.MATCH_PARENT else ViewGroup.LayoutParams.WRAP_CONTENT if (isScale) &#123; params.setMargins(0, 0, 0, 0) &#125; else &#123; params.setMargins(marginHorizontal, marginHorizontal, marginHorizontal, 0) &#125; videoView.layoutParams = params (videoView as ImageView).scaleType = if (isScale) ImageView.ScaleType.CENTER_CROP else ImageView.ScaleType.FIT_START"},{"title":"ConstraintLayout IN Jetpack","date":"2019-09-01T16:30:00.000Z","path":"2019/09/02/2019/ConstraintLayout IN Jetpack/","text":"æ›¾ç»Androidå¸ƒå±€å°±ä¸€æŠŠæ¢­ï¼ŒRelativeLayout+LinearLayoutï¼Œç›´åˆ°ç”¨ConstraintLayoutå†™äº†å‡ ä¸ªé¡µé¢åå‘ç°æ˜¯çœŸçš„é¦™ï¼Œç°åœ¨ä»»ä½•å¸ƒå±€ç¬¬ä¸€é€‰æ‹©éƒ½æ˜¯å®ƒã€‚ ConstraintLayoutæ˜¯ä»€ä¹ˆï¼Ÿ å®ƒå±äºAndroid JetPackï¼Œå½“å‰ç‰ˆæœ¬implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39; ä½œç”¨æ˜¯å¯ä»¥å‡å°‘è§†å›¾å¸ƒå±€å±‚çº§ï¼Œå¾ˆå¤æ‚çš„é¡µé¢ä¸€èˆ¬ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå±‚çº§èƒ½æå®š å“åº”å¼å¸ƒå±€ä»£ç æ›´å¥å£®ï¼Œè½»æ¾é€‚é…ä¸åŒåˆ†è¾¨ç‡ æ›´å¥½çš„å¯è§†åŒ–æ“ä½œï¼Œé€šè¿‡Android Studioçš„Layout Editorå°±å¯ä»¥å®æ—¶æ‹–åŠ¨ç¼–è¾‘å¹¶é¢„è§ˆå¸ƒå±€æ•ˆæœ åŸºæœ¬ç”¨æ³•é—®ï¼šå¸ƒå±€åŸºæœ¬ä¸‰è¦ç´ æ˜¯ä»€ä¹ˆï¼Ÿ ç­”ï¼šä½ç½®ï¼Œå¯¹é½ï¼Œå¤§å°ã€‚ 1ï¼Œä½ç½®ï¼ŒViewæ”¾åœ¨å“ªé‡ŒConstraintLayoutçš„åšæ³•å’ŒRelativeLayoutæ˜¯å·®ä¸å¤šçš„ï¼Œå®é™…ä½¿ç”¨èµ·æ¥Constraint Layoutçš„å­—æ®µè¯­ä¹‰æ›´ç¬¦åˆç›´è§‰ã€‚ Relative Layout Constraint Layout å‚ç›´å±…ä¸­ android:layout_centerVertical=â€trueâ€ app:layout_constraintBottom_toBottomOf=â€parentâ€ app:layout_constraintTop_toTopOf=â€parentâ€ å±…ä¸‹ android:layout_below=â€@id/viewâ€ app:layout_constraintTop_toBottomOf=â€@id/viewâ€ å±…å³ android:layout_toEndOf=â€@id/viewâ€ app:layout_constraintStart_toEndOf=â€@id/viewâ€ 2ï¼Œå¯¹é½ï¼Œæ•´æ•´é½é½è¿˜æ˜¯é”™è½æœ‰è‡´ï¼Œå½“ç„¶æ˜¯éƒ½è¦ä¸¥æ ¼æ¥è®²Relative Layouté‡Œé¢çš„å­Viewä¹‹é—´æ˜¯æ— æ³•ç›¸äº’å¯¹é½çš„ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥é—´æ¥åšåˆ°ï¼šæ˜¯åŸºäºçˆ¶è§†å›¾å¯¹é½å’ŒåµŒå¥—ä¸€ä¸ªViewGroupæ¯”å¦‚LinearLayoutæ¥å¯¹é½ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå³ä½¿ç”¨Relative Layoutåšçš„å¸ƒå±€ä¹Ÿå¾ˆå¯èƒ½å±‚æ•°è¿‡å¤šï¼Œå‡ºç°overDrawã€‚è€ŒConstraintLayoutå°±å¾ˆä¼˜é›…äº†ï¼Œè¦é¢†å°±æ˜¯Start_toStartOfï¼ŒEnd_toEndOfï¼ŒTop_toTopOfï¼ŒBottom_toBottomOfä¸¤ä¸¤ç»“å¯¹å‡ºç°å°±è¡Œã€‚ 123456789101112131415161718192021222324252627// ä¸Šå›¾ç¤ºä¾‹ï¼ŒåŸºäºViewæ°´å¹³å¯¹é½&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;Button android:id=\"@+id/btn1\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"Button test\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt; &lt;Button android:id=\"@+id/btn2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"btn2\" app:layout_constraintEnd_toEndOf=\"@id/btn1\" app:layout_constraintStart_toStartOf=\"@id/btn1\" app:layout_constraintTop_toBottomOf=\"@id/btn1\"/&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout 1234567891011121314151617181920212223242526272829// åŸºäºViewå‚ç›´å¯¹é½&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;Button android:id=\"@+id/btn1\" android:layout_width=\"wrap_content\" android:layout_marginTop=\"50dp\" android:layout_height=\"wrap_content\" android:text=\"Button test\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt; &lt;Button android:id=\"@+id/btn2\" android:layout_width=\"wrap_content\" android:layout_height=\"40dp\" android:layout_marginStart=\"10dp\" android:text=\"btn2\" app:layout_constraintBottom_toBottomOf=\"@id/btn1\" app:layout_constraintStart_toEndOf=\"@id/btn1\" app:layout_constraintTop_toTopOf=\"@id/btn1\"/&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; 3ï¼Œå¤§å°æ§åˆ¶åŸºæœ¬ç”¨æ³•å’Œæ™®é€šViewGroupä¸€è‡´ï¼Œæ— éå°±æ˜¯wrap_content,0dp,margin,paddingè¿™äº›æ¥æ§åˆ¶Viewå¤§å°ã€‚ ç†Ÿç»ƒæŒæ¡è¿™äº›ï¼Œå·²ç»å¯ä»¥æ„‰å¿«çš„å’ŒConstraintLayoutç©èµ·æ¥äº†ï¼Œæ…¢æ…¢çš„ä¹Ÿèƒ½ä½“ä¼šåˆ°å®ƒçš„ç²¾å¦™ä¹‹å¤„ï¼Œå½“ç„¶Constraintlayoutè¿˜æœ‰äº›è¿›é˜¶ç”¨æ³•ã€‚ è¿›é˜¶ç”¨æ³•1ï¼ŒGuidelineï¼ˆå¯ä»¥å½±å“Viewçš„ä½ç½®ï¼Œå¤§å°ï¼Œå¯¹é½æ–¹å¼ï¼‰ 1234567891011121314// ä¸å¯è§çš„è¾…åŠ©å¸ƒå±€çº¿ï¼Œæ°´å¹³å’Œå‚ç›´ï¼Œæ•°å€¼å’Œç™¾åˆ†æ¯”éƒ½æ”¯æŒï¼Œå¸¸ç”¨æ¥åˆ‡å‰²é¡µé¢ï¼Œè¾…åŠ©å¸ƒå±€&lt;androidx.constraintlayout.widget.Guideline android:id=\"@+id/guideline2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\" app:layout_constraintGuide_percent=\"0.27980536\"/&gt;&lt;androidx.constraintlayout.widget.Guideline android:id=\"@+id/guideline3\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:orientation=\"horizontal\" app:layout_constraintGuide_begin=\"171dp\"/&gt; 2ï¼ŒBarrierï¼ˆä¸»è¦å½±å“Viewçš„ä½ç½®ï¼‰ 123456789101112131415161718192021222324252627282930313233343536// åŒæ ·æ˜¯ä¸å¯è§çš„è¾…åŠ©å¸ƒå±€çº¿ï¼ŒåŒºåˆ«äºGuidelineï¼Œå®ƒè‡ªå·±ä¸å®šä¹‰ä½ç½®ï¼Œè€Œä¸”æ ¹æ®å®ƒç»‘å®šçš„ViewåŠ¨æ€ç¡®å®šä½ç½®// å³è¾¹çš„Cå§‹ç»ˆè·ç¦»å·¦è¾¹çš„Aï¼ŒBæœ‰ä¸€ä¸ªå›ºå®šçš„è·ç¦»margin// barrierDirection æŒ‡å®š barrierç›¸å¯¹äºç»‘å®šViewçš„æ–¹ä½// constraint_referenced_ids æŒ‡å®šç»‘å®šå­Viewçš„idï¼Œç”¨é€—å·åˆ†éš” &lt;Button android:id=\"@+id/btn1\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_marginTop=\"50dp\" android:text=\"Button test\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt; &lt;Button android:id=\"@+id/btn2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"btn2\" app:layout_constraintStart_toStartOf=\"@id/btn1\" app:layout_constraintTop_toBottomOf=\"@id/btn1\"/&gt; &lt;Button android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_marginStart=\"20dp\" android:text=\"btn3\" app:layout_constraintStart_toEndOf=\"@id/barrier\" app:layout_constraintTop_toTopOf=\"@id/btn1\"/&gt; &lt;androidx.constraintlayout.widget.Barrier android:id=\"@+id/barrier\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" app:barrierDirection=\"right\" app:constraint_referenced_ids=\"btn1,btn2\" /&gt; 3ï¼ŒBiasï¼ˆåç§»ï¼Œå½±å“ä½ç½®ï¼‰ 12345678910111213// Biasçš„èµ·ä½œç”¨çš„å‰ææ˜¯ï¼šæœ‰æˆå¯¹çš„æ°´å¹³çº¦æŸï¼ˆStart_toStartOfå’ŒEnd_toEndOfï¼‰æˆ–ç«–ç›´çº¦æŸï¼ˆTop_toTopOfå’Œ// Bottom_toBottomOfï¼‰ï¼Œå¹¶ä¸”viewæ²¡æœ‰è®¾ç½®wrap_contentå’Œfixedï¼ˆä¹Ÿå°±æ˜¯è¯´è¿˜æœ‰å‰©ä½™çš„ä½ç½®å¯ä¾›åç§»ï¼Œé»˜è®¤æ˜¯// å±…ä¸­ï¼‰&lt;Button android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginStart=&quot;20dp&quot; android:layout_marginEnd=&quot;8dp&quot; android:text=&quot;btn3&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintHorizontal_bias=&quot;0.4&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt; 4ï¼ŒChainï¼ˆé“¾æ¡ï¼Œå½±å“ä½ç½®å’Œå¯¹é½ï¼‰åœ¨ConstraintLayoutä¸­ç”Ÿæˆä¸€ä¸ªé“¾æ¡ï¼Œæœ€å°‘åªéœ€è¦ä¸¤ä¸ªViewç›¸äº’æŒ‡å®šConstraintã€‚ä½œç”¨ç±»ä¼¼äºFlex å¸ƒå±€ä¸­çš„è½´axisã€‚ 1234567891011121314151617&lt;Button android:id=\"@+id/button2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"Button\" app:layout_constraintEnd_toStartOf=\"@+id/button3\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt; &lt;Button android:id=\"@+id/button3\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"Button\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toEndOf=\"@+id/button2\" app:layout_constraintTop_toTopOf=\"parent\"/&gt; Chainæ—¢ç„¶åƒFlexï¼Œé‚£ç¡®å®æ˜¯å¯ä»¥åƒFlexç±»ä¼¼çš„ç”¨çš„ï¼š 123456789101112131415161718192021222324252627282930313233// layout_constraintHorizontal_chainStyle é»˜è®¤æ˜¯spreadï¼Œè¿˜æœ‰Packedå’ŒSpread Insideå¯ä»¥é€‰ï¼Œ// layout_constraintHorizontal_weight å’ŒLearnelayoutçš„weightä¸€æ ·ç”¨æ³•ï¼Œéœ€è¦0dpï¼ˆmatch_constraintï¼‰ &lt;Button android:id=&quot;@+id/button2&quot; android:layout_width=&quot;0dp&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Button&quot; app:layout_constraintHorizontal_chainStyle=&quot;spread&quot; app:layout_constraintEnd_toStartOf=&quot;@+id/button3&quot; app:layout_constraintHorizontal_weight=&quot;1&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt; &lt;Button android:id=&quot;@+id/button3&quot; android:layout_width=&quot;0dp&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Button&quot; app:layout_constraintHorizontal_weight=&quot;2&quot; app:layout_constraintEnd_toStartOf=&quot;@id/button4&quot; app:layout_constraintStart_toEndOf=&quot;@+id/button2&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt; &lt;Button android:id=&quot;@+id/button4&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Button&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintStart_toEndOf=&quot;@id/button3&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt; 5ï¼ŒRatioï¼ˆæ¯”ä¾‹ï¼Œå½±å“å¤§å°ï¼‰123456// æ ¹æ®å®½é«˜æ¯”ä¾‹è‡ªé€‚åº”Viewå¤§å°ï¼Œè‡³å°‘ä¸€ä¸ªè¢«è®¾ä¸º0dpï¼ˆmatch_constraintï¼‰,ä¸‹é¢çš„ä»£ç ä½ å°†æ”¶è·ä¸€ä¸ªå…¨å±çš„æŒ‰é’®&lt;Button android:layout_width=&quot;0dp&quot; android:layout_height=&quot;0dp&quot; app:layout_constraintDimensionRatio=&quot;H,16:9&quot; app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt; 6ï¼ŒVisibility behaviorï¼ˆå½±å“ä½ç½®ï¼‰ 123// å¦‚ä¸Šå›¾ï¼ŒAçš„margin_start 16,Bçš„margin_start 20,é‚£Aå˜goneäº†ï¼ŒBå¸Œæœ›start marginåŠ å¤§ä¸€ç‚¹ï¼Œåªéœ€è¦// åŠ ä¸€å¥app:layout_goneMarginStart=\"@dimen/margin_26\" 7ï¼ŒCircular positioningï¼ˆå½±å“ä½ç½®ï¼‰ 123456// æ¯”è¾ƒå°‘èƒ½ç”¨ä¸Šï¼ŒåŸç†å°±æ˜¯Aæ ¹æ®åŸç‚¹åŠå¾„å’Œè§’åº¦æ¥å®šä½B&lt;Button android:id=\"@+id/buttonA\" ... /&gt; &lt;Button android:id=\"@+id/buttonB\" ... app:layout_constraintCircle=\"@+id/buttonA\" app:layout_constraintCircleRadius=\"100dp\" app:layout_constraintCircleAngle=\"45\" /&gt; 8ï¼ŒKeyframe animationsï¼ˆå½±å“å¤§å°ï¼Œä½ç½®ï¼Œä½†ä¸ä¼šæ”¹å˜é¢œè‰²ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// MotionLayoutæ‰æ˜¯å®Œå…¨ä½“ï¼Œä¸è¿‡è¿™ä¸ªä¹Ÿå¾ˆç®€å•å¥½ç”¨äº†// MainActivity.ktprivate lateinit var constraintLayout: ConstraintLayoutfun onCreate(savedInstanceState: Bundle?) &#123; super.onCreate(savedInstanceState) setContentView(R.layout.keyframe_one) constraintLayout = findViewById(R.id.constraint_layout) // member variable&#125;fun animateToKeyframeTwo() &#123; val constraintSet = ConstraintSet() constraintSet.load(context, R.layout.fragment_key_2) TransitionManager.beginDelayedTransition(constraintLayout) constraintSet.applyTo(constraintLayout)&#125;// layout/keyframe1.xml&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:layout_width=\"match_parent\" android:id=\"@+id/faceLayout\" android:layout_height=\"match_parent\"&gt; &lt;Button android:id=\"@+id/button2\" android:layout_width=\"0dp\" android:layout_height=\"wrap_content\" android:text=\"Button\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;// layout/keyframe2.xml// Keyframe 2 contains another ConstraintLayout with the final positions&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:id=\"@+id/keyLayout\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;Button android:id=\"@+id/button2\" android:layout_width=\"0dp\" android:layout_height=\"wrap_content\" android:text=\"Button\" app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"/&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; æ€»ç»“ï¼šç”¨è¿‡å°±å›ä¸å»äº†ï¼Œæ²¡æœ‰Constraintlayoutç”šè‡³ä¸ä¼šå¸ƒå±€ã€‚ å‚è€ƒhttps://developer.android.com/reference/android/support/constraint/ConstraintLayout#VirtualHelpers https://developer.android.com/training/constraint-layout#constrain-to-a-barrier"},{"title":"Hexo+Github Pages CDN & HTTPS","date":"2019-08-18T13:03:00.000Z","path":"2019/08/18/2019/Hexo+Github Pages CDN & HTTPS /","text":"åœ¨Hexoå’ŒGithub Pagesçš„åŠ æŒä¸‹ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åªä¸“æ³¨åœ¨å†™Blogä¸Šï¼Œè€Œä¸ç”¨é¢å¤–çš„ç²¾åŠ›ç®¡ç½‘ç«™å‘å¸ƒå’Œè¿è¥ã€‚ä¸€èµ·çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œç„¶è€Œï¼Œä¸€æ®µæ—¶é—´è¿‡å»äº†ï¼Œä¼šå‘ç°æ–‡ç« æ²¡å†™å‡ ç¯‡ï¼Œç½‘ç«™å€’æ˜¯å¡æˆå§¥çˆ·ï¼Œæµè§ˆå™¨è¿˜ä¸€ç›´æ˜¾ç¤ºä¸å®‰å…¨ã€‚éœ€è¦ä¸€äº›æ‰‹æ®µæ¥è§£å†³ä¸‹ã€‚ åè¯æ¦‚å¿µCDNå…¨ç§°æ˜¯Content Delivery Networkï¼Œæœ€å°CDNç½‘ç»œå¯ä»¥ç”±ä¸€ä¸ªDNSæœåŠ¡å™¨å’Œå‡ å°ç¼“å­˜æœåŠ¡å™¨ç»„æˆï¼Œä¸åŒåœ°åŒºçš„è®¿é—®è¯·æ±‚ï¼ŒCDNä¼šæ™ºèƒ½å®‰æ’æœ€è¿‘çš„æœåŠ¡å™¨å“åº”ï¼Œè€Œä¸”è¿˜æœ‰Cacheæ¥åŠ é€Ÿã€‚æ‰€ä»¥CDNçš„æ•ˆæœå–å†³äºDNSæœåŠ¡å™¨è°ƒåº¦ç®—æ³•å’Œç¼“å­˜æœåŠ¡å™¨çš„æ•°é‡ä»¥åŠè´¨é‡ï¼ŒCDNçš„ä½œç”¨åŸŸæ˜¯åŸŸåè€Œä¸æ˜¯æœåŠ¡å™¨ã€‚ DNSDomain Name Systemæ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ï¼Œå®ƒä½œä¸ºåŸŸåå’ŒIPåœ°å€äº’ç›¸æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè®©ç”¨æˆ·æ›´æ–¹ä¾¿è®¿é—®äº’è”ç½‘ã€‚äº’è”ç½‘é€šä¿¡æ˜¯åªè®¤IPåœ°å€çš„ï¼Œä½†ä¸€ä¸²æ•°å­—äººæ˜¯è®°ä¸ä½çš„ï¼Œäººå®¹æ˜“è®°ä½çš„æ˜¯apple.comè¿™æ ·çš„å•è¯ï¼Œè¿™ä¸ªå«åŸŸåï¼Œè®©ç”µè„‘çŸ¥é“apple.comå°±æ˜¯è¦è®¿é—®122.224.45.229ï¼Œå°±é€šè¿‡DNSåŸŸåè§£æç³»ç»Ÿã€‚DNSç³»ç»Ÿä¸­ï¼Œå¸¸è§çš„èµ„æºè®°å½•ç±»å‹æœ‰ï¼š ä¸»æœºè®°å½•ï¼ˆAè®°å½•ï¼‰ï¼šRFC 1035å®šä¹‰ï¼ŒAè®°å½•æ˜¯ç”¨äºåç§°è§£æçš„é‡è¦è®°å½•ï¼Œå®ƒå°†ç‰¹å®šçš„ä¸»æœºåæ˜ å°„åˆ°å¯¹åº”ä¸»æœºçš„IPåœ°å€ä¸Šã€‚ åˆ«åè®°å½•ï¼ˆCNAMEè®°å½•ï¼‰: RFC 1035å®šä¹‰ï¼ŒCNAMEè®°å½•ç”¨äºå°†æŸä¸ªåˆ«åæŒ‡å‘åˆ°æŸä¸ªAè®°å½•ä¸Šï¼Œè¿™æ ·å°±ä¸éœ€è¦å†ä¸ºæŸä¸ªæ–°åå­—å¦å¤–åˆ›å»ºä¸€æ¡æ–°çš„Aè®°å½•ã€‚ IPv6ä¸»æœºè®°å½•ï¼ˆAAAAè®°å½•ï¼‰: RFC 3596å®šä¹‰ï¼Œä¸Aè®°å½•å¯¹åº”ï¼Œç”¨äºå°†ç‰¹å®šçš„ä¸»æœºåæ˜ å°„åˆ°ä¸€ä¸ªä¸»æœºçš„IPv6åœ°å€ã€‚ æœåŠ¡ä½ç½®è®°å½•ï¼ˆSRVè®°å½•ï¼‰: RFC 2782å®šä¹‰ï¼Œç”¨äºå®šä¹‰æä¾›ç‰¹å®šæœåŠ¡çš„æœåŠ¡å™¨çš„ä½ç½®ï¼Œå¦‚ä¸»æœºï¼ˆhostnameï¼‰ï¼Œç«¯å£ï¼ˆport numberï¼‰ç­‰ CNAMEæƒ³æƒ³ä¸ºå•¥è¦ç”¨CNAMEã€‚ç”¨æˆ·è¾“å…¥çš„æ˜¯xxx.comï¼Œæ‰“å¼€çš„æ˜¯xxx.github.ioç½‘é¡µï¼Œè¿™ä¸­é—´çš„é­”æ³•å°±æ˜¯é€šè¿‡CNAMEå®ç°çš„ï¼Œæˆ‘ä»¬åœ¨DNSåŸŸåè§£ææœåŠ¡é‡Œè®¾å®šäº†è§£æè§„åˆ™ï¼Œ*å’Œwwwå¼€å¤´çš„è®°å½•éƒ½é‡å®šå‘åˆ°hxx.github.ioåŸŸåã€‚è¿™é‡Œç”¨CNAMEçš„å¥½å¤„æ˜¯githubæ¢IPæ“ä½œå¯¹æˆ‘ä»¬é€æ˜ï¼Œä»è€Œä¸éœ€è¦æ‰‹åŠ¨æ”¹é…ç½®ã€‚ å®æ–½æœ‰ä»¥ä¸Šå‚¨å¤‡åï¼Œå°±å¯ä»¥å¼€æäº†ã€‚è¯‰æ±‚æ˜¯CDNå’ŒHTTPSåŠ å¯†ï¼Œå› ä¸ºåŸŸåæ˜¯ä¸‡ç½‘ï¼ˆé˜¿é‡Œäº‘ï¼‰ä¹°çš„ï¼Œæ‰€ä»¥å…ˆçœ‹äº†ä¸€çœ¼é˜¿é‡Œäº‘SSLè¯ä¹¦ä»·æ ¼ï¼Œæœ€ä¾¿å®œ1256ä¸€å¹´ï¼Œemmmï¼Œè¿™ä¸ç§‘å­¦ï¼ŒBlogæˆ‘ä»¬å½“ç„¶æ˜¯è¦å…è´¹çš„ã€‚æŸ¥é˜…ä¸€ç•ªï¼ŒCloudflareè¯„ä»·ä¸é”™ã€‚ æ‰“å¼€Cloudflareçš„å®˜ç½‘ï¼Œç«Ÿç„¶å¯¹ä¸­æ–‡æœ‰æ”¯æŒï¼ŒèµğŸ‘ æ³¨å†ŒCloudflareè¿™æ­¥æ¯”è¾ƒç®€å•ï¼ŒæŒ‰æç¤ºæ³¨å†Œå°±è¡Œ é…ç½®Siteæ³¨å†ŒæˆåŠŸå°±ä¼šè®©ä½ Add Siteï¼Œ è¾“å…¥ä½ çš„åŸŸåxxx.comï¼Œé€‰å¥—é¤ï¼Œå½“ç„¶æ˜¯Free æ›´æ”¹åŸŸåå•† æ„æ€æ˜¯å»ä½ çš„åŸŸåæœåŠ¡å•†æ›´æ”¹nameserversï¼Œç†Ÿç»ƒç™»å…¥é˜¿é‡Œäº‘ï¼Œé€‰æ‹©åŸŸåç‚¹å‡»æœ€å³è¾¹åŸŸåç®¡ç† ç‚¹å‡»ä¿®æ”¹DNSï¼Œä¿®æ”¹æˆjameså¼€å¤´çš„åœ°å€å°±è¡Œï¼Œæ”¹å®Œç‚¹ä¸€ä¸‹åŒæ­¥ï¼Œä¸€èˆ¬5åˆ†é’Ÿå†…ç”Ÿæ•ˆã€‚ éªŒè¯æ˜¯å¦ç”Ÿæ•ˆå·¦ä¸Šè§’Cloudflareå›ä¸»é¡µ æˆ–è€…å‘½ä»¤è¡Œï¼šç”¨dig www.hxx.com æœç´¢ä¸€ä¸‹ip104.31.94.161ï¼Œç¡®è®¤æ˜¯Cloudflareçš„ï¼Œç°åœ¨ä½ æ‰“å¼€Blogçš„é¡µé¢é€Ÿåº¦åº”è¯¥æœ‰æ•°é‡çº§çš„æå‡ï¼ å¯¹æ¯”æ•ˆæœBeforeï¼Œ2åˆ†é’Ÿå¼€ä¸€ä¸ªç½‘é¡µï¼Œå®é™…ä¸Šæ˜¯å¯¹äººè€å¿ƒçš„ä¸€ç§è€ƒéªŒ Afterï¼Œå¯ä»¥è¯´æ˜¯ç§’å¼€äº†ï¼Œè€Œä¸”æœ‰æ— ç¿»å¢™ï¼Œæ•ˆæœä¸€è‡´ï¼Œ193ä¸ªæ•°æ®ä¸­å¿ƒä¸æ˜¯ç™½å¹çš„ï¼Œç¾æ»‹æ»‹ã€‚ åœ°å€æ æ˜¾ç¤ºä¸å®‰å…¨ æˆ‘ä»¬çš„é™æ€é¡µé¢å½“ç„¶æ˜¯ç»¿è‰²æ— å®³çš„ï¼Œä½†ç”±äºæ²¡å¼€å¯HTTPSè¢«Chromeæ ‡è®°ä¸ºä¸å®‰å…¨ã€‚æ€ä¹ˆéƒ¨ç½²HTTPSæœ‰å¥½å¤šæ–¹æ¡ˆï¼Œè¿™é‡Œä¸å¤šè®²ï¼ŒBlogæˆ‘ä»¬å°±è¦5åˆ†é’Ÿèƒ½ä¸Šæ‰‹çš„ğŸ˜ è¿˜æ˜¯Cloudflareï¼Œé€‰æ‹©Cryptoã€‚ è§£é‡Šä¸€ä¸‹å³è¾¹çš„ç±»å‹ Flexible SSLï¼šä½¿ç”¨Cloudflareæä¾›çš„å…è´¹è¯ä¹¦ï¼Œç”¨æˆ·åˆ°Cloudflareé‡‡ç”¨åŠ å¯†è¿æ¥ï¼Œä»Cloudflareåˆ°ä¸»æœºï¼ˆgithub.ioï¼‰ä¸èµ°åŠ å¯†è¿æ¥ã€‚ Full SSLï¼šéœ€è¦ä¸€ä¸ªSSLè¯ä¹¦ï¼Œä½†æ˜¯Cloudflareä¸ä¼šæ ¡éªŒè¯ä¹¦çš„æ¥æº Full SSLï¼ˆStrictï¼‰ï¼šéœ€è¦SSLè¯ä¹¦ï¼Œå¹¶ä¸”ä¼šæ ¡éªŒè¯ä¹¦çš„æ¥æºæ˜¯ä¸æ˜¯ç¬¬ä¸‰æ–¹åˆæ³•æœºæ„ç­¾ç½²é¢å‘ 1234567891011Origin Certificatesï¼Œæˆ‘ä»¬è®©Cloudflareå¸®ç”Ÿæˆä¸€ä¸ªAlways Use HTTPSï¼Œæ‰“å¼€HSTSå¯ä»¥æ‰“å¼€ï¼ŒæŒ‰ç…§å®ƒæ¨èçš„è®¾ç½®Opportunistic Encryptionï¼Œæ‰“å¼€Onion Routingï¼Œæ‰“å¼€Automatic HTTPS Rewritesï¼Œæ‰“å¼€ è¿™ä¸ªé…ç½®æ”¹åŠ¨åï¼ŒCloudflareè¡¨ç¤ºæœ€é•¿éœ€è¦24å°æ—¶ç”Ÿæ•ˆï¼Œå®é™…ä¸ŠåŠä¸ªå°æ—¶å·¦å³å°±okï¼Œç­‰å¾…æ—¶é—´å¯ä»¥ç©ç©Cloudflareçš„å…¶ä»–åŠŸèƒ½ï¼Œæ¯•ç«Ÿä¸èŠ±é’±ï¼Œæ¨èé…ç½®ä¸‹Speed åŠä¸ªå°æ—¶åå¼ºåˆ¶åˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œç¡®è®¤æ•ˆæœ å‚è€ƒhttps://www.cloudflare.com https://cloud.tencent.com/developer/article/1354904"},{"title":"Android Google Play ä¸Šè½¦æŒ‡å—","date":"2019-08-11T15:07:00.000Z","path":"2019/08/11/2019/google play ä¸Šè½¦æŒ‡å—/","text":"å¦‚æœä½ çš„Android åº”ç”¨ä¸åªåœ¨ä¸­å›½è¿è¥ï¼Œè¿˜æƒ³å›½é™…åŒ–ï¼Œæ¯”å¦‚æœåŠ¡ä¸€ä¸‹ç¾å¸äººæ°‘ï¼Œé‚£ä¸ŠGoogle Playæ˜¯å¿…é¡»çš„ã€‚è¿™é‡Œè®°å½•ä¸‹ å¿…è¦çš„å‡†å¤‡ ä¸€ä¸ªGmailå¸å·ï¼ŒGoogle Play Console ç™»å½•åªæ¥å—Googleå¸å· ä¸€å¼ æ”¯æŒå¢ƒå¤–æ”¯ä»˜çš„ä¿¡ç”¨å¡ï¼ˆvisa/mastercardï¼‰ï¼Œæ³¨å†Œéœ€è¦æ”¯ä»˜$25 æ–‡æ¡£ç†è§£-Android APP bundle æ–‡æ¡£ç†è§£-APP Signing è½¯ä»¶è‘—ä½œæƒï¼ˆä¸éœ€è¦ï¼‰ å¸å·æ³¨å†Œè¿™ä¸ªæµç¨‹éœ€è¦è‡ªå¸¦æ¢¯å­ï¼Œæ³¨å†Œåœ°å€ï¼ŒæŒ‰æç¤ºèµ°ä¸€èˆ¬æ²¡å•¥å¹ºè›¾å­ App BundleAndroidç”Ÿæ€è¿‡äº†10å¹´ï¼Œç³»ç»Ÿç¢ç‰‡åŒ–ä¸¥é‡ï¼Œåº”ç”¨è¶Šæ¥è¶Šå¤§ã€‚Googleç»ˆäºå†³å®šè¦æœ‰æ‰€æ”¹å˜äº†ï¼Œåœ¨2018å¹´ä¸­æ¨å‡ºäº†Android App Bundleè¿™ä¸ªæ–°çš„æ–‡ä»¶æ ¼å¼ã€‚æœŸæœ›æ¥è¾¾åˆ°ä¸‰ä¸ªç›®çš„ï¼š1ï¼ŒåŠ¨æ€åˆ†å‘ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·æœºå‹åŠ¨æ€ä¸‹å‘å¯¹åº”èµ„æºçš„APKï¼Œå‡å°‘åº”ç”¨åŒ…ä½“ç§¯ï¼ˆè½åiOS Nå¹´ï¼‰ï¼›2ï¼ŒåŠ¨æ€åŠŸèƒ½æ¨¡å—ï¼Œæ¯”å¦‚æ”¯ä»˜ï¼Œæ’­æ”¾è¿™ç§åŠŸèƒ½å¯ä»¥åœ¨ä½¿ç”¨æ—¶å€™åŠ¨æ€åŠ è½½ï¼›3ï¼Œåº”ç”¨å®‰å…¨ï¼Œé›†æˆApp signingï¼Œä¿è¯APPå®‰è£…å’Œå‡çº§çš„åˆæ³•æ€§ã€‚ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å• éœ€è¦Android Studio 3.2+ï¼Œå‘½ä»¤è¡Œå¯ä»¥ä½¿ç”¨bundletool æ·»åŠ Dynamic Deliveryæ”¯æŒ ç”¨ASæ‰“ä¸€ä¸ªAndroid APP bundleæ–‡ä»¶ï¼Œåœ¨ASå·¥å…·æ é€‰buildï¼Œé€‰build bundlesï¼Œæ–‡ä»¶æ ¼å¼æ˜¯.aab æµ‹è¯•aab bundleæ–‡ä»¶ ä¸Šä¼ åˆ°Google playç­¾å ä¸€ä¸ª20Mçš„æµ‹è¯•apkï¼Œä½¿ç”¨app bundleç»è¿‡google playä¸‹å‘åˆ°ç”¨æˆ·æ‰‹æœºåªæœ‰6må·¦å³ï¼Œç¾æ»‹æ»‹ã€‚ App signingç›¸å¯¹äºapkï¼ŒApp Bundleçš„aabæ˜¯ä¸€ç§æ–°çš„ä¸Šä¼ æ–‡ä»¶æ ¼å¼ï¼Œå¿…é¡»æ­é…App signingä¸€èµ·ä½¿ç”¨ã€‚Google Playæ¥ç®¡ç†å’Œä¿æŠ¤ä½ çš„åº”ç”¨ç­¾åå¯†é’¥ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç­¾åapkä»¥è¿›è¡ŒåŠ¨æ€åˆ†å‘ã€‚ æ€ä¹ˆå·¥ä½œï¼Ÿåº”ç”¨å¯†é’¥å‚¨å­˜åœ¨Googleçš„æ— å·®åˆ«åŸºå»ºæœåŠ¡ä¸­ï¼Œå¹¶æä¾›å®‰å…¨å¯é è¡Œä¿è¯ã€‚ä½¿ç”¨å¯†é’¥ç­¾åç”Ÿæˆaabæ–‡ä»¶ï¼Œaabä¸Šä¼ Google Playä¼šæ ¡éªŒå…¬å…±è¯ä¹¦æ˜¯ä¸æ˜¯æ¥è‡ªäºå—ä¿¡ä»»çš„æ¥æºï¼ˆåŒä¸€ä¸ªï¼‰ã€‚ Upload keyï¼Ÿè¿™ä¸ªæ˜¯å¯é€‰çš„ï¼Œå°±æ˜¯å¤šç”Ÿæˆä¸€ä¸ªJava keystoreï¼Œç”¨æ¥åŒºåˆ«åº”ç”¨æ‰“åŒ…ç­¾åçš„keystoreã€‚å®ƒåªç”¨åœ¨ä¸Šä¼ aabæ–‡ä»¶æ—¶åšåˆæ³•æ€§æ ¡éªŒã€‚å¦‚æœApp Signingé€‰æ‹©äº†Googleè‡ªåŠ¨ç”Ÿæˆç§é’¥ï¼Œé‚£è¿™ä¸ªupload keyä¼šæ˜¯ç¬¬ä¸€æ¬¡ä¸Šä¼ æ–‡ä»¶æ—¶çš„ç­¾åkeystoreã€‚ ç¥–ä¼ çš„ç­¾åkeyèƒ½ç”¨ï¼Ÿå¯ä»¥ï¼Œåœ¨å¼€å¯App signingæœåŠ¡æ—¶é€‰æ‹©ä¸Šæ¬¡ç¥–ä¼ çš„ç§æœ‰keystoreï¼Œç„¶åæ–°å»ºä¸€ä¸ªkeystoreç”¨æ¥ä½œä¸ºUpload keyã€‚ å„ç§key ç›¸å…³æ¦‚å¿µ Term Description App signing Google Playä½¿ç”¨è¿™ä¸ªkeyæ¥ç­¾ååˆ†å‘ç»™ç”¨æˆ·çš„apkï¼Œä½¿ç”¨app signæœåŠ¡æ—¶googleä¼šå¸®ä½ åˆ›å»ºä¸€ä¸ªï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸Šä¼ ä¸€ä¸ªå·²æœ‰çš„ã€‚ä¸€ä¸ªåº”ç”¨åªèƒ½è¢«ç­¾åä¸€æ¬¡ã€‚ Upload key ç”¨æ¥ä¿éšœaabä¸Šä¼ æ–‡ä»¶çš„åˆæ³•æ€§å’Œå®‰å…¨æ€§ï¼Œå¼ºçƒˆæ¨èæ–°å»ºä¸€ä¸ªï¼Œä¸è¦å’Œsign keyç”¨åŒä¸€ä¸ªã€‚ Certificate (.der or .pem) ä¸€ä¸ªè¯ä¹¦åŒ…å«äº†å…¬é’¥å’Œè°æ‹¥æœ‰å¯†é’¥çš„é¢å¤–è¯†åˆ«ä¿¡æ¯ Certificate fingerprint è¯ä¹¦çš„ç®€çŸ­è¡¨ç¤ºï¼Œä¸€èˆ¬æœ‰MD5ï¼ŒSHA-1ï¼ŒSHA-265 Java keystore (.jks or .keystore) å‚¨å­˜å®‰å…¨è¯ä¹¦å’Œç§é’¥çš„æ–‡ä»¶ Play Encrypt Private Key (PEPK) tool ä¸€ç§ä»Javaå¯†é’¥åº“å¯¼å‡ºç§é’¥å¹¶åŠ å¯†å®ƒä»¬ä»¥ä¾¿ä¼ è¾“åˆ°Google Playçš„å·¥å…·ã€‚ å‚è€ƒhttps://developer.android.com/guide/app-bundle https://support.google.com/googleplay/android-developer/answer/9006925?hl=en https://support.google.com/googleplay/android-developer/answer/7384423 https://medium.com/googleplaydev/what-a-new-publishing-format-means-for-the-future-of-android-2e34981793a"},{"title":"WorkManager IN Jetpack","date":"2019-08-03T15:07:00.000Z","path":"2019/08/03/2019/WorkManager IN /","text":"WorkManageræ˜¯Android Jetpackçš„æ¶æ„ç»„ä»¶ï¼ˆArchitecture componentï¼‰ä¹‹ä¸€ï¼Œå®˜æ–¹å¯¹å®ƒçš„å®šä¹‰æ˜¯ç”¨æ¥ç®¡ç†Androidåå°ä½œä¸šã€‚ ç®€å•ä¸Šæ‰‹1ï¼Œæ·»åŠ ä¾èµ– 123456789// åœ¨appçš„build.gradleé‡Œæ·»åŠ //Aï¼š Kotlin + coroutinesimplementation 'androidx.work:work-runtime-ktx:2.1.0'//Bï¼š Java onlyimplementation 'androidx.work:work-runtime:2.1.0'//Cï¼š optional - RxJava2 supportimplementation 'androidx.work:work-rxjava2:2.1.0' 2ï¼Œå®ç°ä¸€ä¸ªWorker 123456789101112131415161718192021222324252627282930// ç›¸å½“äºä¸€ä¸ªTaskclass CountNumWorker(appContext: Context, workerParams: WorkerParameters) : Worker(appContext, workerParams) &#123; private val count = inputData.getInt(COUNT, 0) private val name = inputData.getString(NAME) ?: \"bob\" override fun doWork(): Result &#123; var sum = 0 for (i in 0..count) &#123; sum += i sleep() Log.d(TAG, \"-----$name count $count || sum $sum\") &#125; return Result.success() &#125; private fun sleep() &#123; val time = Math.random() * 400 + 100 Log.d(CountNumWorker.TAG, \"----$time\") try &#123; Thread.sleep(time.toLong(), 0) &#125; catch (e: InterruptedException) &#123; Log.e(CountNumWorker.TAG, \"----$e\") &#125; &#125; companion object &#123; const val TAG = \"CountNumWorker\" const val COUNT = \"count\" const val NAME = \"name\" &#125;&#125; 3ï¼Œåˆ›å»ºä¸€ä¸ªWorkRequest 12// å®šä¹‰æ€ä¹ˆè¿è¡ŒWorkerï¼Œä¸‹é¢è¿™ä¸ªworkerå°†åªè¿è¡Œä¸€æ¬¡ï¼Œå¯¹åº”çš„è¿˜æœ‰å‘¨æœŸè¿è¡Œçš„PeriodicWorkRequestBuilderval workRequest = OneTimeWorkRequestBuilder&lt;CountNumWorker2&gt;().build() 4ï¼Œæ‰§è¡ŒWorker 12// è°ƒç”¨WorkManagerå•ä¾‹å¼€å§‹workerWorkManager.getInstance().enqueue(workRequest) WorkerManagerä½œä¸ºJetPackä¸€å‘˜ï¼Œå®˜æ–¹å¼ºçƒˆå®‰åˆ©æ­é…LiveData and ViewModelä¸€èµ·é£Ÿç”¨ã€‚ä¸è¿‡å•ç‹¬ç”¨ä¹Ÿå®Œå…¨OKï¼Œè€Œä¸”ä¸Šæ‰‹æ˜¯å¾ˆç®€å•çš„ã€‚æ‰§è¡Œåå°ä»»åŠ¡æˆ‘ä»¬å·²ç»æœ‰AsyncTaskï¼ŒThreadPoolsï¼ŒRxJavaâ€¦é‚£WorkManageréœ€è¦è¶³å¤Ÿç†ç”±æ¥è¯´æœå¤§å®¶ä¸Šè½¦ã€‚ WorkManageræ˜¯å•¥ï¼ŸWorkManagerå¯ä»¥ç”¨æ¥è½»æ¾å®‰æ’éç«‹å³æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡ï¼Œå³ä½¿ç¨‹åºé€€å‡ºæˆ–è€…æ‰‹æœºé‡å¯ã€‚ å…³é”®åŠŸèƒ½ æ”¯æŒAPI 14ä»¥ä¸Šæœºå‹ï¼Œåœ¨API 14-22ä½¿ç”¨BroadcastReceiver + AlarmManagerï¼Œ23+åˆ™æ˜¯JobScheduler ç»™workæ·»åŠ è§¦å‘æ¡ä»¶ï¼Œæ¯”å¦‚ç‰¹å®šç½‘ç»œçŠ¶æ€å’Œæˆ–ç”µæ± å¤šå°‘ä»¥ä¸Šæ‰æ‰§è¡Œ å¯ä»¥å•æ¬¡æˆ–å‘¨æœŸçš„æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ ç›‘è§†å’Œç®¡ç†ä»»åŠ¡ æŒ‰ç»„æŒ‰åºæ‰§è¡Œä»»åŠ¡ å¯ä»¥ç¡®ä¿ä»»åŠ¡æ‰§è¡Œï¼Œå³ä½¿appé€€å‡ºæˆ–æ‰‹æœºé‡å¯ï¼Œå¼ ç”µæ± å‹å¥½ï¼Œå³ä½¿ä¼‘çœ æ¨¡å¼ä¹Ÿèƒ½å·¥ä½œ ä½¿ç”¨åœºæ™¯ å‘é€logsæˆ–analyticsç»™åç«¯ å‘¨æœŸæ€§å’Œåç«¯åŒæ­¥appæ•°æ® ä»€ä¹ˆæ—¶å€™ç”¨ æ•²é»‘æ¿ï¼šæ˜¯å¦éœ€è¦ç«‹å³æ‰§è¡Œçš„å‰æå¾ˆé‡è¦ï¼Œæ¯”å¦‚ç”¨æˆ·å¸Œæœ›ç«‹å³è¿è¡Œä¸è¢«æ‰“æ–­ï¼Œé‚£WorkManagerå°±è¡¨ç¤ºåšä¸åˆ°äº†ï¼Œè¿™æ—¶éœ€è¦ç”¨foreground serviceã€‚å…¶ä»–æƒ…å†µä¸‹é¦–é€‰WorkManagerï¼Œå®ƒå…·æœ‰æ›´é«˜çš„å…¼å®¹æ€§å’Œæ›´ä¼˜é›…çš„å°è£…æ€§ã€‚ è¿›é˜¶ä½¿ç”¨1ï¼Œä¼ é€’æ•°æ® 123456789101112131415//INï¼š requestBuilder å¾€workerå¡æ•°æ®workRequestBuilder.setInputData(getCountData(&quot;bob&quot;,10))//INï¼š Dataé‡Œé¢æœ‰ä¸ªMapæ¥æ”¶æ•°æ®private fun getCountData(name: String, count: Int): Data &#123; val builder = Data.Builder() CountNumWorker.TAG builder.putInt(CountNumWorker.COUNT, count) builder.putString(CountNumWorker.NAME, name) return builder.build() &#125;//OUTï¼šworkeré‡Œé¢å–æ•°æ®private val count = inputData.getInt(COUNT, 0)private val name = inputData.getString(NAME) ?: &quot;bob&quot; Tips: Data ä¼ é€’çš„æ•°æ®åªèƒ½æ˜¯Boolean, Integer,Long, Float, Double, Stringå’Œè¿™äº›ç±»å‹çš„æ•°ç»„ï¼Œå¦‚æœæƒ³è¦ä¼ é€’ä¸€äº›å¤æ‚å¯¹è±¡ï¼Œé‚£ä¹ˆæœ‰ä¸‹é¢å‡ ç§æ–¹å¼ï¼š å®ç°å¤æ‚åº¦ ç”¨æ³•&amp;å‰¯ä½œç”¨ é™æ€å˜é‡ ç®€å• ç”¨å®Œå¿˜è®°ç½®ç©ºï¼Œå½±å“å’Œå†…å­˜æ³„æ¼å·®ä¸å¤š å•ä¾‹èµ‹å€¼ ç®€å• æ€è€ƒæ˜¯å¦åˆé€‚ç”¨å•ä¾‹ å€ŸåŠ©json ä¸€èˆ¬ å¯¹è±¡è½¬æˆbeanï¼ŒtoStringåç”¨Dataä¼ ï¼Œæ¥æ”¶åˆ°åœ¨fromJsonè¿˜åŸæˆbean æ•°æ®åº“ å¤æ‚ ç”Ÿäº§è€…æ’æ•°æ®åº“ï¼Œç”¨Dataä¼ idï¼Œæ¶ˆè´¹è€…ç”¨idæŸ¥æ•°æ®åº“ 2ï¼Œç›‘å¬workeræ‰§è¡ŒçŠ¶æ€ 12345678910// å®ä¾‹åŒ–ä¸€ä¸ªworkRequestBuilderval workRequestBuilder = OneTimeWorkRequestBuilder&lt;CountNumWorker2&gt;()// è®¾ç½®ä¸€ä¸‹TAGworkRequestBuilder.addTag(&quot;bob&quot;)// ç›‘å¬ç‰¹å®šTAGçš„workerçš„æ‰§è¡ŒçŠ¶æ€workerManager.getWorkInfosByTagLiveData(&quot;bob&quot;).observe(this, Observer &#123; workInfo -&gt; if (workInfo != null &amp;&amp; workInfo.first().state == WorkInfo.State.SUCCEEDED) &#123; UtilToast.show(&quot;----success!&quot;) &#125; &#125;) Tipsï¼šworkerå¯ä»¥æœ‰ä¸‰ç§æ–¹å¼æ ‡ç¤ºï¼šnameï¼Œidï¼Œtagã€‚tagå¯ä»¥åœ¨workRequestBuilderä¸Šè®¾ç½®ï¼Œè¡¨ç¤ºä¸€ä¸ªç»„çš„workerï¼Œnameå’Œidéƒ½æ˜¯åœ¨workRequestBuilder.build()åå¯ä»¥è·å–ï¼Œè¡¨ç¤ºå•ä¸ªworkerï¼Œé€šè¿‡WorkContinuationå¯ä»¥è®¾ç½®ã€‚ 3ï¼Œä¸²å¹¶è”workerï¼ŒSé˜Ÿå½¢Bé˜Ÿå½¢éšæ„æ’ 123456789101112131415161718192021222324252627282930313233 * A * | * +----------+ * | | * Bob lucy * | | * +----------+ * | * B// Aä»»åŠ¡å…ˆæ‰§è¡Œï¼Œç„¶åbobå’Œlucyä¸€èµ·è·‘ï¼Œè·‘å®Œäº†å†è·‘B workerval workRequestBuilder = OneTimeWorkRequestBuilder&lt;CountNumWorker2&gt;()val workRequestBuilder2 = OneTimeWorkRequestBuilder&lt;CountNumWorker2&gt;()val workRequestBuilderA = OneTimeWorkRequestBuilder&lt;CountNumWorker&gt;()val workRequestBuilderB = OneTimeWorkRequestBuilder&lt;CountNumWorker&gt;()workRequestBuilder.setInputData(getCountData(\"bob\",10))workRequestBuilder2.setInputData(getCountData(\"lucy\",15))workRequestBuilderA.setInputData(getCountData(\"A\", 15))workRequestBuilderB.setInputData(getCountData(\"B\", 15))val list = listOf(workRequestBuilder.build(), workRequestBuilder2.build())workerManager.beginWith(workRequestBuilderA.build()).then(list).then(workRequestBuilderB.build()).enqueue() * A C * | | * B D * | | * +-------+ * | * E // å·¦å³ä¸¤è¾¹ä»»åŠ¡åŒæ—¶è·‘èµ·æ¥ï¼Œæ–‡ä½“ä¸¤å¼€èŠ±å®‰æ’ä¸ŠWorkContinuation left = workManager.beginWith(A).then(B);WorkContinuation right = workManager.beginWith(C).then(D);WorkContinuation final = WorkContinuation.combine(Arrays.asList(left, right)).then(E);final.enqueue(); 4ï¼ŒCancelling and stopping work 123WorkManager.cancelWorkById(workRequest.id)workerManager.cancelAllWorkByTag(\"bob\")workerManager.cancelUniqueWork(\"lucy\") 5ï¼Œå‘¨æœŸä»»åŠ¡ 123456789101112// å……ç”µæ—¶workeræ‰å·¥ä½œval constraints = Constraints.Builder() .setRequiresCharging(true) .build()// è®¾ç½®requestval saveRequest =PeriodicWorkRequestBuilder&lt;SaveImageToFileWorker&gt;(1, TimeUnit.HOURS) .setConstraints(constraints) .build()// å®‰æ’ä¸ŠWorkManager.getInstance() .enqueue(saveRequest) 6ï¼ŒWorkManagerçš„çº¿ç¨‹æ¨¡å‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// ç®€å•æ¥è¯´å°±æ˜¯ä¸‰ç§ï¼Œæœ¬æ–‡æœ€å¼€å¤´çš„æ·»åŠ ä¾èµ–é‡Œæ ‡äº†Aï¼ŒBï¼ŒC// å¦‚æœä¾èµ–Bï¼Œé‚£åªèƒ½ä½¿ç”¨åŸºç¡€çš„Workerclass DownloadWorker(context: Context, params: WorkerParameters) : Worker(context, params) &#123; override fun doWork(): ListenableWorker.Result &#123; for (i in 0..99) &#123; try &#123; downloadSynchronously(\"https://www.google.com\") &#125; catch (e: IOException) &#123; return ListenableWorker.Result.failure() &#125; &#125; return ListenableWorker.Result.success() &#125;&#125;// Workeré»˜è®¤æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªExecutorï¼Œä½†ä¹Ÿå¯ä»¥è‡ªå®šä¹‰WorkManager.initialize( context, Configuration.Builder() .setExecutor(Executors.newFixedThreadPool(8)) .build())// å¦‚æœä¾èµ–Aï¼ˆæ¨èï¼‰ï¼Œé‚£å¯ä»¥ä½¿ç”¨Workerå’ŒCoroutineWorkerï¼Œåç¨‹ç¾æ»‹æ»‹class CoroutineDownloadWorker(context: Context, params: WorkerParameters) : CoroutineWorker(context, params) &#123; override val coroutineContext = Dispatchers.IO override suspend fun doWork(): Result = coroutineScope &#123; val jobs = (0 until 100).map &#123; async &#123; downloadSynchronously(\"https://www.google.com\") &#125; &#125; // awaitAll will throw an exception if a download fails, which CoroutineWorker will treat as a failure jobs.awaitAll() Result.success() &#125;&#125;// RxJava2é‡åº¦æ‚£è€…ï¼Œåœ¨Aæˆ–Bçš„åŸºç¡€ä¸ŠåŠ ä¸ªCï¼Œå°±å¯ä»¥å¤šä¸ªRxWokerä½¿ç”¨public class RxDownloadWorker extends RxWorker &#123; public RxDownloadWorker(Context context, WorkerParameters params) &#123; super(context, params); &#125; @Override public Single&lt;Result&gt; createWork() &#123; return Observable.range(0, 100) .flatMap &#123; download(\"https://www.google.com\") &#125; .toList() .map &#123; Result.success() &#125;; &#125;&#125; å‚è€ƒhttps://developer.android.com/topic/libraries/architecture/workmanager https://codelabs.developers.google.com/codelabs/android-workmanager-kt/#0 https://medium.com/androiddevelopers/introducing-workmanager-2083bcfc4712"},{"title":"è‡ªå®šä¹‰éªŒè¯ç è¾“å…¥View","date":"2019-07-29T12:28:00.000Z","path":"2019/07/29/2019/è‡ªå®šä¹‰éªŒè¯ç è¾“å…¥View/","text":"æˆ‘ä»¬ç°åœ¨è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰è¾“å…¥æ¡†ï¼Œæ˜¾ç¤ºç”¨æˆ·æ¥å—åˆ°çš„éªŒè¯ç ï¼Œå¤§æ¦‚æ˜¯é•¿è¿™æ · æ€è·¯åˆ†æQï¼šéœ€è¦æœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ Aï¼šæ¡†ä»£è¡¨çš„æ˜¯éªŒè¯ç é•¿åº¦ï¼Œè¿™ä¸ªéœ€è¦å¯é…ç½®ï¼›åªæ¥æ”¶æ•°å­—å¹¶å¯ä»¥ç¼–è¾‘åˆ é™¤ï¼›è¾“å…¥å’Œæœªè¾“å…¥æœ‰çŠ¶æ€åŒºåˆ« Qï¼šå¯ä»¥æ€ä¹ˆå®ç°ï¼Ÿ Aï¼šç›´è§‰ä¸Šæ˜¯ç›´æ¥ç»§æ‰¿EditViewï¼Œé‡å†™onDrawæ–¹æ³• Qï¼šä¸ºä»€ä¹ˆè¦ç»§æ‰¿EditViewè€Œä¸æ˜¯TextViewç”šè‡³æ˜¯Viewï¼Ÿ Aï¼šå¦‚æœç»§æ‰¿Viewï¼Œé‚£æ§ä»¶çš„é€»è¾‘èƒ½åŠ›ä¹Ÿéœ€è¦è‡ªå·±å®ç°ï¼Œæ¯”å¦‚è¾“å…¥æ³•çš„å¼¹å‡ºå’Œéšè—ï¼Œè¾“å…¥æ³•å†…å®¹çš„æ¥æ”¶éœ€è¦é‡å†™onCreateInputConnectionç­‰æ–¹æ³•ã€‚EditViewæ¯”TextViewå¤šçš„èƒ½åŠ›æ˜¯è®¾ç½®Selectionå…‰æ ‡ä½ç½®ï¼Œæ–‡å­—é»˜è®¤å¯ç¼–è¾‘å¯å®šä¹‰è¾“å…¥æ³•ç±»å‹ã€‚ ç»¼ä¸Šï¼šè¯¥è‡ªå®šä¹‰éœ€æ±‚ï¼Œç³»ç»Ÿæ§ä»¶çš„EditViewåŠŸèƒ½ä¸Šå¯ä»¥æ»¡è¶³ï¼Œåªæ˜¯éœ€è¦è‡ªå®šä¹‰é­”æ”¹ä¸‹UIã€‚ ç ä¸Š1ï¼Œæ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰Viewç»§æ‰¿äºEditViewï¼Œå¹¶å¤å†™onDrawå’ŒonMeasure 123456789101112131415class CustomInputView2 : EditText &#123; constructor(context: Context?) : super(context) constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) // æ§ä»¶éœ€è¦çŸ¥é“è‡ªå·±çš„å¤§å°å’Œè¾¹è·paddingï¼Œæ‰èƒ½ç¬¦åˆé¢„æœŸçš„ç»˜åˆ¶ override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec) &#125; // ç»˜åˆ¶æ¡†æ¡†å’Œæ•°å­— override fun onDraw(canvas: Canvas?) &#123; super.onDraw(canvas) &#125;&#125; 2ï¼Œä»”ç»†çœ‹ä¸€ä¸‹onMeasure 1234567891011121314151617181920212223242526override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) &#123; super.onMeasure(widthMeasureSpec, heightMeasureSpec) val widthMode = MeasureSpec.getMode(widthMeasureSpec) var widthSize = MeasureSpec.getSize(widthMeasureSpec) val heightMode = MeasureSpec.getMode(heightMeasureSpec) var heightSize = MeasureSpec.getSize(heightMeasureSpec) val realWidth = itemWith.toInt() * itemNum val realHeight = itemWith.toInt() // å½“æ§ä»¶ç±»å‹æŒ‡å®šä¸ºwrap_contentæ—¶ï¼Œå®ƒçš„modeæ˜¯MeasureSpec.AT_MOSTï¼Œ // å…·ä½“å¤§å°éœ€è¦è‡ªå·±è®¡ç®—å‡ºæ¥ï¼Œç®—çš„æ—¶å€™è¦åŠ ä¸Šå¯¹åº”padding when &#123; widthMode == MeasureSpec.AT_MOST &amp;&amp; heightMode == MeasureSpec.AT_MOST -&gt; &#123; widthSize = realWidth + paddingLeft + paddingRight heightSize = realHeight + paddingTop + paddingBottom &#125; widthMode == MeasureSpec.AT_MOST -&gt; &#123; widthSize = realWidth + paddingLeft + paddingRight &#125; heightMode == MeasureSpec.AT_MOST -&gt; &#123; heightSize = realHeight + paddingTop + paddingBottom &#125; &#125; //calculate itemGap with padding, æœ¬æ§ä»¶è®¾è®¡å ä¸€è¡Œï¼Œé‚£æ¯ä¸ªæ¡†ä¹‹é—´çš„é—´éš”æ˜¯éœ€è¦ç®—å‡ºæ¥å¹¶èµ‹å€¼çš„ itemGap = (widthSize - (paddingStart + paddingEnd) - realWidth) / (itemNum - 1) setMeasuredDimension(widthSize, heightSize) &#125; 3ï¼ŒæŠŠå…ƒç´ ç»˜åˆ¶ä¸Šå»ï¼ŒonDraw ç”»å›¾ä¸‰è¦ç´ ï¼šç”»å¸ƒï¼ˆcanvasï¼‰ï¼Œç”»ç¬”ï¼ˆpaintï¼‰ï¼Œç”»å“ªé‡Œï¼ˆLRTBï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// 1ï¼Œç»˜åˆ¶æ¡†ï¼Œè°ƒç”¨canvas API drawRoundRect(rectF, itemRadius, itemRadius, paint)// 2ï¼Œéœ€è¦rectFæ¥ç¡®å®šç”»åœ¨å“ªé‡Œï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªæ¡†ï¼š// val top = paddingTop.toFloat()// val bottom = height - paddingBottom.toFloat()// val left = paddingStart// val reght = itemWith + paddingStart// rectF.set(left, top, right, bottom)// 3ï¼Œç»˜åˆ¶å‰©ä¸‹çš„æ¡†åªéœ€è¦leftå’ŒrightåŠ å¯¹åº”çš„itemWithå’ŒitemGap// 4ï¼Œç»˜åˆ¶æ–‡å­—è°ƒç”¨canvas API drawText(String text, float x, float y, Paint paint)// 5ï¼Œæ–‡å­—å±…ä¸­ï¼špaintéœ€è¦è®¾ç½®textAlign = Paint.Align.CENTERï¼Œè¿™æ ·å¯ä»¥ä¿è¯xå¤„äºæ–‡å­—çš„ä¸­ç‚¹ï¼ŒYè½´çš„ä¸­// ç‚¹ç”±äºæ–‡å­—æ¸²æŸ“çš„åŸå› ï¼Œéœ€è¦è®¡ç®—ä¸€ä¸ªåç§»é‡// val fontBottom = paintText.fontMetrics?.ascent ?: 0F// val fontTop = paintText.fontMetrics?.descent ?: 0F// val baseLineY = Math.abs(fontBottom + fontTop) / 2override fun onDraw(canvas: Canvas?) &#123; super.onDraw(canvas) val textLength = currentText?.length ?: 0 // font baseline val fontBottom = paintText.fontMetrics?.ascent ?: 0F val fontTop = paintText.fontMetrics?.descent ?: 0F val baseLineY = Math.abs(fontBottom + fontTop) / 2 for (i in 0 until itemNum) &#123; val left = i * (itemWith + itemGap) + paddingStart val right = i * (itemWith + itemGap) + itemWith + paddingStart val top = paddingTop.toFloat() val bottom = height - paddingBottom.toFloat() rectF.set(left, top, right, bottom) if (i &lt; textLength) &#123; // draw input string and set color for select paint paint.color = paintSelectColor val textToDraw = if (itemText.isNullOrEmpty()) currentText!![i].toString() else itemText ?: \"\" canvas?.drawText( textToDraw, left + (right - left) / 2, (top + bottom) / 2F + baseLineY, paintText ) &#125; else &#123; // set color for normal paint paint.color = paintNormalColor &#125; // draw bg as the type when (type) &#123; Type.Line -&gt; canvas?.drawLine(left, bottom, right, bottom, paint) Type.Square -&gt; canvas?.drawRoundRect(rectF, itemRadius, itemRadius, paint) &#125; &#125; &#125; 4ï¼Œæ§ä»¶å¯ä»¥è‡ªå®šä¹‰å­—æ®µ 1234567891011121314&lt;declare-styleable name=\"CustomInputView\"&gt; &lt;attr name=\"item_with\" format=\"dimension\"/&gt; &lt;attr name=\"item_gap\" format=\"dimension\"/&gt; &lt;attr name=\"item_radius\" format=\"dimension\"/&gt; &lt;attr name=\"item_num\" format=\"integer\"/&gt; &lt;attr name=\"item_text\" format=\"string\"/&gt; &lt;attr name=\"normal_color\" format=\"color\"/&gt; &lt;attr name=\"select_color\" format=\"color\"/&gt; &lt;attr name=\"text_color\" format=\"color\"/&gt; &lt;attr name=\"type\" format=\"enum\"&gt; &lt;enum name=\"line\" value=\"0\"/&gt; &lt;enum name=\"square\" value=\"1\"/&gt; &lt;/attr&gt; &lt;/declare-styleable&gt; 5ï¼Œç»§æ‰¿äºEditViewï¼Œéœ€è¦åˆå§‹åŒ–ä¸€äº›å­—æ®µ 123456789101112131415// è¾“å…¥ç±»å‹æŒ‡å®šä¸ºæ•°å­—é”®ç›˜inputType = InputType.TYPE_CLASS_NUMBERisCursorVisible = false // å…‰æ ‡ä¸å¯è§isLongClickable = false // ä¸èƒ½é•¿æŒ‰setTextIsSelectable(false) // æ–‡å­—ä¸èƒ½è¢«é€‰æ‹©å¤åˆ¶setOnClickListener &#123; setSelection(text.length) &#125; // ç‚¹å‡»é‡ç½®å…‰æ ‡ä½ç½®ï¼Œè™½ç„¶ä¸å¯è§setBackgroundColor(UtilResource.getColor(R.color.transparent)) // éšè—é»˜è®¤é‚£æ ¹çº¿setTextColor(UtilResource.getColor(R.color.transparent)) // éšè—é»˜è®¤çš„æ–‡å­—filters = arrayOf(PinPwdFormatterFilter(itemNum)) // è®¾ç½®filterï¼Œåªè¦æ•°å­—addTextChangedListener(object : DefaultTextWatcher() &#123; override fun afterTextChanged(s: Editable?) &#123; super.afterTextChanged(s) if (s.toString().length == itemNum) onInputComplete(s.toString()) &#125;&#125;) å‚è€ƒæ–‡ç« https://www.jianshu.com/p/8b97627b21c4"},{"title":"Android cool animation","date":"2019-07-20T14:37:00.000Z","path":"2019/07/20/2019/Android cool animation  /","text":"åŠ¨ç”»ç”¨æ¥æè¿°ä¸€ä¸ªéé™æ€çš„åœºæ™¯ã€‚åœ¨androidè½¯ä»¶ä¸­æœ‰ä¸¤ç§å½¢å¼ï¼Œ1ï¼Œç®—å‡ºåˆæ€å’Œç»ˆæ€ä¹‹é—´çš„æ’å€¼ï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´æ¸²æŸ“æ’­æ”¾è¿™äº›çŠ¶æ€ï¼Œå¦‚animationï¼Œanimatorï¼Œlayout transitionã€‚2ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ç®—æ³•ä¸æ–­çš„ç»˜åˆ¶çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€çš„å·®å¼‚å’Œè¿è´¯æ€§åœ¨è§†è§‰é‡Œå½¢æˆåŠ¨ç”»ã€‚ä¸€èˆ¬æœ‰è‡ªå®šä¹‰view animationï¼Œè¿™å°±æ˜¯æœ¬æ–‡è¦è®°å½•çš„ç‚¹ã€‚ å¸¸è§æ–¹æ¡ˆè‡ªå®šä¹‰è§†å›¾åŠ¨ç”»ï¼Œå¾€å¾€æ˜¯å› ä¸ºå¸¸è§„çš„å±æ€§åŠ¨ç”»å·²ç»æ— æ³•æ»¡è¶³è®¾è®¡å¸ˆè¦æ±‚äº†ã€‚å¸¸è§çš„ä¹Ÿæœ‰ä¸‰ç§ï¼š æ•ˆæœä¸Šé™ å®ç°å¤æ‚åº¦ å·¥ç¨‹ä¾èµ– Canvas ä¸­ç­‰ ä¸­ç­‰ æ—  SVG ä¸­ç­‰ éœ€è¦ä¸“ä¸šè½¯ä»¶åˆ¶ä½œSVG æ—  Lottie é«˜ï¼ˆanythingï¼‰ éœ€è¦AEè½¯ä»¶è¾“å‡ºåŠ¨ç”»Json éœ€è¦ä¾èµ–Airbnb lib SVGA ä¸­é«˜ éœ€è¦AEè½¯ä»¶ éœ€è¦é›†æˆæ’­æ”¾lib å¯ä»¥çœ‹å‡ºæƒ³è¦æ›´å¥½çš„æ•ˆæœï¼ŒæŠ•å…¥å¿…ç„¶éœ€è¦æ›´å¤šï¼š0ã€‚è„‘è¡¥äº†ä¸‹è¦å®ç°çš„æ“ä½œå®ŒæˆåŠ¨ç”»ç”¨Canvasåº”è¯¥å°±å¤Ÿäº†ã€‚å½“ç„¶æ²¡æœ‰AEè®¾è®¡å¸ˆå’Œè‡ªå·±ä¹Ÿä¸ä¼šsketchä¹Ÿæ˜¯äº‹å®ã€‚ æ€ä¹ˆæ1ï¼Œå¾—æœ‰ä¸ªè‡ªå®šä¹‰viewï¼Œå¤å†™onDraw å°±æœ‰Canvasäº† 123456789class AnimationView : View &#123; constructor(context: Context?) : super(context) constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) override fun onDraw(canvas: Canvas?) &#123; super.onDraw(canvas) &#125;&#125; 2ï¼Œæœ‰ç”»å¸ƒï¼Œè¿˜å¾—éœ€è¦ç¬” 123456789private lateinit var mCirclePaint: PaintmCirclePaint = Paint(Paint.ANTI_ALIAS_FLAG) // æŠ—é”¯é½¿ï¼Œçº¿æ¡æµç•…mCirclePaint.apply &#123; isDither = true // åŠ¨æ€é‡‡æ · style = Paint.Style.STROKE // çº¿æ¡æ ·å¼ color = Color.parseColor(\"#6C9CFF\") // ç”»ç¬”é¢œè‰² strokeCap = Paint.Cap.ROUND // çº¿å¤´å½¢çŠ¶ strokeWidth = 30f // çº¿æ¡å®½åº¦ &#125; 3ï¼Œéœ€è¦çš„åŠ¨ç”»æ˜¯éœ€è¦å¤–é¢è½¬åœˆçš„åœ†å’Œé‡Œé¢çš„å‹¾ç»„æˆï¼Œé‚£å°±å…ˆç”»ä¸€æ®µå¼§å½¢ï¼Œå¼§å½¢çš„é•¿çŸ­å’Œä½ç½®ä¸æ–­å˜åŒ–å°±èƒ½åœ¨è§†è§‰é‡Œå½¢æˆä¸€ä¸ªè½¬åœˆåŠ¨ç”» 12oval.set(0f, 0f, width - 0f, height - 0f) // ç”»åœ†å¼§éœ€è¦è®¾å®šä¸€ä¸‹ovalcanvas.drawArc(oval, 0f, -270f, false, mCirclePaint) // ç”»ä¸€æ®µé€†æ—¶é’ˆå››åˆ†ä¹‹ä¸‰çš„åœ†å¼§ 4ï¼Œè¿ˆå‡ºäº†ç¬¬ä¸€æ­¥ï¼Œéœ€è¦è®©å¼§å½¢åŠ¨èµ·æ¥ 1234567// åŸç†å°±æ˜¯åˆ©ç”¨ValueAnimatorä¸æ–­çš„æ›´æ–°å±æ€§ï¼Œç„¶åè°ƒç”¨invalidateï¼ˆï¼‰ä½¿è§†å›¾é‡ç»˜valueObject = ValueAnimator.ofFloat(0f, 1f) valueObject.duration = 1500L valueObject.addUpdateListener &#123; animation -&gt; animatorValue = animation.animatedValue as Float invalidate() &#125; 5ï¼ŒæŠŠå‹¾ä¹Ÿç”»ä¸Šå»ï¼Œç®€å•æ¥è®²ï¼Œå‹¾å°±æ˜¯ä¸¤æ¡ç›´çº¿ç»„æˆ 1234// line 1canvas.drawLine(line1StartX, line1StartY, line1EndX, line1EndY, mCirclePaint)// line 2canvas.drawLine(line2StartX, line2StartY, line2EndX, line2EndY, mCirclePaint) 6ï¼Œç›´æ¥ç”»ä¸¤æ¡çº¿ï¼Œæ•ˆæœæ˜¯æ— æ¯”åƒµç¡¬çš„ï¼Œå€Ÿé‰´æ‹ç”µå½±ï¼Œæˆ‘ä»¬å®šä¹‰å‡ ä¸ªåœºæ™¯ç‚¹ï¼Œç”¨æ¥æè¿°ä¸¤æ¡çº¿çš„åˆæ€å’Œç»ˆæ€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869private val ps1 = Offset(0f, 0.5f)private val ps2 = Offset(0.3f, 0.8f)private val ps3 = Offset(0.75f, 0.35f)// è¿™ä¸ªoffsetçš„æ•°æ®ç±»é‡å†™äº†è¿ç®—ç¬¦ï¼Œæ–¹ä¾¿åœºæ™¯ç‚¹è®¡ç®—data class Offset(val x: Float, val y: Float) &#123; operator fun minus(other: Offset): Offset &#123; return Offset(x - other.x, y - other.y) &#125; operator fun plus(other: Offset): Offset &#123; return Offset(x + other.x, y + other.y) &#125; operator fun times(time: Float): Offset &#123; return Offset(x * time, y * time) &#125;&#125;// åœºæ™¯ä¸€ï¼šçº¿æ¡1ï¼Œèµ·å§‹ç‚¹ä¸åŠ¨ï¼Œç»“æŸç‚¹ä»ps1å¾€ps2è¿åŠ¨ï¼Œè§†è§‰ä¸Šçº¿æ¡ä¸€å˜é•¿ï¼Œçº¿æ¡2ä¸åŠ¨// åœºæ™¯äºŒï¼šçº¿æ¡1ï¼Œèµ·å§‹ç‚¹ä»ps1å¾€ps2è¿åŠ¨ï¼Œç»“æŸç‚¹ä¸åŠ¨ï¼Œè§†è§‰ä¸Šçº¿æ¡ä¸€æ­¤æ—¶åœ¨å˜çŸ­ï¼Œçº¿æ¡äºŒç»“æŸç‚¹ä»ps2å¾€ps3è¿åŠ¨ï¼Œè§†è§‰ä¸Šåœ¨å˜é•¿ã€‚// åœºæ™¯åˆèµ·æ¥çš„æ•ˆæœå°±æ˜¯åŠ¨æ€çš„æ‰“ä¸€ä¸ªå‹¾ã€‚val line1Start = ps1 - (ps1 - ps2) * animatorValueLine1Startval line1End = ps1 - (ps1 - ps2) * animatorValueLine1Endval line2End = ps2 - (ps2 - ps3) * animatorValueLine// ç”¨æ¥æ§åˆ¶åœºæ™¯ä¸€è¿˜æ˜¯äºŒçš„å½“ç„¶æ˜¯animatorValueï¼Œç”¨ä¸€ä¸ªanimatorSetæ¥æ§åˆ¶ä¸€ä¸‹startDelayvalueObject = ValueAnimator.ofFloat(0f, 1f) valueObject.duration = 1500L valueObject.addUpdateListener &#123; animation -&gt; animatorValue = animation.animatedValue as Float invalidate() &#125;val valueSet = AnimatorSet()val valueObject2 = ValueAnimator.ofFloat(0f, 1f).apply &#123; duration = 500L startDelay = 1000L addUpdateListener &#123; animatorValueLine = it.animatedValue as Float &#125; &#125;val valueObjectLine1Start = ValueAnimator.ofFloat(0f, 0.5f).apply &#123; duration = 500L startDelay = 1000L addUpdateListener &#123; animatorValueLine1Start = it.animatedValue as Float &#125; &#125;val valueObjectLine1End = ValueAnimator.ofFloat(0f, 1f).apply &#123; duration = 500L startDelay = 500L addUpdateListener &#123; animatorValueLine1End = it.animatedValue as Float &#125; &#125;valueSet.playTogether(valueObject, valueObjectLine1Start, valueObjectLine1End, valueObject2)valueSet.addListener(onStart = &#123; animatorValueLine1Start = 0f animatorValueLine1End = 0f animatorValueLine = 0f animatorValue = 0f &#125;)valueSet.start() ç»†èŠ‚é—®é¢˜1ï¼Œç»™è‡ªå®šä¹‰åŠ¨ç”»åŠ padding 123456è®¾å®šPaddingé€»è¾‘ï¼Œä¸€èˆ¬åœ¨onlayouté‡Œåšï¼Œä¸å¥½åšçš„è¯å¯ä»¥è€ƒè™‘ä¸åšï¼Œç›´æ¥å¥—ä¸€å±‚viewGroupä½¿ç”¨oval.set( 0f + paddingLeft, 0f + paddingTop, (width - paddingRight).toFloat(), (height - paddingBottom).toFloat() ) 2ï¼Œç»™è‡ªå®šä¹‰åŠ¨ç”»åŠ å±æ€§ 123456789åœ¨atträ¸­æ·»åŠ å±æ€§&lt;declare-styleable name=\"AnimationView\"&gt; &lt;attr name=\"paint_color\" format=\"color\"/&gt;&lt;/declare-styleable&gt;åœ¨initViewä¸­åˆå§‹åŒ–æ•°å€¼val array = context.obtainStyledAttributes(attrs, R.styleable.AnimationView)paintColor = array.getColor(R.styleable.AnimationView_paint_color, paintColor)array.recycle() å®ç°æ•ˆæœ å‚è€ƒæ–‡ç« https://developer.android.com/training/custom-views/custom-drawing https://juejin.im/post/5bced690e51d457a7e4f8b48 https://zhuanlan.zhihu.com/p/26304609"},{"title":"Android NDK ä¸Šæ‰‹æŒ‡å—","date":"2019-07-12T15:16:00.000Z","path":"2019/07/12/2019/Android NDK ä¸Šæ‰‹æŒ‡å—/","text":"å¯¹äºå¤§éƒ¨åˆ†androidåº”ç”¨å¼€å‘è€…æ¥è¯´ï¼ŒNDKå¼€å‘æ˜¯é™Œç”Ÿçš„ï¼Œå¾ˆå¤šæ—¶å€™åªæ˜¯ä¼šå¼•ç”¨åˆ°ä¸€äº›soåº“éœ€è¦å†™ä¸ªaidlæ¥JNIè°ƒç”¨ã€‚æœ€è¿‘åšçš„ä¸€ä¸ªappæœ‰åª’ä½“æ’­æ”¾å’ŒéŸ³æ•ˆå¤„ç†ï¼Œæ‰€ä»¥å°±éœ€è¦ä¸Šæ‰‹ä¸€ä¸‹NDKå¼€å‘ã€‚ NDKçš„ä½œç”¨NDKæ˜¯ä¸€å¥—å¼€å‘å·¥å…·ï¼Œé€šè¿‡å®ƒï¼Œå°±å¯ä»¥åœ¨androidåº”ç”¨é‡Œè°ƒç”¨å¹¶è°ƒè¯•Cå’ŒC++ä»£ç ï¼Œç‰¹å®šåœºæ™¯ä¸‹å°±å¯ä»¥åšçš„æ›´å¤šæ›´å¥½ï¼š éœ€è¦å¯†é›†è®¡ç®—çš„ï¼Œå¦‚æ¸¸æˆæˆ–ç‰©ç†ä»¿çœŸæ¨¡æ‹Ÿï¼Œå¦‚androidæ—©æœŸå®ç°å®æ—¶bluræ•ˆæœ å¤ç”¨æˆ‘ä»¬å·²ç»å°è£…å¥½çš„Cå’ŒC++åº“ï¼Œå¦‚ioè°ƒåº¦ï¼Œå¼•æ“æ¸²æŸ“åº“ ç¯å¢ƒé…ç½®ä¸ºäº†èƒ½è°ƒè¯•Nativeä»£ç ï¼Œä»¥ä¸‹ç»„ä»¶æ˜¯å¿…é¡»çš„ï¼š AndroidStudioï¼ˆ3.4.1ï¼‰å’ŒSDK Android NDKï¼šnativeå¼€å‘å…¨å®¶æ¡¶ CMakeï¼šå¤–éƒ¨ç¼–è¯‘å·¥å…·ï¼Œå¯ä»¥æ­é…Gradleæ¥ç¼–è¯‘åŸç”Ÿåº“ã€‚ndk-buildçš„å¤‡èƒï¼Œå·²è½¬æ­£ LLDBï¼šç”¨è°ƒè¯•åŸç”Ÿä»£ç çš„å·¥å…· è®¤è¯†å°ä¼™ä¼´ndk-buildçœ‹è¿‡androidæºç ç¼–è¯‘çš„ä¼šæœ‰å°è±¡ï¼Œç¼–è¯‘æ¨¡å—éƒ½æ˜¯é€šè¿‡makeå‘½ä»¤æ¥æ‰§è¡Œandroid.mkå’ŒApplication.mkæ–‡ä»¶æ¥æ„å»ºçš„ã€‚ CMakeåœ¨Android Studio2.2ä»¥ä¸Šå®˜æ–¹å¼•å…¥CMakeæ„å»ºç³»ç»Ÿï¼Œå¥½å¤„æ˜¯å®ƒè·¨å¹³å°ï¼Œè€Œä¸”èƒ½å’ŒGradleæ— ç¼å¯¹æ¥ã€‚è¿™ä¹Ÿæ˜¯ç°åœ¨Android Studioé»˜è®¤çš„NDKç¼–è¯‘å·¥å…· CMakeListsæè¿°CMakeå¦‚ä½•å°†åŸç”Ÿæ–‡ä»¶ç¼–è¯‘å…¥åº“ã€‚å¦‚æœå¯¼å…¥å’Œå…³è”é¢„ç¼–è¯‘åº“æˆ–å¹³å°åº“ï¼Œåˆ™ä¹Ÿéœ€è¦è¿™ä¸ªç¼–è¯‘è„šæœ¬ 12345678910111213141516171819202122232425cmake_minimum_required(VERSION 3.4.1)// æ·»åŠ ä¾èµ–åº“ï¼Œå¯ä»¥æ˜¯SHAREDåŠ¨æ€é“¾æ¥åº“soæˆ–STATICé™æ€é“¾æ¥åº“.aadd_library( # Sets the name of the library. native-lib # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). native-lib.cpp )// ä¾èµ–ä¸€äº›ç³»ç»Ÿåº“find_library( # Sets the name of the path variable. log-lib # Specifies the name of the NDK library that # you want CMake to locate. log )// é“¾æ¥åº“target_link_libraries( # Specifies the target library. native-lib # Links the target library to the log library # included in the NDK. $&#123;log-lib&#125; ) å†™ä¸ªDemoåœ¨ä¸é‚£ä¹ˆè€çš„Android studioç‰ˆæœ¬é‡Œé€‰æ‹©åˆ›å»ºNew projectï¼Œé€‰Native C++ä¸€è·¯nextå°±èƒ½åˆ›å»ºä¸€ä¸ªnative-libé¡¹ç›®ï¼Œso easyï¼Œæ„Ÿå¹ä¸€ä¸‹NDKçš„è„šæ‰‹æ¶æ˜¯å¥½ã€‚ è¿è¡Œä¸€ä¸‹appï¼Œçœ‹åˆ°Hello from C++ï¼Œæ¥åˆ†æä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆå·¥ä½œçš„ 1ï¼Œapp build.gradleæ·»åŠ cmakeæè¿° 123456externalNativeBuild &#123; cmake &#123; path \"src/main/cpp/CMakeLists.txt\" version \"3.10.2\" &#125; &#125; 2ï¼Œè‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªnative-lib.cpp 123456// æ—¢ç„¶æ˜¯cppï¼Œé‚£è‡ªç„¶æ˜¯c++äº†ï¼Œå¥½å¤„æœ‰ä¸¤ä¸ªï¼šæ˜¯c++è¯­æ³•æ›´ç°ä»£// - c++è¯­æ³•æ›´ç®€æ´ç°ä»£ï¼Œæ¯”å¦‚// c++ env-&gt;NewStringUTF(hello.c_str())// c (*env)-&gt;NewStringUTF(env, hello.c_str())// - ä¸ç”¨å‘½ä»¤ç”Ÿæˆå¤´æ–‡ä»¶äº†ï¼Œå¦‚æœæ˜¯cçš„è¯è°ƒç”¨javahç”Ÿæˆå¤´æ–‡ä»¶ç„¶ååœ¨cæ–‡ä»¶é‡Œè°ƒç”¨// javah com.he.test.MainActivity 3ï¼Œsoå¼•å…¥ 1234// demo å·¥ç¨‹æ˜¯åœ¨MainActivityé‡Œå¼•å…¥çš„ static &#123; System.loadLibrary(\"native-lib\"); &#125; 4ï¼Œé‚£è¯•ç€æ·»åŠ ä¸€ä¸ªnativeæ–¹æ³• 1234567891011// ç›´æ¥åœ¨MainActivityçš„stringFromJNIé‡ŒåŠ ä¸€ä¸ªhelloFromJNIpublic native String helloFromJNI();// è¿™æ—¶å€™helloFromJNIæŠ¥çº¢ï¼Œç”¨alt+enteræˆ–è€…å·¦è¾¹çš„æ™ºèƒ½å°ç¯æ³¡é€‰æ‹©// create funtion Java_com_wuuklab_android_testjniproject_MainActivity_helloFromJNI// è¿™æ ·native-lib.cppé‡Œå°±è‡ªåŠ¨å¤šäº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥è¢«javaè°ƒç”¨äº†extern \"C\"JNIEXPORT jstring JNICALLJava_com_wuuklab_android_testjniproject_MainActivity_helloFromJNI(JNIEnv *env, jobject instance) &#123; std::string hello = \"this hello from c++\"; return env-&gt;NewStringUTF(hello.c_str());&#125; 5ï¼Œå•CmakeListsï¼Œå¤šcpp 1234567# åœ¨CmakeListsé‡ŒæŠŠcppåç§°åŠ ä¸Šå°±å¯ä»¥ï¼Œnative-test.cppæ˜¯æ–°åŠ çš„add_library( # Sets the name of the library. native-lib # Sets the library as a shared library. SHARED # Provides a relative path to your source file(s). native-lib.cpp native-test.cpp) 6ï¼Œå¤šCmakeListsï¼Œä¹Ÿå°±æ˜¯å¸¦å­æ¨¡å— 12345678910111213141516171819202122232425262728# ç›®å½•ç»“æ„ä¸º|- CMakeLists.txt|- sub1 |- CMakeLists.txt |- f1.c |- f1.h|- sub2 |- CMakeLists.txt |- main.c # CMakeLists.txtcmake_minimum_required(VERSION 3.13)add_subdirectory(sub1)add_subdirectory(sub2)# sub1/CMakeLists.txtproject(sub1 C) add_library(shared_1 SHARED f1.c f1.h)target_include_directories(shared_1 PUBLIC $&#123;PROJECT_SOURCE_DIR&#125;)# sub2/CMakeLists.txt project(sub2)add_executable(exec_2 main.c)target_link_libraries(exec_2 shared_1) å‚è€ƒhttps://developer.android.google.cn/ndk/guides/cmake http://www.leadroyal.cn/?p=781"},{"title":"String to JsonObject","date":"2019-06-28T03:28:00.000Z","path":"2019/06/28/2019/String to JsonObject/","text":"ä»Šå¤©æäº†ä¸€å¤©JsonObjectï¼Œå¿ƒæ€çˆ†ç‚¸ï¼Œè®°å½•ä¸€ä¸‹ï¼Œç»†èŠ‚è¿˜æ˜¯æŒºå¥½ç©çš„ String to JsonObject12345678910// JsonParserval json = \"&#123;\"name\":\"bob\",\"age\":\"18\",\"score\":&#123;\"eng\":\"g\",\"fre\":\"h\"&#125;&#125;\"val jsonObject = JsonParser().parse(json).asJsonObjectval name = jsonObject.get(\"name\").asString // bobval scoreObject = jsonObject.getAsJsonObject(\"score\")// fromJsonval json = \"&#123;\"name\":\"bob\",\"age\":\"18\",\"score\":&#123;\"eng\":\"g\",\"fre\":\"h\"&#125;&#125;\"val jsonObject = Gson().fromJson&lt;JsonObject&gt;(json, JsonObject::class.java)val name = jsonObject.get(\"age\").asString // 18 isJsonPrimitiveåŒºåˆ«äºprivateç§æœ‰ï¼Œprimitiveæ˜¯å…ƒæ•°æ®çš„æ„æ€ï¼ŒJsonæ•°æ®ä¼šè¢«Gsonè§£ææˆä¸€æ£µLinkedTreeMapï¼Œtreeä¸Šçš„nodeéƒ½æ˜¯JsonElementï¼Œå®ƒæœ‰4ä¸ªå­ç±»ï¼ŒJsonObjectï¼ŒJsonArrayï¼ŒJsonPrimitiveï¼ŒJsonNullã€‚å¶å­èŠ‚ç‚¹ä¸€å®šæ˜¯å…ƒæ•°æ®JsonPrimitiveæˆ–JsonNullã€‚å¦‚æœå‰ç«¯æŠŠä¸€ä¸ªjson JSON.stringifyå¡åˆ°ä¸€ä¸ªkeyé‡Œï¼Œé‚£å®ƒå°±æ˜¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹JsonPrimitiveã€‚å¦‚æœéœ€è¦æŠŠè¿™ä¸ªå¶å­èŠ‚ç‚¹è¿˜åŸæˆjsonï¼Œåˆ™éœ€è¦é¢å¤–parseã€‚ 12345678val json = \"&#123;\"name\":\"bob\",\"age\":\"18\",\"score\":&#123;\"eng\":\"g\",\"fre\":\"h\"&#125;&#125;\"val jsonObject = JsonParser().parse(json).asJsonObjectval scoreObject = jsonObject.getAsJsonObject(\"score\")jsonObject.addProperty(\"scorePri\", scoreObject.toString())println(jsonObject) // &#123;\"name\":\"name\",\"age\":\"age\",\"score\":&#123;\"eng\":\"g\",\"fre\":\"h\"&#125;,\"scorePri\":\"&#123;\\\"eng\\\":\\\"g\\\",\\\"fre\\\":\\\"h\\\"&#125;\"&#125;val scorePriObject = jsonObject.getAsJsonPrimitive(\"scorePri\").asStringval eng = JsonParser().parse(scorePriObject).asJsonObject.get(\"eng\").asString // g safe oprationç¡¬è§£jsonä¸ç¡®å®škeyæ˜¯ä¸æ˜¯nullï¼Œkotlinå¯ä»¥ç”¨ï¼Ÿæ“ä½œç¬¦ç¡®ä¿å®‰å…¨ã€‚å–å‡ºæ¥çš„æ•°æ®ä¹Ÿå¯ä»¥ç”¨isXXXæ¥é¢„å…ˆæ£€æŸ¥æ•°æ®ç±»å‹ã€‚ 12345678910// nullval json = \"&#123;\"name\":\"bob\",\"age\":\"18\",\"score\":&#123;\"eng\":\"g\",\"fre\":\"h\"&#125;&#125;\"val jsonObject = JsonParser().parse(json).asJsonObjectval name = jsonObject.get(\"hobby\")?.asString // null// check type isXXXJsonElement.isJsonArrayJsonElement.isJsonObjectJsonElement.isJsonPrimitiveJsonElement.isJsonNull parse åŸç†æ— è®ºæ˜¯JsonParserè¿˜æ˜¯ç”¨Gson.fromJsonï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä½¿ç”¨JsonReaderè§£ææµï¼Œäº†è§£æµç¨‹å¯ä»¥çœ‹ä¸‹hasNextå’ŒdoPeekæ–¹æ³•ã€‚"},{"title":"2018","date":"2019-04-18T13:58:00.000Z","path":"2019/04/18/2019/2018/","text":"ä»Šå¹´ç»å†äº†å¾ˆå¤šï¼Œå¾ˆå¤šçš„ç¬¬ä¸€æ¬¡ï¼Œæ„Ÿè°¢ç”Ÿæ´»è®©æˆ‘ä¸°æ»¡ å·¥ä½œä½œä¸ºç§»åŠ¨ç«¯Leaderï¼Œå†™çš„ä»£ç å°‘äº†ï¼Œéœ€è¦æ€è€ƒçš„ä¸œè¥¿å˜å¤šã€‚ä¸»è¦å‚ä¸å¹¶æ¨è¿›äº†è¿™äº›äº‹ï¼š å¤–å–æ•æ·å°ç»„EOï¼Œå¹¶ä¸Šçº¿ å¤–å–å°ç»„å’Œç§»åŠ¨ç«¯OKRæ¨è¿›æœªè½å® å†æƒ åˆä¼™äººApp RNç‰ˆä¸Šçº¿ FlutteræŠ€æœ¯æ ˆå¼•å…¥ï¼Œå¹¶é‡æ„å†æƒ åˆä¼™äººApp å·¥ç¨‹å¸ˆæ–‡åŒ–å»ºè®¾ï¼Œæ¶ˆé™¤iOSï¼Œandroidå·¥ç¨‹å¸ˆæ„è¯†éš”é˜‚ï¼›ç»„ç»‡å¤§å®¶æŠ€æœ¯åˆ†äº«å’ŒBlogè¾“å‡º OKRä»ç»“æœä¸Šæ¥çœ‹å¹¶æ²¡å•¥ç”¨ï¼Œæ˜¯å€¼å¾—æ·±æ€çš„äº‹å„¿ã€‚æ•æ·å°ç»„æµç¨‹å¼•å…¥å¥½å¤„æ˜¯äº§å“å¼€å‘èŠ‚å¥æ›´å¥½æ§åˆ¶ï¼Œåå¤„æ˜¯å·¥ç¨‹å¸ˆç§¯ææ€§æœ‰è´Ÿé¢å½±å“ã€‚ä»¥å‰äº§å“ä¸€æœ‰é—®é¢˜ï¼Œå¤§å®¶ä¸è®ºå‰åç«¯éƒ½ä¼šæ‰‘ä¸Šå»çœ‹ï¼Œåˆ†äº†ä»¥åå°±æ²¡è§è¿‡è¿™ä¸ªç”»é¢äº†ã€‚ ç”Ÿæ´»ä¸¤äººåœ¨ä¸€èµ·ä¹…äº†ï¼Œå°±ä¼šæŠŠè‡ªå·±æœ€çœŸå®çš„ä¸€é¢æ¯«æ— ä¿ç•™çš„æ›éœ²å‡ºæ¥ï¼Œè¿™æ—¶éš¾å…éœ€è¦ç£¨åˆå¹¶é‡æ–°äº†è§£ä¸€ä¸‹å½¼æ­¤ã€‚æ—¥å¸¸ç‚¹æ»´ï¼Œéƒ½æ˜¯ä»¥åçš„å›å¿†ã€‚ 3æœˆå’Œå¥³ç¥¨ï¼Œåˆç§Ÿå®¤å‹ä¸€å—å»é™ˆè¡Œå…¬å›­ç©ï¼Œæ˜¥é£å’Œç…¦ï¼Œå¥½ä¸æ”¾æ¾ï¼Œè™½ç„¶æ˜¯ä¸ªå°å…¬å›­ï¼Œä½†ç”±äºå„ç§åŸå› ï¼Œç«Ÿç„¶æ˜¯ä¸ŠåŠå¹´å”¯ä¸€å»çš„å…¬å›­ã€‚ 4æœˆæ¸…æ˜å›å®¶æ‰«å¢“ï¼Œè‡ªä»æ¯•ä¸šåå°±æ²¡å›å»æ‰«å¢“äº†ï¼Œå¯¹äºæ™®é€šæ¥è¯´äººä¼šåˆ†ä¸¤æ¬¡æ¶ˆå¤±ï¼Œä¸€æ¬¡æ˜¯è‚‰ä½“æ­»äº¡ï¼Œåœ¨ç‰©ç†ä¸Šè¢«è¿™ä¸ªä¸–ç•Œé™¤åï¼Œä¸€æ¬¡ç²¾ç¥ä¸Šæ­»äº¡ï¼Œå½“æ‰€æœ‰äººè®°å¿†ä¸­éƒ½æ²¡æœ‰è¿™ä¸ªäººæ—¶ï¼Œä»–çš„å­˜åœ¨ä¹Ÿå°±è¢«å½»åº•æŠ¹å»äº†ã€‚æ¸…æ˜å°±æ˜¯è¿™æ ·ä¸€ç§å½¢å¼ï¼Œç»™è‡ªå·±çš„äº²äººæ‹”æ‹”è‰ï¼Œæ¾æ¾åœŸï¼Œè®°å¿†æœ‰ä»½ä¼ æ‰¿ã€‚ 5æœˆå¥³ç¥¨çˆ¸æ¯”ç”Ÿæ—¥ï¼Œæˆ‘ä»¬åˆä¼™ä¹°äº†ä¸ªå¤§é‡‘é“¾å­è´ºå¯¿ï¼Œæœªæ¥å¥³å©¿å¥½æ„Ÿå€¼+1ã€‚é¡ºä¾¿å»çœ‹äº†ä¸€ä¸‹è£…ä¿®å…¬å¸ï¼Œå¯¹æ¯”ä¸‹æ¥é€‰äº†ä¸€å®¶å…¨åŒ…çš„ã€‚ 6æœˆå…¬å¸æŒªä½ç½®ï¼Œæ¥äº†æ–°CTOä¸€èµ·å›¢å»ºï¼Œç«¯åˆè‡ªé©¾æ¸¸å»å´‡æ˜å²›ï¼ŒæœŸé—´çƒ§çƒ¤ï¼Œéœ²è¥ï¼Œæ‰“ç‰Œï¼Œéª‘é©¬ï¼Œå¥½ä¸æ”¾æ¾ã€‚ 7æœˆå¯¹è½¦ä¸å‹å¥½ï¼Œå¯¼èˆªæ•°æ®4sæ¥å›å¼„éƒ½æœ‰é—®é¢˜ï¼ŒæœŸé—´è¿˜æŠŠè½¦ç¯ç»™æ“¦äº†ï¼Œå¥½æ¶ˆæ¯æ˜¯æˆ‘ä»¬è¦å˜æˆæˆ‘ä»¬ä»¨äº†ã€‚ 9æœˆå’Œå¥³ç¥¨å»å®šäº†å©šæ™’ç…§ï¼ŒæœŸé—´å»äº†å˜‰å®šé©¬é™†å»æ‘˜è‘¡è„ã€‚ åä¸€å›æ ªæ´²å‚åŠ äº†å¥¹ä¸¤ä¸ªå¤§å­¦å®¤å‹çš„å©šç¤¼ï¼Œæƒ³ç€æˆ‘ä»¬çš„ä¹Ÿå¿«äº†ã€‚ 11æœˆï¼Œæˆ‘ä»¬å°ç»„å›¢å»ºå»è¿ªå£«å°¼ç©ã€‚æ‹å®Œå©šçº±ç…§ï¼Œé¢†äº†ç»“å©šè¯ï¼Œå—¯ï¼Œæ˜¯æ—¶å€™æ”¹å£å«è€å©†äº†ã€‚ 12æœˆï¼Œæˆ‘ä»¬ç»“å©šå•¦ï¼ 2æœˆï¼Œå…¬å¸ç»„ç»‡äº†ç®¡ç†åŸ¹è®­å¤§ä¼šï¼Œæœ‰æ”¶è·ä¹Ÿè§‰å¾—æœ‰äº›ä¸œè¥¿æœ‰ç‚¹è™šã€‚ 3æœˆï¼Œå‰ç«¯å¤§ä½¬JGGå»æ‹¯æ•‘é˜¿é‡Œå°ç¨‹åºäº†ã€‚ æ„Ÿè°¢ç§»åŠ¨ç«¯å°ä¼™ä¼´çš„ä¸“æ³¨å’ŒåŠªåŠ›ï¼Œè®©æˆ‘ä»¬å¯ä»¥å»ºç«‹èƒŒé èƒŒçš„ä¿¡ä»»ã€‚ CTOåå“¥çš„æ”¯æŒï¼Œè®©æˆ‘ä»¬æœ‰æœºä¼šåœ¨æ—©æœŸä¸ŠFlutterã€‚ æ„Ÿè°¢çˆ¸å¦ˆï¼Œå²³çˆ¶æ¯ï¼Œå¦¹å¦¹ï¼Œå¼Ÿå¼Ÿï¼Œå©šç¤¼çš„è¾›è‹¦æ“æŒã€‚ æ„Ÿè°¢è€å©†ï¼Œå½“å¦ˆçš„ä¸æ˜“ï¼Œè‹¥éäº²å—ï¼Œéš¾ä»¥ç†è§£ã€‚ å±•æœ›éšç€å°å®¶ä¼™çš„åˆ°æ¥ï¼Œå·¥ä½œç”Ÿæ´»éœ€è¦ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼"},{"title":"Fish Redux ä½¿ç”¨æŒ‡å—","date":"2019-03-16T12:41:00.000Z","path":"2019/03/16/2019/Fish redux/","text":"ä¸ºå•¥è¦ä½¿ç”¨Fish redux1ï¼Œå¹´å‰å°±è¢«å’¸é±¼å¤§ä½¬å®‰åˆ©ï¼Œç§è‰å·²ä¹…2ï¼Œæƒ³è¦å¯¹æ¯”Flutter Reduxï¼Œå­¦ä¹ ä½“ä¼šå®ƒå¸¦æ¥çš„ä¼˜è¶Šæ€§3ï¼Œå‚ä¸å¹¶æ”¯æŒä¸€ä¸‹å›½äº§ï¼Œç°åœ¨Flutterç”Ÿæ€è¿˜åœ¨æ—©æœŸ å‡†å¤‡å·¥ä½œ1ï¼ŒRedux.js æ–‡æ¡£ 2ï¼ŒFish Redux æ–‡æ¡£ 3ï¼ŒPubä½¿ç”¨æ–‡æ¡£ èŒæ–°ï¼ˆæ²¡æ¥è§¦è¿‡Reduxï¼‰ï¼šå»ºè®®æŒ‰é¡ºåºçœ‹ä¸€éï¼Œç£¨åˆ€ä¸è´¹ç æŸ´åŠŸï¼Œæ‰å®çš„ç†è®ºåŸºç¡€æ˜¯å¾ˆæœ‰ç”¨å¤„çš„ ç†Ÿç»ƒç©å®¶ï¼ˆDemoç”¨è¿‡Reduxï¼‰ï¼šå»ºè®®æŠŠFish Reduxæ–‡æ¡£çš„ç®€ä»‹å’ŒComponentçœ‹ä¸‹ï¼Œå°¤å…¶æ˜¯Componentï¼Œè¿™æ˜¯å®ƒç‹¬ç‰¹çš„åœ°æ–¹ è€å¸æœºï¼ˆé¡¹ç›®ä¸­ç”¨è¿‡Redux.jsæˆ–Flutter Reduxï¼‰ï¼šå¯ä»¥é‡ç‚¹çœ‹ä¸‹Componentä¸­çš„Effectï¼ŒDependenciesï¼ŒPageï¼Œè¿˜æœ‰Adapter åœ¨çœ‹æ–‡æ¡£æ—¶ï¼Œå¯ä»¥æŠŠFish Reduxé¡¹ç›®Cloneä¸‹æ¥ï¼Œå…ˆæŠŠExampleæ”¹ä¸‹è·‘è·‘çœ‹ï¼Œå†å¯¹ç€æºç ç†è§£ä¸‹æ–‡æ¡£ä¸­çš„æ¦‚å¿µã€‚ é‡è¦æ¦‚å¿µå½“ç„¶ä»¥ä¸‹æ¦‚å¿µè¿˜æ˜¯éœ€è¦ç†è§£çš„ï¼š ActionActionå®šä¹‰ä¸€ç§è¡Œä¸ºï¼Œå¯ä»¥æºå¸¦ä¿¡æ¯ï¼Œå‘å¾€Storeã€‚æ¢è¨€ä¹‹Storeå‘ç”Ÿæ”¹å˜é¡»ç”±Actionè§¦å‘ï¼ŒFish redux æœ‰ä»¥ä¸‹çº¦å®šï¼šAction åŒ…å«ä¸¤ä¸ªå­—æ®µtypeå’Œpayloadï¼›æ¨èå†™æ³•æ˜¯åœ¨action.darté‡Œå®šä¹‰ä¸€ä¸ªtypeæšä¸¾ç±»å’Œä¸€ä¸ªActionCreatorç±»ï¼Œè¿™æ ·æœ‰åˆ©äºçº¦æŸpayloadçš„ç±»å‹ã€‚ Reducer/Effectè¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ˜¯ç”¨æ¥å¤„ç†æ•°æ®çš„å‡½æ•°ï¼ŒReduceræ˜¯çº¯å‡½æ•°å“åº”Actionå¯¹Storeæ•°æ®è¿›è¡Œæ”¹å˜ã€‚Effectç”¨æ¥å¤„ç†æ¥è‡ªè§†å›¾çš„æ„å›¾ï¼Œå¦‚ç‚¹å‡»äº‹ä»¶ï¼Œå‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œè¿™äº›æœ‰å‰¯ä½œç”¨çš„æ“ä½œã€‚ Pageå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒç”¨æ¥é…ç½®èšåˆStateï¼ŒEffectï¼ŒReduceï¼ŒViewï¼ŒDependenciesç­‰ ä¸€ä¸ªé¡µé¢å†…éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª Storeï¼ˆæ„æ€æ˜¯ä¼šæœ‰å¥½å¤šä¸ªStoreï¼Œè¿™æ˜¯åŒºåˆ«äºFlutter Reduxçš„ï¼‰ Page ç»§æ‰¿äº Componentï¼Œæ‰€ä»¥å®ƒèƒ½é…ç½®æ‰€æœ‰ Component çš„è¦ç´ ï¼ˆæ„æ€æ˜¯æ¯”Componentå¤šäº†Middlewareå’ŒinitStateï¼‰ Page èƒ½é…ç½® Middlewareï¼Œç”¨äºå¯¹ Redux åš AOP ç®¡ç†ï¼ˆæ„æ€æ˜¯å¯ä»¥æ— ä¾µå…¥çš„å®ç°ä¸€äº›å¦‚logæ‰“å°ï¼Œæ€§èƒ½åˆ†æè¿™æ ·çš„é€šç”¨åŠŸèƒ½ã€‚ä¸­é—´ä»¶å®šä¹‰æ˜¯å¯æ’æ‹”ï¼Œå¯å åŠ ï¼Œä½†ä¸ä¼šæ”¹å˜äº‹ä»¶æµç¨‹ï¼‰ Page å¿…é¡»é…ç½®ä¸€ä¸ªåˆå§‹åŒ–é¡µé¢æ•°æ®çš„åˆå§‹åŒ–å‡½æ•°initStateï¼ˆé¡µé¢æœ‰åˆå§‹æ•°æ®æ˜¯å¿…é¡»çš„å§ï¼‰ Adapterï¼ˆå¯é€‰ï¼‰è¿™ä¸ªä¸æ˜¯å¿…é¡»ï¼Œä½†ç¡®å®å¾ˆå±Œï¼Œå¾ˆå¥½ç”¨ï¼Œä½¿ç”¨å’ŒAndroidçš„è€é…æ–¹å·®ä¸å¤šï¼Œå¦™åœ¨æ•ˆæœæ‹”ç¾¤ã€‚æœ‰è¿½æ±‚çš„å¯ä»¥çœ‹ä¸‹å†å²å’ŒåŸç†ï¼Œå½“ç„¶è¿˜æœ‰æºç ã€‚ æœ‰è¿™äº›å‚¨å¤‡ï¼Œé‚£ä¹ˆå¯ä»¥å¼€å§‹å†™ä»£ç äº† æ¥å…¥1ï¼Œåˆ›å»ºä¸€ä¸ªflutter projectï¼ŒæŒ‰ç…§æ–‡æ¡£åŠ å…¥ä¾èµ– 2ï¼ŒæŒ‰ç…§å®šä¹‰ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥å¯¹ç€Exampleï¼‰åˆ†åˆ«åˆ›å»ºActionï¼ŒStateï¼ŒEffectï¼ŒReducerï¼ŒViewï¼ŒPageè¿™å‡ ä¸ªæ–‡ä»¶ï¼Œå¹¶å†™å¥—è·¯ä»£ç ã€‚ 3ï¼Œè¿è¡Œä»£ç è§‚å¯Ÿæ•ˆæœ ä¸ªäººä½“éªŒ1ï¼Œé›†ä¸­ï¼Œåˆ†æ²» Fish Reduxå®Œæ•´å¤åˆ»äº†Redux.jsçš„æ ¸å¿ƒæ¦‚å¿µï¼ŒçŠ¶æ€æ˜¯ä¸€é¢—Stateæ ‘ï¼Œå®Œæ•´ä½“ç°[Predictable],[Centralized],[Debuggable],[Flexible]ï¼Œæ•°æ®çŠ¶æ€æ˜¯ç”±Reduxé›†ä¸­ç®¡ç†çš„ã€‚åˆ†æ²»æ˜¯åˆ†è€Œæ²»ä¹‹ï¼ŒæŠŠä¸€ä¸ªå¤§çš„é—®é¢˜æ‹†è§£æˆè‹¥å¹²ç‹¬ç«‹çš„å°é—®é¢˜å»è§£å†³ï¼Œæ¯”å¦‚Effectçš„å®ç°å’ŒComponentçš„å°è£…ï¼Œä¸€ä¸ªé¡µé¢å¯ä»¥ç”±å¤šä¸ªComponentå’ŒEffectå…±åŒç»„æˆï¼Œåˆ†æ²»å¸¦æ¥çš„ä¸€ä¸ªé¢å¤–å¥½å¤„æ˜¯æé«˜äº†å†…èšæ€§å’Œå¯å¤ç”¨æ€§ã€‚ 2ï¼ŒAdapter ä¸ªäººäººä¸ºè¿™æ˜¯å’¸é±¼å›¢é˜ŸåŸºäºç°å®ä¸šåŠ¡çš„ä¸€ä¸ªå¾ˆé‡è¦åˆ›é€ ï¼ŒListviewå¯ä»¥å åˆ°ä¸€ä¸ªåº”ç”¨çš„50%ä»¥ä¸Šç•Œé¢ï¼Œå®ƒçš„ä½“éªŒè‡³å…³é‡è¦ã€‚äº‹å®è¯æ˜Adapterå°è£…çš„å¾ˆå‹å¥½ï¼Œæ€§èƒ½ä¹Ÿå¾ˆçªå‡ºï¼Œåœ¨Demoä¸Šå°±å¯ä»¥æ˜æ˜¾å¯¹æ¯”å‡ºæ¥ï¼Œå¾ˆå¦™ã€‚ 3ï¼Œæ–‡æ¡£ è¿™ç‚¹æ˜¯å¯ä»¥ç†è§£ä¸€ä¸‹çš„ï¼Œæ¯•ç«Ÿåˆšå¼€æºã€‚ç°çŠ¶æ˜¯æ³¨é‡Šå°‘ï¼Œå¥½å¤šæ¨¡å—è¿˜æ²¡æœ‰ã€‚æ–‡æ¡£æœ‰ï¼Œä½†ä¸å¤ªå…·ä½“ç”ŸåŠ¨ï¼Œå‹å¥½ï¼Œè¯»è€…æ²¡å¸¦å…¥å®¹æ˜“å­—éƒ½è®¤è¯†ï¼Œä½†çœ‹å‡ éè¿˜ä¸è§£å…¶æ„ã€‚ é—®é¢˜1ï¼ŒFish Redux ä¸€ä¸ªé¡µé¢ä¸€ä¸ªStoreçš„èµ„æºå¼€é”€ï¼Ÿ 2ï¼ŒStoreçš„ç”Ÿå‘½å‘¨æœŸï¼Œåº”ç”¨çš„ä¸€äº›é•¿æœŸå…±ç”¨æ•°æ®æ€ä¹ˆç»´æŠ¤ï¼Ÿ DEMO"},{"title":"Flutter Redux è¿›é˜¶","date":"2018-12-09T15:08:00.000Z","path":"2018/12/09/2018/Flutter redux è¿›é˜¶/","text":"ç›®çš„ è®¤è¯†Flutter Reduxå±€é™æ€§ å¼•å…¥Middlewareå¿…è¦æ€§ å…¨æ–¹ä½é›†æˆUT Flutter Reduxåˆä»£å®ç°å±€é™æ€§UTä¸å¥½è¦†ç›– é¡µé¢ åˆä»£å®ç°ä¸€ä¸ªé¡µé¢çš„ç»“æ„æ˜¯è¿™æ ·çš„ï¼š 1234567891011121314class XXXScreen extends StatefulWidget &#123; @override _XXXScreenState createState() =&gt; _XXXScreenState();&#125;class _XXXScreenState extends State&lt;XXXScreen&gt; &#123; @override Widget build(BuildContext context) &#123; return StoreConnector&lt;AppState, _XXXViewModel&gt;( converter: (store) =&gt; _XXXViewModel.fromStore(store), builder: (BuildContext context, _XXXViewModel vm) =&gt; Container()); &#125;&#125; ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼šUIè§†å›¾å’ŒReduxæ•°æ®é€šç”¨é€»è¾‘è€¦å’Œåœ¨ä¸€èµ·ï¼Œæ— å‘é€šè¿‡mockæ•°æ®æ¥å¯¹UIè¿›è¡ŒUTï¼›å¤§å®¶ä¹ æƒ¯å¥—è·¯ä»£ç ï¼Œä¸Šæ¥å°±æ˜¯ä¸€ä¸ªstfulï¼Œä¸ä¼šæƒ³æ˜¯ä¸æ˜¯stlessæ›´ç§‘å­¦ç‚¹ï¼ˆäº‹å®ä¸Šåˆä»£å®ç°80%çš„Screenæ˜¯Statefullçš„ï¼Œé‡æ„å90%éƒ½èƒ½å†™æˆStatelessï¼Œæå‡äº†é¡µé¢åˆ·æ–°æ•ˆç‡ï¼‰ã€‚ API call æˆ‘ä»¬çš„APIå°±æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼š 12345678910static fetchxxx() &#123; final access = StoreContainer.access; final apiFuture = Services.rest.get('/zpartner_api/$&#123;access.path&#125;/$&#123;access.businessGroupUid&#125;/xxxx/'); Services.asyncRequest( apiFuture, xxxRequestAction(), (json) =&gt; xxxSuccessAction(payload: xxxInfo.fromJson(json)), (errorInfo) =&gt; xxxFailureAction(errorInfo: errorInfo));&#125; ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œæœ‰javaå‘³ï¼Œç¼ºç‚¹æ˜¯ï¼šé™æ€æ–¹æ³•æ— æ³•ä½¿ç”¨mockItoï¼›ä¸€ä¸ªApi callè§¦å‘ï¼Œé‚£å°±å‘å‡ºå»äº†ï¼Œæ— æ³•æ’¤é”€æ— æ³•é‡è¯•ï¼›è‡ªç„¶ä¹Ÿæ— æ³•è¿›è¡ŒUTè¦†ç›–ã€‚ ä¸å¤ŸFunctionalä¸Šé¢æåˆ°çš„é¡µé¢å’ŒAPI calléƒ½ä½“ç°äº†ä¸Functionalï¼Œè¿˜æœ‰æˆ‘ä»¬åˆä»£Reducerçš„å†™æ³•ä¹Ÿæ˜¯å¤§å®¶å¾ˆç†Ÿæ‚‰çš„OOå†™æ³•123456789101112131415class xxxReducer &#123; xxxState reducer(xxxState state, ActionType action) &#123; switch (action.runtimeType) &#123; case xxxRequestAction: return state.copyWith(isLoading: ); case xxxSuccessAction: return state.copyWith(isLoading: ); case xxxFailureAction: return state.copyWith(isLoading: ); default: return state; &#125; &#125;&#125; ä»ä¸Šåˆ°ä¸‹æµæ°´å†™æ³•ï¼Œstaticï¼Œswitch caseè¿™éƒ½æ˜¯æˆ‘ä»¬OOçš„è€æœ‹å‹ã€‚ä½†æ—¢ç„¶Dartæ˜¯åå‰ç«¯ç‰¹æ€§ï¼ŒFunctionalæ‰æ˜¯ç§‘å­¦çš„æ–¹å‘å•Šã€‚ å¼•å…¥Middlewareå¿…è¦æ€§ ä¸šåŠ¡å·²ç»å†™å®Œï¼Œå°ä¼™ä¼´è¾¹è‡ªæµ‹è¾¹å†™UTï¼Œä¸ºäº†è¾¾åˆ°50%çš„coverageå¯ä»¥è¯´æ˜¯éå¸¸è›‹ç–¼äº†ã€‚æŸå¤§ä½¬çœ‰å¤´ä¸€çš±å‘ç°é—®é¢˜å¹¶ä¸ç®€å•ï¼ŒUTä¸å¥½å†™ï¼Œæ˜¯ä¸æ˜¯ç»“æ„æ“ï¼Ÿäºæ˜¯å¬é›†å¤§å®¶è®¨è®ºä¸€æ³¢ï¼Œå¾—å‡ºè¿™äº›å±€é™æ€§ã€‚æ”¹è¿˜æ˜¯ä¸æ”¹æ˜¯ä¸ªé—®é¢˜ï¼Œä¸æ”¹å¼€å‘ç®—æ˜¯æå‰å®Œæˆï¼Œåæ­£Rnä¹Ÿæ²¡æœ‰å†™UTï¼›æ”¹çš„è¯ï¼Œæ”¹åŠ¨é‡æ˜¯å·¨å¤§çš„ã€‚å¤§å®¶éƒ½åœä¸‹æ‰‹ä¸­çš„å·¥ä½œï¼Œæ€è€ƒå¹¶æ·±åˆ»è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯æˆ‘ä»¬ä»ä¸‰ä¸ªæ–¹å‘è¡¡é‡è¿™ä¸ªé—®é¢˜ï¼š ä¸šåŠ¡å½±å“ç¦»æ’æœŸææµ‹æ—¶é—´åªæœ‰1ä¸ªæ˜ŸæœŸï¼ŒåŠ å…¥Middlewareä¼šæœ‰80%çš„ä»£ç éœ€è¦æŒªåŠ¨ï¼Œæ”¹å®Œè¿˜è¦è¡¥UTï¼Œé‡æ–°è‡ªæµ‹ã€‚emmmï¼Œå·¥ä½œé‡è¶…å¤§ã€‚å’Œäº§å“æ²Ÿé€šäº†ä¸‹ï¼Œå…¶å®è¿™ä¸ªä¸šåŠ¡å°±æ˜¯æŠ€æœ¯é‡æ„æ€§è´¨ï¼Œçº¿ä¸ŠRnå¤šè·‘ä¸€ä¸ªç¤¼æ‹œä¹Ÿæ— ç¢ï¼Œæµ‹è¯•ç»„ä¹Ÿæ°å¥½ç‰¹åˆ«å¿™ï¼Œdelayä¸€å‘¨ä»–ä»¬è§‰å¾—okã€‚å€¾å‘æ”¹ã€‚ æŠ€æœ¯æ ˆå½±å“ä»é•¿è¿œçœ‹ï¼Œæ”¹åŠ¨æ˜¯è¿›æ­¥çš„ã€‚å¯¹UTå‹å¥½ï¼Œæ›´ä¸¥è°¨çš„ç»“æ„ï¼Œä¹Ÿæ›´Functionalã€‚å°ä¼™ä¼´ä»¬è§‰å¾—è‡ªå·±ä¹Ÿèƒ½é©¾é©­ï¼Œä¸è¿‡æ˜¯å¤šå†™ç‚¹å¥—è·¯ä»£ç ï½ï¼ŒæŠ€æœ¯æ ˆå€¾å‘æ”¹ã€‚ ä¼™ä¼´æ”¯æŒåº¦å¼•å…¥Middlewareå¸¦æ¥çš„å¥½å¤„èƒ½å¦è®©å°ä¼™ä¼´æ„¿æ„åŠ ç­æŠŠè‡ªå·±çš„æ¨¡å—éƒ½æ”¹å†™äº†ï¼Œè¿˜è¡¥ä¸ŠUTï¼Ÿå®è·µå‡ºçœŸçŸ¥ï¼Œæ‰€ä»¥å¤§å®¶è®¨è®ºå†³å®šï¼Œç”¨åŠå¤©æ—¶é—´ç†è§£å¹¶æ”¹å†™ä¸€ä¸ªå°æ¨¡å—ï¼Œå†æŠ•ç¥¨å†³å®šæ˜¯å¦æ”¹ã€‚è®¨è®ºå¾ˆæ¿€çƒˆï¼Œè¯é¢˜ä¸€åº¦è·‘åã€‚ã€‚ã€‚ è®¨è®ºä¸‹æ¥ï¼Œæœ€ç»ˆå†³å®šæ˜¯æ”¹ï¼Œä¸€æ˜ŸæœŸåå¤§å®¶éƒ½è¯´ï¼ŒçœŸé¦™ï¼ æ”¹åŠ¨ç‚¹å¢åˆ  åˆ æ‰åŸæ¥Serviceçš„static APIå®šä¹‰ï¼ŒåŠ å…¥Middlewareå’ŒRepositoryã€‚Middlewareè´Ÿè´£ç½‘ç»œè¯·æ±‚ï¼Œæ•°æ®å¤„ç†ï¼Œå¹¶æ ¹æ®æ•°æ®çŠ¶æ€è¿›è¡ŒActionçš„åˆ†å‘ã€‚RepositoryåŠŸèƒ½æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ•°æ®æ¥æºï¼ˆå¯èƒ½æ¥æºäºç½‘ç»œï¼Œä¹Ÿå¯èƒ½æ˜¯æ•°æ®åº“ï¼‰ï¼Œå› ä¸ºå¼•å…¥Dioï¼Œæ‰€ä»¥ä¼šå¾ˆç²¾ç®€ï¼Œå½¢å¼ä¸Šå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªEndpointå®šä¹‰ã€‚ Middleware 12345678910111213141516171819class XXXMiddlewareFactory extends MiddlewareFactory &#123; XXXMiddlewareFactory(AppRepository repository) : super(repository); @override List&lt;Middleware&lt;AppState&gt;&gt; generate() &#123; return [ TypedMiddleware&lt;AppState, FetchAction&gt;(_fetchXXX), ]; &#125; void _fetchXXX(Store&lt;AppState&gt; store, FetchAction action, NextDispatcher next) &#123; Services.asyncRequest( () =&gt; repository.fetch(), FetchRequestAction(), (json) =&gt; FetchSuccessAction(), (errorInfo) =&gt; FetchFailureAction(errorInfo: errorInfo)); &#125;&#125; Repository 1234Future&lt;Response&gt; fetchXXX(String uid) &#123; return Services.rest.get( '/xxx_api/$&#123;path&#125;/$&#123;groupUid&#125;/manual_activities/$uid/');&#125; ä¿®æ”¹ ScreenæŠŠUIéƒ½æŠ½åˆ°Presentationé‡Œï¼Œå®ƒä¾èµ–ä¸€ä¸ªvmã€‚æ•°æ®å¡«å……å¹¶é©±åŠ¨UIå˜åŒ–ï¼Œè¿™æ ·UIä¹Ÿå¯ä»¥å†™å¾ˆå…¨é¢çš„UTã€‚Reduceråˆ™æ˜¯åˆ©ç”¨Flutter_reduxåº“æä¾›çš„combineReducersæ–¹æ³•ï¼Œå°†åŸæ¥ä¸€ä¸ªå¤§çš„Reducerç²’åº¦åˆ‡åˆ°æœ€å°ã€‚æ–¹ä¾¿å†™UTå’Œä¸šåŠ¡å¢é‡è¿­ä»£ã€‚ Screen 1234567891011121314151617181920212223242526272829303132333435class XXXPresentation extends StatelessWidget &#123; final XXXViewModel vm; const XXXPresentation(&#123;Key key, this.vm&#125;) : super(key: key); @override Widget build(BuildContext context) &#123; return Container(); &#125;&#125;class XXXScreen extends StatelessWidget &#123; static const String routeName = 'xxx_screen'; @override Widget build(BuildContext context) &#123; return StoreConnector&lt;AppState, XXXViewModel&gt;( distinct: true, onInit: (store) &#123; store.dispatch(FetchXXXAction(isRefresh: true)); &#125;, onDispose: (store) =&gt; store.dispatch(XXXResetAction()), converter: XXXViewModel.fromStore, builder: (context, vm) &#123; return XXXPresentation(vm: vm); &#125;, ); &#125;&#125;class XXXViewModel &#123; static XXXViewModel fromStore(Store&lt;AppState&gt; store) &#123; return XXXViewModel(); &#125;&#125; Reducer 12345678910111213141516171819202122232425@immutableclass XXXState &#123; final bool isLoading; XXXState(&#123;this.isLoading, &#125;); XXXState copyWith(&#123;bool isLoading, &#125;) &#123; return XXXState( isLoading: isLoading ?? this.isLoading, ); &#125; XXXState.initialState() : isLoading = false;&#125;final xXXReducer = combineReducers&lt;XXXState&gt;([ TypedReducer&lt;XXXState, Action&gt;(_onRequest),]);XXXState _onRequest(XXXState state, Action action) =&gt; state.copyWith(isLoading: false); UTé›†æˆ ç°åœ¨çš„coverageæ˜¯48%ï¼Œæ ¸å¿ƒæ¨¡å—æœ‰80%+ï¼Œæœ‰å¿…è¦çš„è¯è¾¾åˆ°95%ä»¥ä¸Šæ—¶å®Œå…¨okçš„ã€‚åŸå› æ˜¯è§£è€¦ä»¥åæ–¹æ–¹é¢é¢éƒ½å¯ä»¥UTäº† widget(çº¯) 12// å®˜æ–¹æ–‡æ¡£å†™çš„æ¸…æ¥šæ˜ç™½https://flutter.io/docs/testing Utils è¢«å¤šæ¬¡ä½¿ç”¨çš„æ‰ä¼šæŠ½æˆå·¥å…·ç±»ï¼Œçº¯é€»è¾‘ä¹Ÿå¾ˆå®¹æ˜“å†™æµ‹è¯•ï¼ŒUTåº”è¯¥å…ˆæ»¡ä¸Šã€‚ 123456789101112131415group('test string util', () &#123; test('isValidPhone', () &#123; var boolNull = StringUtil.isValidPhone(null); var boolStarts1 = StringUtil.isValidPhone('17012341234'); var boolStarts2 = StringUtil.isValidPhone('27012341234'); var boolLength10 = StringUtil.isValidPhone('1701234123'); var boolLength11 = StringUtil.isValidPhone('17012341234'); expect(boolNull, false); expect(boolStarts1, true); expect(boolStarts2, false); expect(boolLength10, false); expect(boolLength11, true); &#125;);&#125; Presentation ä¸šåŠ¡çš„è½½ä½“ã€‚å¯¹äºæ¯”è¾ƒæ ¸å¿ƒçš„ä¸šåŠ¡ï¼Œæ— è®ºæ˜¯æµç¨‹è§„èŒƒå®šä¹‰è¿˜æ˜¯æ•°æ®è¾¹ç•Œæ¡ä»¶éƒ½å¯ä»¥ç”¨UTæ¥è‡ªåŠ¨åŒ–ä¿éšœã€‚ 1234567891011121314151617181920group('test login presentation', () &#123; Store&lt;AppState&gt; store; setUp(() &#123; store = Store&lt;AppState&gt;(reduxReducer, initialState: initialReduxState(), distinct: true); StoreContainer.setStoreForTest(store); &#125;); testWidgets('test loading', (WidgetTester tester) async &#123; final vm = LoginViewModel(isLoading: true, isSendPinSuccess: false); await TestHelper.pumpWidget(tester, store, LoginPresentation(vm: vm)); expect(find.byType(CupertinoActivityIndicator), findsOneWidget); ... &#125;); testWidgets('test has data',(WidgetTester tester) async &#123; ... &#125;); testWidgets('test has no data',(WidgetTester tester) async &#123; ... &#125;); &#125; Reducer å­˜æ”¾æ•°æ®ï¼Œå¯ä»¥ç”¨UTæ¥éªŒè¯ç‰¹å®šActionæ˜¯å¦æ”¹å˜äº†ç‰¹å®šçš„æ•°æ®ã€‚ 1234567891011121314group('notificationReducer', () &#123; test('FetchMessageUnreadRequestAction', () &#123; store.dispatch(FetchMessageUnreadRequestAction()); expect(store.state.notification.isLoading, true); &#125;); test('FetchMessageUnreadSuccessAction', () &#123; final payload = MessageUnreadInfo.initialState(); store.dispatch(FetchMessageUnreadSuccessAction(payload: payload)); expect(store.state.notification.messageUnreadInfo, payload); expect(store.state.notification.isLoading, false); &#125;); ...&#125; Middleware å«ä¸­é—´ä»¶ä»£è¡¨å®ƒä¸æ˜¯å¿…é¡»ï¼Œæ˜¯å¯ä»¥è¢«æ’æ‹”ï¼Œå¯ä»¥å åŠ å¤šä¸ªçš„ã€‚æ¯ä¸ªä¸­é—´ä»¶ä¼šæœ‰ä¸€ä¸ªæ˜ç¡®çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å¼•å…¥çš„ä¸­é—´ä»¶åœ¨è¿™é‡Œæ˜¯å¤„ç†ç½‘ç»œæ•°æ®ï¼Œæ ¹æ®æƒ…å†µå‘å¯¹åº”Actionã€‚ 123456789101112131415161718192021222324group('Middleware', () &#123; final repo = MockAppRepository(); Store&lt;AppState&gt; store; setUpAll(() async &#123; await mockApiSuc(repo); &#125;); setUp(() &#123; store = Store&lt;AppState&gt;(reduxReducer, initialState: initialReduxState(), middleware: initialMiddleware(repo), distinct: true); StoreContainer.setStoreForTest(store); &#125;); group('NotificationMiddlewareFactory', () &#123; test('FetchMessageUnreadAction', () &#123; store.dispatch(FetchMessageUnreadAction()); verify(repo.fetchMessagesUnread()); &#125;); test('FetchMessageForHomeAction', () &#123; store.dispatch(FetchMessageForHomeAction()); verify(repo.fetchMessagesForHome()); &#125;); ... &#125; å‚è€ƒflutter_redux_sample flutter_architecture_samples One More Thing TNTï¼Œè®©ä½ çš„å·¥ä½œæ•ˆç‡æé«˜å‡ ç™¾å€ï¼Œè€ç½—è®¤çœŸä¸¥è‚ƒçš„è¯´ã€‚å¼€ä¸ªç©ç¬‘ï¼Œè¿™ä¸ªæœ‰å¾…éªŒè¯ã€‚ä½†Live Templatesï¼Œæå‡ä½ çš„ç¼–ç¨‹æ•ˆç‡å’Œä½“éªŒï¼Œè‚¯å®šæ˜¯çœŸçš„ ä½¿ç”¨åœ°å€ï¼šhttps://github.com/hui-z/live-templates ï¼ˆå®Œï¼‰"},{"title":"Flutter Redux","date":"2018-11-24T14:45:00.000Z","path":"2018/11/24/2018/Flutter redux/","text":"ç›®çš„ Reduxæ˜¯ä»€ä¹ˆ Reduxåœ¨Flutteré‡Œçš„ä½œç”¨ Flutteré‡Œå¦‚ä½•ä½¿ç”¨Redux æ•ˆæœFlutter Appæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç»´æŠ¤Stateï¼ŒModelï¼ŒRouteã€‚éšç€ä¸šåŠ¡çš„å¢åŠ ï¼Œè¿™äº›å·¥ä½œä¼šå˜å¾—å¾ˆå¤æ‚ï¼Œä¹Ÿä¸å¯é¢„æµ‹ï¼Œå¤ç°ä¸€ä¸ªbugä¼šå¾ˆå›°éš¾ï¼Œè·¨ç»„ä»¶ä¼ é€’æ•°æ®ä¹Ÿå¾ˆéš¾ã€‚Reduxæ€æƒ³ç»§æ‰¿äºFluxï¼Œé€šè¿‡åˆç†çš„çº¦å®šè®©ä¸šåŠ¡åˆ†å±‚è§£è€¦ï¼Œæ•°æ®çš„å˜åŠ¨å¯ä»¥é¢„æµ‹ï¼Œå¯ä»¥é‡ç°ã€‚Reduxæœ‰ä¸‰ä¸ªåŸåˆ™ï¼š 1.å•ä¸€çš„æ•°æ®æ¥æºï¼ˆAppç»Ÿä¸€çš„Storeï¼‰ 2.çŠ¶æ€Stateæ˜¯åªè¯»çš„ï¼ˆæ•°æ®ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½ç”¨è¿‡çº¦å®šçš„Actionè§¦å‘ï¼ŒReduceä¿®æ”¹ï¼‰ 3.æ•°æ®æ”¹åŠ¨é¡»æ˜¯çº¯å‡½æ•°ï¼ˆè¿™äº›çº¯å‡½æ•°å«Reducerï¼Œå®šä¹‰äº†å¦‚ä½•ä¿®æ”¹Storeï¼Œç”±Actionè§¦å‘ï¼‰ åŸç†Reduxï¼ˆ3.0.0ï¼‰æ˜¯ä½œè€…ç”¨DartæŠŠJS çš„reduxåº“å®ç°äº†ï¼Œå®ƒå®šä¹‰äº†Storeï¼ŒActionï¼ŒReduceï¼ŒMiddlewareä»¥åŠå®ƒä»¬ä¹‹é—´çš„è¡Œä¸ºå…³ç³»ã€‚ flutter_reduxï¼ˆ0.5.2ï¼‰ä½œä¸ºå·¥å…·ç±»æ¡¥æ¥Reduxå’ŒFlutterï¼Œå®ƒæä¾›äº†StoreProviderï¼ŒStoreBuilderï¼ŒStoreConnectorè¿™äº›ç»„ä»¶ï¼Œä½¿æˆ‘ä»¬åœ¨flutterä¸­ä½¿ç”¨reduxå˜çš„å¾ˆç®€ä¾¿ã€‚ æµç¨‹å›¾ ActionActionå®šä¹‰ä¸€ç§è¡Œä¸ºï¼Œå¯ä»¥æºå¸¦ä¿¡æ¯ï¼Œå‘å¾€Storeã€‚æ¢è¨€ä¹‹Storeå‘ç”Ÿæ”¹å˜é¡»ç”±Actionè§¦å‘ã€‚Live Templateå¿«æ·é”®acï¼Œåˆ›å»ºä¸€å¥—Api Acitonï¼š 1234567891011class xxxRequestAction extends VoidAction &#123;&#125;class xxxSuccessAction extends ActionType &#123; final payload; xxxSuccessAction(&#123;this.payload&#125;) : super(payload: payload);&#125;class xxxFailureAction extends ActionType &#123; final RequestFailureInfo errorInfo; xxxFailureAction(&#123;this.errorInfo&#125;) : super(payload: errorInfo);&#125; APIAppåŠŸèƒ½æœ€å°ç²’åº¦ä¾èµ–æ˜¯APIï¼Œä¸€èˆ¬æˆ‘ä»¬å‰åç«¯ä¼šçº¦å®šä¸€å¥—Restæ¥å£å®šä¹‰ã€‚è¿™é‡ŒAPPç«¯æ˜¯ç”¨ä¸€ä¸ªé™æ€æ–¹æ³•å°è£…å®ç°çš„ï¼Œé‡Œé¢å®šä¹‰äº†Pathï¼ŒRequestï¼ŒSuccessï¼ŒFailureä¸‰ä¸ªActionçš„å“åº”å›è°ƒã€‚ 12345678910static fetchxxx() &#123; final access = StoreContainer.access; final apiFuture = Services.rest.get('/zpartner_api/$&#123;access.path&#125;/$&#123;access.businessGroupUid&#125;/xxxx/'); Services.asyncRequest( apiFuture, xxxRequestAction(), (json) =&gt; xxxSuccessAction(payload: xxxInfo.fromJson(json)), (errorInfo) =&gt; xxxFailureAction(errorInfo: errorInfo));&#125; Reduce&amp;stateStateæ˜¯Storeçš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®šä¹‰äº†è¿™ä¸ªèŠ‚ç‚¹çš„æ•°æ®ç”³æ˜ï¼ŒReduceæ¯ä¸€æ¬¡å“åº”Actionéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Stateå»æ›¿æ¢åŸæ¥Storeé‡Œçš„é‚£ä¸ªèŠ‚ç‚¹Stateã€‚Reduceå’ŒStateåŸºæœ¬ä¸Šæ˜¯ä¸€å¯¹ä¸€çš„ï¼Œæ‰€ä»¥æŠŠä»–ä»¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚Live Templateå¿«æ·é”®rdï¼Œåˆ›å»ºä¸€å¥—Reduce&amp;Stateï¼š 1234567891011121314151617181920212223242526272829@immutableclass xxxState &#123; final bool isLoading; xxxState(&#123;this.isLoading&#125;); xxxState copyWith(&#123;bool isLoading&#125;) &#123; return xxxState(isLoading: isLoading ?? this.isLoading); &#125; xxxState.initialState() : isLoading = false; &#125;class xxxReducer &#123; xxxState reducer(xxxState state, ActionType action) &#123; switch (action.runtimeType) &#123; case xxxRequestAction: return state.copyWith(isLoading: ); case xxxSuccessAction: return state.copyWith(isLoading: ); case xxxFailureAction: return state.copyWith(isLoading: ); default: return state; &#125; &#125;&#125; Middlewareä¸­é—´ä»¶ï¼Œæ’åœ¨Actionè§¦å‘åè¿˜æ²¡æœ‰åˆ°è¾¾Reduceä¹‹é—´æ‰§è¡Œï¼Œä¸€èˆ¬æ˜¯ç”¨æ¥åšä¸€äº›APIå¼‚æ­¥è¯·æ±‚å¹¶å¤„ç†ã€‚è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œå½“æ—¶é‰´äºDioç½‘ç»œåº“å¯¹æ•°æ®æœ‰Jsonå¤„ç†ï¼Œflutter_epicè¡¨ç°ä¹Ÿè¿˜ä¸å¤Ÿç¨³å®šã€‚æ‰€ä»¥æˆ‘ä»¬æ²¡ç”¨Middlewareè€Œæ˜¯å°è£…äº†ä¸€ä¸ªå·¥å…·æ–¹æ³•åœ¨API servicesé‡Œç›´æ¥è°ƒç”¨å¤„ç†APIå¹¶ä¸”æ ¹æ®ç»“æœåˆ†å‘å¯¹åº”Actionã€‚æœ‰æ¥å…¥é›†æˆæµ‹è¯•çš„éœ€è¦ï¼Œéœ€è¦é‡ç‚¹è€ƒè™‘æ˜¯å¦å¼•å…¥å®ƒã€‚ è¿›é˜¶å…¨å±€ActionAppé‡Œçš„ç™»å‡ºæ“ä½œæ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ï¼Œå®ƒå¯èƒ½åœ¨ä¸åŒæ¨¡å—è¢«è°ƒèµ·ï¼Œè€Œä¸”éœ€è¦åšçš„æ“ä½œæ˜¯æ¸…ç©ºæ•´ä¸ªStoreã€‚æˆ‘ä»¬ç”¨äº†ä¸€ä¸ªGlobalReduceå»åˆ†å‘Action 12345678910111213141516AppState reduxReducer(AppState state, action) =&gt; GlobalReducer().reducer(state, action);class GlobalReducer &#123; AppState reducer(AppState state, ActionType action) &#123; switch (action.runtimeType) &#123; case AppRestartAction: hasToken(); return _initialReduxState(); default: return AppState( login: LoginReducer().reducer(state.login, action), ...) &#125; &#125;&#125; APIFuctionå‰é¢æåˆ°æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨Middlewareï¼Œè€Œæ˜¯è‡ªå·±å°è£…äº†ä¸€ä¸ªå·¥å…·Functionï¼Œå¥½å¤„æ˜¯ç®€å•æ˜“ç”¨ï¼Œç¼ºç‚¹æ˜¯æ²¡æœ‰æ˜ç¡®è¿”å›å€¼ä¸å¥½å†™æµ‹è¯•ï¼Œåˆ©å¼Šéœ€è¦æƒè¡¡ä¸‹çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/// common function for network with dio/// Future&lt;Response&gt; apiFuture [Dio.request]/// request action/// success action/// failure actionstatic asyncRequest( Future&lt;Response&gt; apiFuture, ActionType request, ActionType Function(dynamic) success, ActionType Function(RequestFailureInfo) failure,) async &#123; // request StoreContainer.global.dispatch(request); final requestBegin = DateTimeUtil.dateTimeNowMilli(); try &#123; final response = await apiFuture; final requestEnd = DateTimeUtil.dateTimeNowMilli(); final requestSpend = requestEnd - requestBegin; if (requestSpend &lt; requestMinThreshold) &#123; await Future.delayed(Duration( milliseconds: requestMinThreshold - requestSpend)); // è¯·æ±‚è¿”å›å¤ªå¿«ï¼Œé¡µé¢æœ‰ç‚¹å¡é¡¿ï¼Œæœ‰ç‚¹å°´å°¬ todo &#125; // success StoreContainer.global.dispatch(success(response.data)); &#125; on DioError catch (error) &#123; var message = ''; var code = '-1'; var url = ''; if (error.response != null) &#123; var errorData = error.response.data; List messageList = errorData is Map&lt;String, dynamic&gt; ? ((errorData['message']) ?? []) : []; messageList .forEach((item) =&gt; message = message + item.toString() + ' '); code = error.response.statusCode.toString(); url = error.response.request.baseUrl + error.response.request.path; &#125; else &#123; message = error.message; &#125; final model = RequestFailureInfo( errorCode: code, errorMessage: message, dateTime: DateTimeUtil.dateTimeNowIso()); // failure StoreContainer.global.dispatch(failure(model)); &#125;&#125; å±€éƒ¨åˆ·æ–°ä½¿ç”¨flutter_reduxæä¾›çš„StoreConnectorç»„ä»¶æ—¶ï¼Œå¯ä»¥è®¾ç½®distinctä¸ºtureï¼ŒStoreå˜åŒ–åæ˜¯å¦åˆ·æ–°è§†å›¾å¯ä»¥å®Œå…¨è‡ªå·±æ§åˆ¶ã€‚åŸç†æ˜¯éœ€è¦é‡è½½ViewModelçš„==è¿ç®—ç¬¦å’Œé‡å†™hashcodeæ–¹æ³•ã€‚è¿™æ ·åœ¨Storeå˜åŒ–æ—¶ï¼ŒStoreStreamListeneré€šè¿‡æ¯”å¯¹å‰åä¸¤ä¸ªViewModelæ˜¯å¦ç›¸ç­‰æ¥è§¦å‘æ˜¯å¦é‡æ–°builderï¼Œè€Œè¿™ä¸ªæ˜¯å¦ç›¸ç­‰éƒ½æ˜¯æˆ‘ä»¬é‡å†™å¹¶è‡ªå·±æ§åˆ¶çš„ã€‚ 123456789101112131415161718192021222324252627class _RestartAppViewModel &#123; Key key; bool isLogin; _RestartAppViewModel(&#123;this.key, this.isLogin&#125;); static _RestartAppViewModel fromStore(Store&lt;AppState&gt; store) =&gt; _RestartAppViewModel( key: store.state.cache.key, isLogin: store.state.cache.isLogin); @override int get hashCode =&gt; key.hashCode ^ isLogin.hashCode; @override bool operator ==(other) =&gt; identical(this, other) || other is _RestartAppViewModel &amp;&amp; key == other.key &amp;&amp; isLogin == other.isLogin;&#125;StoreConnector&lt;AppState, _RestartAppViewModel&gt;( distinct: true, builder: (context, vm) &#123; return App(vm.isLogin, vm.key); &#125;, converter: (store) =&gt; _RestartAppViewModel.fromStore(store)) å‚è€ƒhttps://github.com/johnpryan/redux.dart/tree/master/doc ï¼ˆå®Œï¼‰"},{"title":"Flutter BottomNavigationBar","date":"2018-11-08T14:28:00.000Z","path":"2018/11/08/2018/Flutter Bottom Navigation Bar/","text":"åº•éƒ¨å¯¼èˆªæ˜¯å¸¸è§çš„APPå¸ƒå±€æ–¹å¼ï¼Œå®é™…ä¸Šæˆ‘è‡ªå·±å¸¸ç”¨çš„appéƒ½æ˜¯åº•éƒ¨å¯¼èˆªçš„ã€‚Androidå’ŒiOSéƒ½æœ‰å®˜æ–¹ç»„ä»¶å¯ä¾›ä½¿ç”¨ã€‚Flutterä¹Ÿæœ‰ï¼Œä½¿ç”¨æ—¶æœ‰è¸©å‘ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ ä¸€èˆ¬ç”¨æ³•æ™®é€šå®ç°: 1234567891011121314BottomNavigationBar botttomNavBar = BottomNavigationBar( items: [ BottomNavigationBarItem(icon: Icon(Icons.code), title: Text(&apos;code&apos;)), BottomNavigationBarItem(icon: Icon(Icons.add), title: Text(&apos;add&apos;)), BottomNavigationBarItem(icon: Icon(Icons.print), title: Text(&apos;print&apos;)) ], currentIndex: _currentIndex, type: BottomNavigationBarType.fixed, onTap: (int index) &#123; setState(() &#123; _currentIndex = index; &#125;); &#125;,); é—®ï¼šçœ‹èµ·æ¥å¾ˆç®€å•ï¼Œè‡³äºåˆ†æè¿™ä¹ˆå¤šå—ï¼Ÿ ç­”ï¼šemmmmï¼Œè¿™å®ç°ä¼˜ç‚¹æ˜¯è®¾è®¡æ ‡å‡†è§„èŒƒï¼Œå®˜æ–¹ç»„ä»¶ä¹Ÿç®€å•ç¨³å®šå¯é ã€‚ä½†å‰ææ˜¯è®¾è®¡å¸ˆæ¥å—è¿™ç§è®¾å®šï¼ˆå³ä½¿æ˜¯fixedï¼Œé€‰ä¸­å›¾æ ‡å’Œæ–‡å­—ä¹Ÿä¼šæœ‰æ”¾å¤§ç¼©å°åŠ¨ç”»ï¼‰ï¼Œè‡³å°‘ä¸­å›½ä¸»æµçš„APPï¼Œnavigation iteméƒ½æ˜¯fixedè€Œä¸”æ²¡æœ‰åŠ¨ç”»ï¼Œå®˜æ–¹ç»„ä»¶å¹¶ä¸æä¾›è¿™ç§é€‰æ‹©ã€‚ æœ‰ç‚¹é—®é¢˜æ—¢ç„¶è®¾è®¡å¸ˆæœ‰è¦æ±‚é‚£ä¸èƒ½æ€‚ï¼Œåˆ†ææ˜¯å› ä¸ºå†…éƒ¨çš„_BottomNavigationTileä½œç¥Ÿï¼Œé‚£è‡ªå·±å®ç°navigationItemæ§åˆ¶æ˜¯å¦é€‰ä¸­ï¼Œå¹¶ä¸”ä¸ä¼ currentIndexç»™BottomNavigationBarï¼Œåº”è¯¥å¯ä»¥å§ 123456789101112131415161718192021222324252627282930313233Widget _buildBottomNavigationBar() &#123; return BottomNavigationBar( type: BottomNavigationBarType.fixed, items: [ _buildItem(icon: Icons.code, tabItem: TabItem.code), _buildItem(icon: Icons.add, tabItem: TabItem.add), _buildItem(icon: Icons.print, tabItem: TabItem.print), ], onTap: _onSelectTab, );&#125;// ç”¨å®šåˆ¶åŒ–çš„iconå’ŒtabItemæ„å»ºBottomNavigationBarItemBottomNavigationBarItem _buildItem(&#123;IconData icon, TabItem tabItem&#125;) &#123; String text = tabItemName(tabItem); return BottomNavigationBarItem( icon: Icon( icon, color: _colorTabMatching(item: tabItem), ), title: Text( text, style: TextStyle( color: _colorTabMatching(item: tabItem), ), ), );&#125;// åˆ‡æ¢itemçš„é¢œè‰²ï¼Œé€‰ä¸­ç”¨primaryColorï¼Œå…¶ä»–éƒ½æ˜¯grey Color _colorTabMatching(&#123;TabItem item&#125;) &#123; return currentItem == item ? Theme.of(context).primaryColor : Colors.grey;&#125; é—®ï¼šæ•ˆæœå¦‚ä½•ï¼Ÿ ç­”ï¼šå—¯ï¼Œä¸é”™ã€‚ç­‰ç­‰ã€‚ã€‚ã€‚å•Šï¼Œæ€ä¹ˆæœ‰ä¸ªå¤§ä¸€ç‚¹ã€‚æ²¡é“ç†å•Šï¼Œäº‹å‡ºè¹Šè··å¿…æœ‰å¦–ï¼Œéœ€è¦ä»æºç ä¸­æ‰¾ç­”æ¡ˆäº†ã€‚ä¸‹å›¾çš„homeæ˜æ˜¾æ¯”mailå¤§ï¼Œå¯¹å§ï¼Ÿ æºç é˜…è¯»ä¸»è¦ä»£ç éƒ½åœ¨bottom_navigation_bar.darté‡Œï¼Œbottom_navigation_bar_item.dartæ˜¯itemçš„å®šä¹‰ bottom_navigation_bar_item.dart ç›¸å½“äºæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„Buttonï¼Œç”¨æ¥æ”¾åœ¨BottomNavigationBarä¸Šï¼Œå®ƒå®ç°äº†Material(Android)å’ŒCupertino(iOS)ä¸¤ç§é£æ ¼ã€‚ bottom_navigation_bar.dart Scaffoldæ˜¯Root Widget- MaterialAppçš„è„šæ‰‹æ¶ã€‚å°è£…äº†Material Design Appä¼šç”¨åˆ°çš„AppBarï¼ŒDrawerï¼ŒSnackBarï¼ŒBottomNavigationBarç­‰ã€‚BottomNavigationBarTypeæœ‰fixed å’Œshiftingä¸¤ç§æ ·å¼ï¼Œè¶…è¿‡\u0010\u0010\u00103ä¸ªæ‰ä¼šæœ‰åŒºåˆ«ï¼Œä¸€èˆ¬ä¸ºäº†ä½“éªŒä¸€è‡´ï¼Œæˆ‘ä»¬ä¼šç”¨fixed typeã€‚ BottomNavigationBaræ˜¯ä¸€ä¸ªStatefulWidgetï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤åˆ†æè¿™ç§ç»„ä»¶ï¼š1ï¼Œå…ˆçœ‹å®ƒæŒæœ‰çš„çŠ¶æ€ï¼Œ2ï¼Œçœ‹ä¸‹ä»–çš„ç”Ÿå‘½å‘¨æœŸå®ç°ï¼Œ3ï¼Œå†ä»”ç»†åˆ†æå®ƒçš„buildæ–¹æ³•ã€‚ æŒæœ‰çŠ¶æ€ 123456789List&lt;AnimationController&gt; _controllers = &lt;AnimationController&gt;[];List&lt;CurvedAnimation&gt; _animations;// A queue of color splashes currently being animated.final Queue&lt;_Circle&gt; _circles = Queue&lt;_Circle&gt;();// Last splash circle's color, and the final color of the control after// animation is complete.Color _backgroundColor; å‰é¢ä¸‰ä¸ªå±æ€§éƒ½å’ŒåŠ¨ç”»ç›¸å…³ï¼Œç¬¬å››ä¸ªæ˜¯è®¾èƒŒæ™¯ã€‚ é—®ï¼šBottomNavigationBarä¸ºä»€ä¹ˆæ²¡æœ‰å˜é‡æ ‡è®°å½“å‰å“ªä¸ªitemé€‰ä¸­ï¼Ÿ ç­”ï¼šå‡½æ•°å¼ç¼–ç¨‹ä¸€ä¸ªåŸåˆ™æ˜¯è¦å‡½æ•°å°½é‡çº¯ï¼ŒcurrentIndexè¿™ä¸ªå±æ€§ä¾èµ–å¤–è¾¹ä¼ å…¥ï¼Œæ¯æ¬¡å˜åŒ–é‡æ–°è§¦å‘Renderã€‚å¦‚æœè‡ªå·±ç»´æŠ¤ï¼Œåˆ™è¿˜éœ€è¦æä¾›ä¸€ä¸ªå›è°ƒæ–¹æ³•ä¾›å¤–éƒ¨è°ƒç”¨ï¼Œè¿”å›æœ€æ–°çš„currentIndexå€¼ã€‚ ç”Ÿå‘½å‘¨æœŸæ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// åˆå§‹åŒ–æ“ä½œï¼Œå…·ä½“å®ç°å†resetStateé‡Œï¼Œå¯¹ä¸Šé¢çš„è¿™äº›çŠ¶æ€å±æ€§åˆå§‹åŒ–æ“ä½œ@overridevoid initState() &#123; super.initState(); _resetState();&#125;// å›æ”¶èµ„æºæ“ä½œï¼Œä¸€èˆ¬ç”¨åˆ°åŠ¨ç”»éƒ½éœ€è¦çš„@overridevoid dispose() &#123; for (AnimationController controller in _controllers) controller.dispose(); for (_Circle circle in _circles) circle.dispose(); super.dispose(); &#125;// å½“å±æ€§å˜åŒ–æ—¶Flutterç³»ç»Ÿå›è°ƒè¯¥æ–¹æ³•ã€‚å½“itemæ•°é‡å˜åŒ–æ—¶ç›´æ¥é‡æ–°åˆå§‹åŒ–ï¼›å½“indexå˜åŒ–ï¼Œåšç›¸åº”åŠ¨ç”»ã€‚@overridevoid didUpdateWidget(BottomNavigationBar oldWidget) &#123; super.didUpdateWidget(oldWidget); // No animated segue if the length of the items list changes. if (widget.items.length != oldWidget.items.length) &#123; _resetState(); return; &#125; if (widget.currentIndex != oldWidget.currentIndex) &#123; switch (widget.type) &#123; case BottomNavigationBarType.fixed: break; case BottomNavigationBarType.shifting: _pushCircle(widget.currentIndex); break; &#125; _controllers[oldWidget.currentIndex].reverse(); _controllers[widget.currentIndex].forward(); &#125; if (_backgroundColor != widget.items[widget.currentIndex].backgroundColor) _backgroundColor = widget.items[widget.currentIndex].backgroundColor; &#125;// ä¸‹é¢åˆ†æ@overrideWidget build(BuildContext context) &#123;&#125; æ³¨æ„ï¼šinitStateé‡Œæœ‰ä¸ªæ“ä½œæ¯”è¾ƒéšè”½ï¼š_controllers[widget.currentIndex].value = 1.0; åˆ†æbuildæ–¹æ³• 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152@override Widget build(BuildContext context) &#123; // debug æ£€æŸ¥ assert(debugCheckHasDirectionality(context)); assert(debugCheckHasMaterialLocalizations(context)); // Labels apply up to _bottomMargin padding. Remainder is media padding. final double additionalBottomPadding = math.max(MediaQuery.of(context).padding.bottom - _kBottomMargin, 0.0); // æ ¹æ®BottomNavigationBarTypeè®¾èƒŒæ™¯è‰²ï¼Œshiftingæ‰ä¼šæœ‰ Color backgroundColor; switch (widget.type) &#123; case BottomNavigationBarType.fixed: break; case BottomNavigationBarType.shifting: backgroundColor = _backgroundColor; break; &#125; return Semantics( // Semanticsç”¨æ¥å®ç°æ— éšœç¢çš„ container: true, explicitChildNodes: true, child: Stack( children: &lt;Widget&gt;[ Positioned.fill( child: Material( // Casts shadow. elevation: 8.0, color: backgroundColor, ), ), ConstrainedBox( constraints: BoxConstraints(minHeight: kBottomNavigationBarHeight + additionalBottomPadding), child: Stack( children: &lt;Widget&gt;[ Positioned.fill( // ç‚¹å‡»æ—¶çš„åœ†å½¢ç±»æ³¢çº¹åŠ¨ç”» child: CustomPaint( painter: _RadialPainter( circles: _circles.toList(), textDirection: Directionality.of(context), ), ), ), Material( // Splashes. type: MaterialType.transparency, child: Padding( padding: EdgeInsets.only(bottom: additionalBottomPadding), child: MediaQuery.removePadding( context: context, removeBottom: true, // tileså°±æ˜¯_BottomNavigationTileï¼Œé‡Œé¢æ”¾BottomNavigationBarItem child: _createContainer(_createTiles()), )))]))])); &#125;&#125; _BottomNavigationTileçœ‹ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273 Widget _buildIcon() &#123; ... // æ„å»ºIocn &#125; Widget _buildFixedLabel() &#123; .... // éªšæ“ä½œï¼Œç”¨çŸ©é˜µæ¥ç»™æ–‡å­—ä½œåŠ¨ç”»ï¼Œæ›´å¹³æ»‘ // The font size should grow here when active, but because of the way // font rendering works, it doesn't grow smoothly if we just animate // the font size, so we use a transform instead. child: Transform( transform: Matrix4.diagonal3( Vector3.all( Tween&lt;double&gt;( begin: _kInactiveFontSize / _kActiveFontSize, end: 1.0, ).evaluate(animation), ), ), alignment: Alignment.bottomCenter, child: item.title, ), ), ), ); &#125; Widget _buildShiftingLabel() &#123; return Align(..... // shiftingçš„labelæ˜¯fadeåŠ¨ç”»ï¼Œåªæœ‰å½“å‰é€‰ä¸­çš„æ‰ä¼šæ˜¾ç¤ºlabel child: FadeTransition( alwaysIncludeSemantics: true, opacity: animation, child: DefaultTextStyle.merge( style: const TextStyle( fontSize: _kActiveFontSize, color: Colors.white, ), child: item.title, ), ), ), ); &#125; @override Widget build(BuildContext context) &#123; int size; Widget label; // ç”Ÿæˆä¸åŒçš„label switch (type) &#123; case BottomNavigationBarType.fixed: size = 1; label = _buildFixedLabel(); break; case BottomNavigationBarType.shifting: size = (flex * 1000.0).round(); label = _buildShiftingLabel(); break; &#125; return Expanded( .... children: &lt;Widget&gt;[ _buildIcon(), label, ], ), ), Semantics( label: indexLabel,&#125; æ”¹è¿›å®ç°é€šè¿‡åˆ†æåˆ†ææºç ï¼Œå‘ç°åŸå› æ˜¯bottomNavigationBarStateçš„initStateé‡Œ_controllers[widget.currentIndex].value = 1.0è®¾äº†currentIndex itemåŠ¨ç”»çš„åˆå€¼ï¼ŒcurrentIndexçš„é»˜è®¤å€¼æ˜¯0ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå›¾æ ‡ä¼šå¤§ä¸€ç‚¹ç‚¹ã€‚è¿™ä¸ªé—®é¢˜ä¹Ÿæœ‰æ¯”è¾ƒé¸¡è´¼çš„æ‰‹æ³•å¯ä»¥å¤„ç†ï¼ˆé­”æ”¹æºç ä»€ä¹ˆï½ï¼‰ï¼Œä½†è¿™æ ·å¤§å®¶éƒ½è§‰å¾—ä¸å¦¥ã€‚åŒäº‹çœ‰å¤´ä¸€çš±ï¼Œåšäº†ä¸€ä¸ªå¤§èƒ†çš„å†³å®šï¼Œä¸ç”¨ç³»ç»Ÿç»„ä»¶BottomNavigationBarï¼Œè‡ªå·±å°è£…ä¸€ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// SafeAreaæ¥å…¼å®¹ä¸‹iPhone Xï¼Œandroidå’ŒiOSé˜´å½±ä¸ä¸€æ ·ï¼Œæ‰€ä»¥åŒºåˆ†ä¸‹ã€‚Widget _buildBottomNavigationBar() &#123; return SafeArea( child: SizedBox( height: 50.0, child: Card( color: Platform.isIOS ? Colors.transparent : Colors.white, elevation: Platform.isIOS ? 0.0 : 8.0, // iphone æ— é˜´å½± shape: RoundedRectangleBorder(), margin: EdgeInsets.all(0.0), child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Divider(), Expanded( child: Row( mainAxisAlignment: MainAxisAlignment.center, crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ _buildBottomItem( image: HImages.home, text: 'é¦–é¡µ', index: 0), _buildBottomItem( image: HImages.stats, text: 'æ•°æ®', index: 1), _buildBottomItem( image: HImages.mine, text: 'æˆ‘çš„', index: 3) ]), ) ]))));&#125;// å°è£…çš„BottomItemï¼Œé€‰ä¸­é¢œè‰²ä¸ºprimaryColorï¼Œæœªé€‰ä¸­greyã€‚ç‚¹å‡»æ³¢çº¹æ•ˆæœInkResponseWidget _buildBottomItem(&#123;String image, String text, int index&#125;) &#123; Color color = currentIndex == index ? Theme.of(context).primaryColor : Colors.grey; return Expanded( child: InkResponse( child: Column( mainAxisAlignment: MainAxisAlignment.center, crossAxisAlignment: CrossAxisAlignment.center, children: &lt;Widget&gt;[ Image.asset(image, color: color, width: 22.0, height: 22.0), Text(text, style: TextStyle(color: color, fontSize: 10.0)) ]), onTap: () =&gt; setState(() =&gt; currentIndex = index)));&#125; é—®ï¼šè¿™è¯¥æ˜¯æœ€ç»ˆç‰ˆäº†å§ï¼Ÿ* ç­”ï¼šNaiveï¼Œæ˜¯è¿iPhone Xéƒ½è€ƒè™‘äº†ï¼Œä½†ç»†èŠ‚æ¸å˜é¢œè‰²ï¼Œplatformç‰¹æ€§æ”¯æŒè¿˜æ²¡æœ‰ã€‚ã€‚ã€‚è¯´åˆ°ç‰¹æ€§æˆ‘å°±ä½›äº†ï¼Œä¸€ä½›ï¼Œæˆ‘å°±æƒ³èµ·è¥¿å¤©å–ç»ï¼Œæ˜å¹´å¹´åˆï¼Œä¸­ç¾åˆæ‹çš„è¥¿æ¸¸è®°å³å°†æ­£å¼å¼€æœºï¼Œæˆ‘ç»§ç»­æ‰®æ¼”ç¾çŒ´ç‹å­™æ‚Ÿç©ºï¼Œæˆ‘ä¼šç”¨ç¾çŒ´ç‹è‰ºæœ¯å½¢è±¡åŠªåŠ›åˆ›é€ ä¸€ä¸ªæ­£èƒ½é‡çš„å½¢è±¡ï¼Œæ–‡ä½“ä¸¤å¼€èŠ±ï¼Œå¼˜æ‰¬ä¸­åæ–‡åŒ–ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šå…³æ³¨ã€‚ ä¸€äº›æ”¶è· ç»„ä»¶åŠ¨ç”»å®ç°å¯ä»¥å‚è€ƒBottomNavigationBarï¼Œè§„èŒƒï¼Œ æ–‡å­—åŠ¨ç”»å®ç°å¯ä»¥ç”¨Matrix4å’ŒVector3ï¼Œæ¯”è¾ƒé«˜çº§ï¼ˆè¿™ä¸ªåœ¨TabBarç”¨ä¸Šäº†ï¼‰ï¼Œ è€ƒè™‘ç»™å®˜æ–¹æä¸ªissueï¼ˆéœ€æ±‚æ¯”è¾ƒåŒºåŸŸåŒ–ï¼‰ã€‚ æœ¬æ–‡æºç åœ°å€ï¼šhttps://github.com/hyjfine/flutter-play ï¼ˆå®Œï¼‰"},{"title":"Flutter Theme","date":"2018-10-15T06:51:00.000Z","path":"2018/10/15/2018/Flutter Theme/","text":"ä¸»é¢˜ï¼ˆThemeï¼‰åœ¨è½¯ä»¶å¼€å‘é‡Œ å±äºé«˜çº§è¿½æ±‚ï¼ŒMac OSç»è¿‡å¤šå¹´æ¼”åŒ–åç»ˆäºåœ¨macOS Mojaveä¸­åŠ å…¥æ·±è‰²ä¸»é¢˜ï¼Œå¯ä»¥è®©ä½ åšèµ·äº‹æ¥æ›´ä¸“æ³¨ã€‚ ä½œç”¨ å–æ‚¦ç”¨æˆ·ï¼Œç™½èœèåœç»™ç”¨æˆ·æ›´å¤šä¸ªæ€§åŒ–é€‰æ‹© æå‡æ•ˆç‡ï¼Œæ¯”å¦‚æ·±è‰²ä¸»é¢˜è®©äººæ›´ä¸“æ³¨ï¼Œæ¼”ç¤ºæ¨¡å¼è®©å†…å®¹æ›´çªå‡º ç»„æˆä¸»é¢˜ï¼ˆThemeï¼‰ä¸€èˆ¬æ˜¯ç”±colorï¼ŒBG imageï¼ŒfontSizeï¼Œfontç­‰èµ„æºç»„æˆ Android/iOSandroidåº”ç”¨èµ„æºéƒ½åœ¨èµ„æºè·¯å¾„src/resä¸‹ï¼Œstyleç›¸å…³æ”¹åŠ¨å¯ä»¥é€šè¿‡activityçš„setThemeæ¥åˆ‡æ¢ï¼Œå›¾ç‰‡æ¢è‚¤ä¸€èˆ¬ä¼šå°†èµ„æºæ‰“æˆä¸€ä¸ªä¸å¸¦launcher iconçš„Apkï¼Œç”¨Resourceå®ä¾‹å»åŠ è½½ç‰¹å®šèµ„æºï¼›è€ŒiOSç›¸åº”çš„é…ç½®ä¿¡æ¯éƒ½é¢„å…ˆå†™åœ¨plistæ–‡ä»¶é‡Œï¼Œé€šè¿‡ä¸€ä¸ªThemeManagerå®ä¾‹æ¥æ§åˆ¶åº”ç”¨ä½¿ç”¨å“ªå¥—èµ„æºé…ç½®ã€‚ FlutterMaterialAppç»„ä»¶æ¥å—ä¸€ä¸ªthemeå‚æ•°ï¼Œé€šè¿‡æ”¹å˜themeçš„æ•°æ®ï¼Œç»„ä»¶ä¼šå®æ—¶é‡æ–°æ¸²æŸ“ Flutter Themeå®ç°Flutter UIä¹Ÿæ˜¯æ ‘å½¢ç»“æ„ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªwidgetï¼Œæ ¹ï¼ˆRootï¼‰èŠ‚ç‚¹æ˜¯WidgetsAppï¼ŒMaterialAppï¼ŒCupertinoAppä¹‹ä¸€ã€‚Flutterçš„ç‰¹è‰²å°±æ˜¯å¯¹Material designè¿›è¡Œäº†é«˜è´¨é‡çš„å®ç°ï¼Œæ‰€ä»¥ä¸ºäº†æ›´ä¾¿åˆ©çš„ä½¿ç”¨è¿™äº›å†…ç½®ç»„ä»¶ï¼Œé€šå¸¸æ˜¯ä¼šç”¨MaterialApp widgetä½œä¸ºæ ¹ç»„ä»¶ï¼Œå®ƒä¹Ÿæ˜¯å”¯ä¸€æä¾›Themeæ”¯æŒçš„æ ¹ç»„ä»¶ã€‚Themeçš„ç±»å‹æ˜¯ThemeDataï¼Œå®ƒçš„æ¥å—çš„å®šä¹‰å¦‚å›¾æ‰€ç¤ºï¼šå®é™…ä¸Šæˆ‘ä»¬åªä¼šå®šä¹‰ä¸€äº›æœ‰å…³çš„å±æ€§ï¼Œä¸¾ä¸ªä¾‹å­Flutter sdk exampleï¼Œgalleryã€‚å®ƒå®šä¹‰äº†Darkå’ŒLightä¸¤å¥—ä¸»é¢˜ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243ThemeData _buildDarkTheme() &#123; const Color primaryColor = Color(0xFF0175c2); final ThemeData base = ThemeData.dark(); return base.copyWith( primaryColor: primaryColor, // åº”ç”¨ä¸»é¢œè‰² buttonColor: primaryColor, // æŒ‰é’®é¢œè‰² indicatorColor: Colors.white, // æŒ‡ç¤ºå™¨é¢œè‰² accentColor: const Color(0xFF13B9FD), // çªå‡ºé¢œè‰² canvasColor: const Color(0xFF202124), // ç”»å¸ƒé¢œè‰² scaffoldBackgroundColor: const Color(0xFF202124), // è¿”å›é”®æŒ‰é’® backgroundColor: const Color(0xFF202124), // èƒŒæ™¯è‰² errorColor: const Color(0xFFB00020), // é”™è¯¯è‰² buttonTheme: const ButtonThemeData( textTheme: ButtonTextTheme.primary, ), // æŒ‰é’®ä¸»é¢˜ textTheme: _buildTextTheme(base.textTheme), // æ™®é€šæ–‡æœ¬ä¸»é¢˜ primaryTextTheme: _buildTextTheme(base.primaryTextTheme), // ä¸»æ–‡æœ¬ä¸»é¢˜ accentTextTheme: _buildTextTheme(base.accentTextTheme), // å¼ºè°ƒæ–‡æœ¬ä¸»é¢˜ );&#125;ThemeData _buildLightTheme() &#123; const Color primaryColor = Color(0xFF0175c2); final ThemeData base = ThemeData.light(); return base.copyWith( primaryColor: primaryColor, buttonColor: primaryColor, indicatorColor: Colors.white, splashColor: Colors.white24, splashFactory: InkRipple.splashFactory, accentColor: const Color(0xFF13B9FD), canvasColor: Colors.white, scaffoldBackgroundColor: Colors.white, backgroundColor: Colors.white, errorColor: const Color(0xFFB00020), buttonTheme: const ButtonThemeData( textTheme: ButtonTextTheme.primary, ), textTheme: _buildTextTheme(base.textTheme), primaryTextTheme: _buildTextTheme(base.primaryTextTheme), accentTextTheme: _buildTextTheme(base.accentTextTheme), );&#125;"},{"title":"Flutter setup","date":"2018-10-08T13:20:00.000Z","path":"2018/10/08/2018/Flutter setup/","text":"ä¸‡äº‹å¼€å¤´éš¾ï¼Œå…ˆæŠŠç¯å¢ƒæèµ·æ¥ é…ç½®é•œåƒflutterè¿˜åœ¨å¢™å¤–ï¼Œä¸ºäº†æˆ‘ä»¬å¢™å†…äººä»¬èƒ½é¡ºç•…ä½¿ç”¨ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªä¸´æ—¶é•œåƒï¼š åœ¨å‘½ä»¤è¡Œåªèƒ½æ›´æ–°å½“å‰ä¼šè¯çš„PATHå˜é‡ï¼Œå†™åœ¨.bash_profile(bash) .zshrc(zsh) å¯ä»¥æ°¸ä¹…ä¿®æ”¹æ­¤å˜é‡ 12export PUB_HOSTED_URL=https://pub.flutter-io.cnexport FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn è·å–Flutter SDK å»flutterå®˜ç½‘ä¸‹è½½å…¶æœ€æ–°çš„å®‰è£…åŒ…ï¼Œæ¨èä¸‹è½½Betaçš„ï¼Œä¸è¿‡ä¸‹å¥½äº†ä¹Ÿå¯ä»¥åˆ‡åˆ†æ”¯ï¼Œä¸‹è½½åœ°å€ è§£å‹æ–‡ä»¶åˆ°å¼€å‘ç›®å½• 12cd ~/developmentunzip ~/Downloads/flutter_macos_v0.5.1-beta.zip é…ç½®ç¯å¢ƒå˜é‡ æ‰“å¼€æˆ–åˆ›å»ºHOME/.bash_profile(bash)ï¼ŒåŠ å…¥è¿™è¡Œï¼š 12export PATH=[PATH_TO_FLUTTER_GIT_DIRECTORY]/flutter/bin:$PATHegï¼šexport PATH=$PATH:$HOME/github/flutter/bin å…³æ‰æˆ–é‡æ–°è½½å…¥ä¸€ä¸‹bashç¯å¢ƒï¼Œå®æ–½è¾“å…¥flutterå‘½ä»¤ï¼Œæœ‰ååº”è¯´æ˜ç¯å¢ƒé…ç½®ok ä½¿ç”¨zshçš„å°ä¼™ä¼´é…ç½®åœ¨.zshrcæ–‡ä»¶ä¸­ iOS setupå®‰è£…Xcode9.0ä»¥ä¸Šå®‰è½¬iOSæ¨¡æ‹Ÿå™¨1open -a Simulator è°ƒè¯•è¿è¡Œå‡†å¤‡ å®‰è£…homebrew. æ‰“å¼€ç»ˆç«¯å®‰è£…ä¸€äº›Flutteråœ¨iOSè®¾å¤‡è°ƒè¯•çš„å·¥å…· 1234brew update$ brew install --HEAD libimobiledevice$ brew install ideviceinstaller ios-deploy cocoapods$ pod setupï¼ˆæœ‰å®‰å°±è·³è¿‡ï¼‰ åœ¨ç»ˆç«¯å¯ä»¥è¯•è¯•ï¼šflutter doctorï¼Œå·®ä¸å¤šå’Œä¸‹é¢æ˜¾ç¤ºç±»ä¼¼ 123[âœ“] Flutter (Channel dev, v0.5.8, on Mac OS X 10.13.6 17G65, locale zh-Hans-CN)[âœ“] iOS toolchain - develop for iOS devices (Xcode 9.4.1)[âœ“] Connected devices (2 available) Android setupä¸‹è½½å®‰è£… Android Studioï¼Œå·²æœ‰çš„å‡çº§åˆ°3.1ä»¥ä¸Šè®¾ç½®Androidæ¨¡æ‹Ÿå™¨ç»ˆç«¯è¯•è¯•ï¼šflutter doctorï¼Œå·®ä¸å¤šä¼šæ˜¾ç¤ºè¿™ä¹ˆå¤š 12345[âœ“] Flutter (Channel dev, v0.5.8, on Mac OS X 10.13.6 17G65, locale zh-Hans-CN)[âœ“] Android toolchain - develop for Android devices (Android SDK 27.0.3)[âœ“] iOS toolchain - develop for iOS devices (Xcode 9.4.1)[âœ“] Android Studio (version 3.1)[âœ“] Connected devices (2 available) é…ç½®IDEå¯ä»¥é€‰æ‹©Android Studioæˆ–è€…VS Codeï¼Œè¿™é‡Œä»¥Android Studioè¯´æ˜ å®‰è½¬ä¸Šé¢å·²ç»å®Œæˆäº†ï¼Œå¯åŠ¨å®ƒ æ‰“å¼€æ’ä»¶é€‰é¡¹ï¼ˆPreferences&gt;Pluginsï¼‰ é€‰æ‹©Browse repositoriesï¼Œé€‰æ‹©Flutteræ’ä»¶å®‰è£… é‡å¯Android Studioï¼Œç”Ÿæ•ˆæ’ä»¶ Demoè¿è¡Œä¸ªdemoè¯•è¯•æ•ˆæœ å¯åŠ¨ASï¼Œé€‰æ‹©File&gt;New Flutter Project é€‰æ‹©Flutter applicationä½œä¸ºprojectç±»å‹ç„¶åç‚¹å‡»Next è¾“å…¥åç§°ï¼Œç‚¹å‡»Next ç‚¹å‡»finishï¼Œç­‰å¾…SDKæ›´æ–°å®‰è£…å¹¶åˆ›å»ºé¡¹ç›®ï¼ˆæ ¹æ®ç½‘ç»œèŠ±ä¸å®šæ—¶é—´ï¼Œæ—¶é—´å¤ªé•¿å¯ä»¥ç”¨flutter create åˆ›å»ºï¼‰ è¿è¡Œåº”ç”¨ç¨‹åº ç•¥ä½œä¿®æ”¹ï¼Œä½“éªŒä¸‹çƒ­æ›´æ–° å‚è€ƒhttps://medium.com/@nhancv/why-i-move-to-flutter-34c4005b96ef https://flutter.io/get-started/install/ https://juejin.im/post/5b4bfd8af265da0f7d4eec94 https://yq.aliyun.com/articles/627152?utm_content=m_1000013896"},{"title":"2017","date":"2018-03-25T13:08:00.000Z","path":"2018/03/25/2018/2017/","text":"å·¥ä½œ17å¹´å¥‹æˆ˜åœ¨ä¸€çº¿ï¼Œå‚ä¸å¹¶æ¨è¿›äº†è¿™äº›äº‹å„¿çš„è¿›ç¨‹ï¼š å•†å®¶APPæƒ ç®¡å®¶ä¸Šçº¿è¿è¡Œ å°ç®¡å®¶ï¼Œç®¡ç†æƒ ç®¡å®¶ç‰ˆæœ¬ï¼ŒåŸºäºvue.js å¯¹æ¥äº†æ‹‰å¡æ‹‰çš„æƒ ç®¡å®¶ä¸Šçº¿ æƒ æ”¶é“¶å¼€å‘ä¸Šçº¿ï¼ŒåŸºäºmvpï¼Œkotlin å°ä¼™ä¼´æ‰©å……åˆ°6äººï¼ŒæŠ€æœ¯æ ˆåŒ…æ‹¬androidï¼ŒiOSï¼ŒRN ç”Ÿæ´»ä¸¤äººå½¢å½±ä¸ç¦»ç”Ÿæ´»åœ¨ä¸€èµ·ï¼Œæœ‰æ¬¢ç¬‘ï¼Œä¹Ÿä¼šæœ‰æ‘©æ“¦ï¼Œéœ€è¦çš„æ˜¯å¤šä¸€ä»½ç†è§£ï¼Œå’Œè®©æ­¥ 4æœˆæ¸…æ˜å›æˆ‘è€å®¶ï¼Œå»æ‘˜äº†æ ‘è“ï¼Œæ¼«ç”°é‡é…¸ç”œå¯å£çš„æ ‘è“ï¼Œå¤§å®¶å¼€å¿ƒçš„é‡‡æ‘˜ï¼Œä»¿ä½›å›åˆ°äº†ç«¥å¹´ã€‚ 5æœˆæœ€å¼€å¿ƒçš„äº‹å„¿æ˜¯å€Ÿè‡ªå·±ç”Ÿæ—¥ä¹‹ç”±å‹’ç´¢å¥³ç¥¨ä¸€ä¸ªä¸‰æ˜Ÿs8+æ‰‹æœºï¼Œæ‰‹æ„Ÿï¼Œå±å¹•å’Œæ‹ç…§éƒ½å ªç§°å®Œç¾ã€‚ 8æœˆå¼€å§‹çœ‹è½¦ï¼Œè¯•äº†320ï¼Œå¥³ç¥¨ååæ’è¯´å¤´æ™•ï¼Œæ—è¾¹çš„æ¢…èµ›å¾·æ–¯ï¼Œæ²¡æ•¢è¿›å»ï¼›æ£ç€a3çš„é¢„ç®—çœ‹a4lè§‰å¾—å¥½å¤§ï¼Œå¥½æ°”æ´¾ï¼Œé‡Œé¢çš„å¤šåª’ä½“å¥½é«˜çº§ï¼Œå£æ°´æµä¸€åœ°ï¼Œä¸€è§å€¾å¿ƒã€‚æ‰“ç®—åŠ ç‚¹é¢„ç®—å’¬ç‰™ä¸Ša4lä¹ä¸ç‰ˆã€‚ä½†Ledå¤§ç¯ï¼ŒçœŸçš®åº§æ¤…ï¼Œè‡ªåŠ¨ç©ºè°ƒéƒ½æ˜¯æˆ‘æ— æ³•å‰²èˆçš„å•Šã€‚ã€‚ã€‚å¥½å¥½å¥½ï¼ŒåŠ 5ä¸‡ä¸Šæ¬¡ä½é…ï¼Œå¥—è·¯æˆ‘æ˜¯æœå¥¥è¿ªï¼ åä¸€å›å¥³ç¥¨å®¶ï¼Œå¼€ç€å°è½¦è½¦å¸¦æˆ‘çˆ¸å¦ˆå»ä»–å®¶ï¼Œçˆ¶æ¯æ­£å¼è§äº†é¢ï¼Œä½äº†å‡ å¤©ï¼Œèµ°å®Œå®šé‡‘æµç¨‹ï¼Œå¤šäºå¥¹å®¶äººæƒ…é€šè¾¾ï¼Œæˆ‘çˆ¸å¦ˆåº”ä»˜åˆ°ä½ï¼Œè¿˜æ˜¯è›®é¡ºåˆ©çš„ã€‚ 11æœˆå…¬å¸é›†ä½“å»æ³°å›½æ—…æ¸¸ï¼Œè¿™æ¬¡äººå¤šäº†ï¼Œä½†æ„Ÿè§‰å¹¶æ²¡æœ‰è¶…è¶Šä¸Šä¸€æ¬¡ï¼Œæ¯”å¦‚åƒçš„ï¼Œä½çš„ï¼Œè¿˜å¥½å¤§å®¶éƒ½å®‰å…¨æ¥å›ã€‚ 12æœˆç»å¸¸è§ä¸åˆ°è°¢è€æ¿ï¼Œåæ¥ä¸å¥½çš„äº‹å‘ç”Ÿï¼Œä½œä¸ºceoæŒ‡å¯¼å¹¶reviewè¿‡æˆ‘å†™çš„pythonä»£ç ï¼Œè¿˜æœ‰äººå“çš„æ½œç§»é»˜åŒ–ï¼Œè¿™äº›éƒ½æ— ä»·ã€‚æ¯”å¿ƒï¼Œç¥å¥½ï¼ 2æœˆçœ‹äº†å¤§å°†å†›å¸é©¬æ‡¿ï¼Œæ„Ÿè§¦è‰¯å¤šï¼Œ1ï¼Œæœ¨ç§€äºæ—ï¼Œé£å¿…æ‘§ä¹‹ï¼›2ï¼Œæˆäº‹è€…ï¼Œæœ‰å‹‡æœ‰è°‹ï¼Œå–„å…‹åˆ¶ æ„Ÿè°¢å¥³ç¥¨å°é‡‘åº“å‡ºè¡€è®©æˆ‘å¼€ä¸Šå¥¥è¿ª æ„Ÿè°¢JGGï¼Œè°¢è€æ¿æŠ€æœ¯ä¸Šçš„æŒ‡å¯¼å’Œå¸®åŠ© æ„Ÿè°¢ç§»åŠ¨ç«¯å°ä¼™ä¼´ä»¬çš„åŠªåŠ›ï¼Œåœ¨å®Œæˆä¸šåŠ¡ä¹‹ä½™è¿˜å¯ä»¥æ¨è¿›æŠ€æœ¯æ ˆ æ„Ÿè°¢å®¶äºº å±•æœ›å¸¦å¥½å¤–å–æ•æ·ç»„ æ¯å‘¨è‡³å°‘è·‘æ­¥ä¸€æ¬¡ ç»“å©šè¦èŠ±é’±ï¼Œè¦æœ‰å­˜æ¬¾"},{"title":"å¼€å‘æµç¨‹çº¦å®š","date":"2017-12-19T13:46:00.000Z","path":"2017/12/19/2017/gitå¼€å‘æµç¨‹/","text":"å¼€å‘æµç¨‹çº¦å®š æˆ‘å¸çš„å¼€å‘æµç¨‹ï¼Œé…åˆgitlabé£Ÿç”¨ï¼Œè›®ç§‘å­¦çš„ åŸºæœ¬æµç¨‹ä¸»è¦åˆ†æ”¯æœ‰ä¸¤ä¸ªï¼Œmaster å’Œ devï¼Œmaster ä¸€èˆ¬åªèƒ½ç”± dev å¾€é‡Œé¢åˆå¹¶ã€‚dev æ¥æ”¶å„ç§BUGä¿®å¤å’Œæ–°åŠŸèƒ½ã€‚ æ‰€æœ‰äºº fork ä¸€ä»½ upstreamï¼ˆzaixxx/serverï¼‰ï¼Œç„¶ååœ¨è‡ªå·±çš„ forkï¼ˆyourname/serverï¼‰ä¸Šå¼€å‘ï¼Œå¼€å‘å®Œæ¯•åé€šè¿‡ Pull Request å‘ upstream çš„ **dev** åˆ†æ”¯æäº¤ä»£ç ã€‚ ç¦æ­¢ç›´æ¥ clone upstream ä½œä¸ºå·¥ä½œç¯å¢ƒã€‚å¦‚æœéœ€è¦åˆä½œçš„è¯ï¼Œç›´æ¥æŠŠæŸäººçš„ fork åŠ ä¸º remote å°±å¯ä»¥äº†ï¼Œç„¶ååœ¨ä»–çš„åˆ†æ”¯ä¸Š pull å’Œ pushã€‚ å¥½å¤„ åœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šå¯ä»¥éšä¾¿ push -f ï¼Œbranch åå­—å³ä½¿ç®€å•ä¹Ÿä¸ä¼šå’Œåˆ«äººå†²çªã€‚ ä¸»ä»£ç ä»“åº“å¯ä»¥å®ç°æ›´å¥½çš„æƒé™æ§åˆ¶ã€‚ é€šè¿‡è®¾ç½®ï¼Œå¯ä»¥å¼ºåˆ¶å…¶ä»–äººè¾“å…¥ LGTM æ‰å…è®¸åˆå¹¶ï¼Œå¼ºåˆ¶ Code Reviewã€‚ åå¤„ ç•¥æ˜¾éº»çƒ¦ï¼Ÿ å¥½ä¹ æƒ¯æ‰€æœ‰å†²çªåœ¨è‡ªå·±çš„ repo å’Œåˆ†æ”¯ä¸Šè§£å†³ï¼Œé€šè¿‡ Pull Request æäº¤å› upstream åº”è¯¥æ˜¯ä¸€ä»¶è½»æ¾æ„‰å¿«çš„äº‹ã€‚ å°½å¯èƒ½æŠŠæ”¹åŠ¨åˆ‡æˆå°å—ï¼Œé›¶æ•£åœ°æäº¤å› upstreamï¼Œå¯ä»¥å¤§å¤§å‡å°‘å†²çªå’Œåˆå¹¶æ‰€å¸¦æ¥çš„æˆæœ¬ã€‚ å…³äºä»£ç åˆå¹¶ä»£ç å­˜å‚¨å†²çªæ—¶ï¼Œå¦‚ä¸æ˜¯100%ç¡®ä¿¡çš„æƒ…å†µä¸‹ï¼Œä¸€å®šè¦æ‰¾å¦ä¸€ä¸ªä»£ç ä¿®æ”¹äººä¸€èµ·æ¥è§£å†²çªæˆ–è€…è§£å®Œåæ‰¾é‚£ä¸ªäººæ¥Reviewï¼ˆè§£å†²çªæ˜¯å¾ˆå®¹æ˜“å¯¼è‡´å‡ºé—®é¢˜çš„ç‚¹ï¼‰ é»˜è®¤å·¥ä½œæµç¨‹(1) æŠŠ zaixxx/ çš„é¡µé¢ä¸Šï¼Œç‚¹å‡» fork ï¼ˆstar æ—è¾¹çš„é‚£ä¸ªæŒ‰é’®ï¼Œå¯ä»¥ä¸€èµ·ç‚¹ä¸€ä¸‹ star) ï¼Œä½ å°±æœ‰äº†ä¸€ä»½è‡ªå·±çš„ä»“åº“ yourname/ 12345678910111213// å…‹éš†åˆ°æœ¬åœ° git clone git@aria2.kezaixxx.com:yourname/&lt;project&gt;.git// æ·»åŠ è¿œç«¯çš„ zaixxx æºï¼Œgit remote add zaixxx git@aria2.kezaixxx.com:zaixxx/&lt;project&gt;.git// å¦‚æœæœ¬åœ°å·²ç»æœ‰ä»£ç ä»“åº“ï¼Œåªéœ€è¦å˜æ›´è¿œç«¯æºåœ°å€å³å¯ï¼Œå°† origin è®¾ç½®ä¸ºä½ è‡ªå·±çš„æºã€‚git remote set-url origin git@aria2.kezaixxx.com:&lt;yourname&gt;/server.git //å°† zaixxx è®¾ç½®ä¸ºå†hæºå¤´ï¼›git remote add zaixxx git@aria2.kezaixxx.com:zaixxx/server.git// æ¯æ¬¡å¼€å‘å‰ï¼Œéœ€è¦æ‰§è¡Œ git pull zaixxx dev å°†æœ€æ–°çš„ä»£ç åŒæ­¥åˆ°æœ¬åœ°çš„ dev åˆ†æ”¯ã€‚ ä¸Šé¢ä¸¤ä¸ªç½‘å€å¯ä»¥æ–¹ä¾¿çš„åœ¨ Gitlab ç½‘é¡µä¸Šå¤åˆ¶ã€‚è¿™é‡Œæœ‰ä¸ç†Ÿæ‚‰ git æ“ä½œçš„ï¼Œé‡åˆ°äº†ä»€ä¹ˆé—®é¢˜çš„ï¼Œä»¥ååŠ åˆ°è¿™ä¸ªæ–‡æ¡£é‡Œé¢ï¼Œæ–¹ä¾¿åäººã€‚ (2) æ·»åŠ åŠŸèƒ½/ä¿®å¤BUG é¦–å…ˆæ‹‰å–æœ€æ–°çš„ä»£ç 12git checkout devgit pull zaixxx dev åˆ‡æ¢åˆ°ä½ æƒ³ä¿®å¤é—®é¢˜æˆ–è€…æ·»åŠ åŠŸèƒ½çš„åˆ†æ”¯1git checkout -b fix_issue ä¿®æ”¹ä¸œè¥¿åˆ°æœ¬åœ°1234echo print(&quot;Dolores&quot;) &gt; new_world.py git add new_world.py git diff git commit -m &apos;fixes issue, add a new sample file&apos; æ¨åˆ°ä½ è‡ªå·±çš„è¿œç«¯1git push origin fix_issue (3) è§£å†³å¯èƒ½æœ‰çš„å†²çªï¼šåŠ¡å¿…åœ¨è¿™ä¸ªé˜¶æ®µè§£å†³å„ç§å¯èƒ½çš„å†²çªï¼Œå‡å°‘pull request merge åˆ° dev åˆ†æ”¯æ—¶çš„æˆæœ¬ 123456git checkout dev git pull zaixxx devgit checkout fix_issue git merge dev ** XXXX è§£å†³å¯èƒ½å‡ºç°çš„å†²çª å¹¶ git commit **git push origin fix_issue (4) æäº¤ Pull Requestæœ€åä½ éœ€è¦åšçš„ï¼Œå°±æ˜¯æ‰“å¼€ https://aria2.kezaixxx.com/yourname/ ï¼Œæäº¤ä¸€ä¸ª Pull Requestï¼ŒæŒ‡å‘ zaixxx çš„ devï¼ˆè¿™ä¸ªå·²ç»è¢«è®¾ç½®æˆé»˜è®¤åˆ†æ”¯äº†ï¼Œåº”è¯¥ä¸éœ€è¦å¤šä½™çš„è®¾ç½®ï¼‰ï¼Œå¹¶assignç»™æŸäººå¸®ä½ reviewã€‚åœ¨åˆ›å»º PR å‰ï¼Œè®°å¾—è‡ªå·± Review ä¸€ä¸‹æ‰€æœ‰çš„æ”¹åŠ¨ï¼ (5) Code reviewå®Œæ¯•ä»¥åï¼Œç‚¹å‡»Merge Requestå®Œæˆä»£ç æäº¤ã€‚æäº¤å®Œæ¯•ä»¥åå³å¯éšæ—¶åˆ æ‰æ—§çš„åˆ†æ”¯ã€‚ Pull Request æŒ‡å—Gitæ¨èè®¾ç½® å¤§å°å†™æ•æ„Ÿï¼šä¸ºäº†é¿å…ç±»ä¼¼ SVN ä¸­æ–‡ä»¶åæ”¹äº†å¤§å°å†™ä¹‹åç‰ˆæœ¬æ§åˆ¶ä¸è®¤çš„é—®é¢˜ï¼Œæ¨èå¤§å®¶è®¾ç½®ä¸ºå¤§å°å†™æ•æ„Ÿï¼š 1git config core.ignorecase false æ’°å†™ Pull Request ä¸€ä¸ª PR åªå›´ç»•ä¸€ä»¶äº‹æƒ… å¦‚æœç¡®æœ‰å¿…è¦å°†å‡ ä»¶äº‹æƒ…ï¼ˆä¾‹å¦‚ä¿®æ”¹ç‰¹åˆ«å°ã€ç›¸äº’ä¹‹é—´æœ‰ä¾èµ–ç­‰ï¼‰ä¸€èµ·æäº¤ PRï¼Œåˆ™éœ€è¦åˆ—æ˜å…·ä½“æ¯ä¸€ä»¶äº‹æƒ…ï¼Œç¡®ä¿ PR è¯´æ˜æ¶µç›–äº†æ‰€æœ‰ä¿®æ”¹å†…å®¹ã€‚ å¤§ç‰‡çš„ä»£ç æ ¼å¼æ•´ç†è¦ä½œç‹¬ç«‹æäº¤ï¼Œä¸è¦å’Œä»£ç ä¿®æ”¹æ··åœ¨ä¸€èµ·ï¼Œä»¥ä¾¿ Reviewer èƒ½è½»æ¾æŸ¥çœ‹å¹²å‡€çš„ä»£ç ä¿®æ”¹ diffã€‚ é¿å…è¶…å¤§çš„ PR è¶…è¿‡ 1000 è¡Œä¿®æ”¹è¡Œæ•°çš„ PR éœ€è¦è€ƒè™‘æ˜¯å¦èƒ½æ‹†åˆ†ä¸ºå¤šä¸ªå­ä»»åŠ¡åˆ†åˆ«æ PRï¼ˆåˆç†çš„ç¨‹åºç»“æ„è®¾è®¡ä¹Ÿåº”è¯¥æ˜¯è§£è€¦çš„ï¼‰ã€‚ å¦‚æœ PR åŒ…å«çš„æäº¤æ•°é‡è¿‡å¤šï¼Œé€šå¸¸æ˜¯å¼€å‘è¿‡ç¨‹æºæ‚äº†â€œå°è¯•â€”ä¿®é—®é¢˜â€”æ¢ä¸ªæ–¹æ³•å†æ¥â€è¿™æ ·çš„é‡æ„åå¤ã€‚æ­¤ç§æƒ…å†µæœ€å¥½æŠ›å¼ƒè¿™äº›è¿‡ç¨‹æäº¤ï¼Œæ–°å¼€åˆ†æ”¯é€ä¸ªåº”ç”¨æœ‰æ„ä¹‰çš„ä¿®æ”¹ï¼Œç„¶åæ PRã€‚ PR æ ‡é¢˜â€”â€”æ¦‚è¿°æ­¤æ¬¡ Pull Request çš„ç›®æ ‡ ä¾‹å¦‚ï¼šå°è¯•ç”¨ XXX æ–¹æ³•å®ç°â€¦â€¦ã€ä¼˜åŒ–â€¦â€¦ã€ä¿®å¤åœ¨ XX çŠ¶æ€ä¸‹å¯¹ XX çš„å¼‚å¸¸å¤„ç†ã€‚ PR è¯´æ˜â€”â€”é¢å‘æœªæ¥çš„ Reviewer è®°ä½å…¬å¸é‡Œä»»ä½•äººï¼Œä»»ä½•æ—¶å€™éƒ½æœ‰å¯èƒ½æ¥é˜…è¯»è¿™ä¸ª Pull Requestï¼Œæ‰€ä»¥å†…å®¹å’Œè¯­æ°”éƒ½éœ€è¦é¢å‘æœªæ¥å¯èƒ½çš„ Reviewerï¼Œä¸è¦å‡å®šå¯¹æ–¹å·²ç»ç†Ÿæ‚‰è¿™äº›äº‹æƒ…çš„å‰å› åæœã€‚ é…Œæƒ…æä¾›å…³äºè¿™äº›å·¥ä½œèµ·å› çš„è¯´æ˜ï¼Œè®°å¾—åŒ…å«ç›¸å…³é“¾æ¥ã€‚ä¾‹å¦‚è·Ÿä¸šåŠ¡æ¯æ¯ç›¸å…³çš„å°½é‡æä¾› Trelloã€æ¥æºé“¾æ¥ï¼›å¤„ç†å¥‡å¼‚ Bug æœ€å¥½èƒ½æœ‰ç›¸å…³çº¿ç´¢ã€èµ„æ–™çš„é“¾æ¥ã€‚ å¦‚æœæœ‰çš„è¯ï¼Œè¯¦è¿°åé¦ˆéœ€æ±‚ å¦‚ï¼š@æŸäººè¿‡ç›®ä¸€ä¸‹ä»£ç /è®¨è®ºæŸé¡¹æŠ€æœ¯å®ç°/å¯¹è®¾è®¡çš„æ„è§ç­‰ç­‰ã€‚ æ˜ç¡®ä½ ä½•æ—¶éœ€è¦åé¦ˆã€‚å¦‚æœè¿™ä¸ª PR è¿˜æ²¡æœ‰å®Œæˆï¼ˆä»æœ‰ä¸€äº›ä»£ç ä¿®æ”¹å¾…æ¨é€ï¼‰åˆ™éœ€é†’ç›®æ³¨æ˜ï¼Œç»™æ ‡é¢˜åŠ ä¸Š[WIP]ï¼ˆæ–½å·¥ä¸­ï¼‰çš„å‰ç¼€æ˜¯ä¸ªç®€ä¾¿å¿«æ·çš„æ–¹æ³•ã€‚ æä¾›åé¦ˆ é¦–å…ˆè¦äº†è§£ä¸‹æ­¤ PR çš„å‰æƒ…æè¦ã€‚ å¦‚æœä½ æœ‰å¼ºçƒˆçš„åå¯¹æ„è§ï¼Œå¤šèŠ±å‡ åˆ†é’Ÿå®¡è§†ä¸‹è‡ªå·±çš„æ„è§å†åšåé¦ˆã€‚Think Twiceã€‚ å¯¹åé¦ˆçš„å›å¤ å°½é‡å›å¤æ‰€æœ‰è¯„è®ºã€‚å°Šé‡è¯„è®ºè€…å¯¹ PR çš„å…³å¿ƒã€‚ æä¾›æ¾„æ¸…ã€‚è§£é‡Šå¯¹æ–¹æœ‰ç–‘é—®çš„å®ç°æ–¹æ¡ˆæ˜¯å¦‚ä½•å†³ç­–çš„ã€‚ é“¾æ¥åˆ°ç›¸å…³çš„åç»­æäº¤ã€‚ï¼ˆâ€œå¥½å»ºè®®ï¼a1da2324ca å·²æå®š :Dâ€ï¼‰ å¦‚æœç–‘æƒ‘å’Œäº‰è®ºæŒç»­æ‰©å¤§ï¼Œå°è¯•é¢å¯¹é¢åšå……åˆ†æ²Ÿé€šï¼Œä¹‹åæŠŠçº¿ä¸‹æ²Ÿé€šçš„å†…å®¹æ±‡æ€»å›å¤ï¼ˆä¾¿äºå…¶ä»–äººè·Ÿè¸ªè¿›å±•æˆ–æœªæ¥äº†è§£è¯¦æƒ…ï¼‰ã€‚"},{"title":"Android Hotfix","date":"2017-07-09T11:48:00.000Z","path":"2017/07/09/2017/Hot Fix/","text":"ä¼šè®²è¿°æˆ‘ä»¬ä¸ºä»€ä¹ˆè¿™ä¸ªæ—¶é—´ç‚¹éœ€è¦å¼•å…¥çƒ­ä¿®å¤ï¼Œå¸‚é¢ä¸Šå¤šç§è§£å†³æ–¹æ¡ˆæˆ‘ä»¬é€‰æ‹©å“ªç§ï¼Œä¸ºä½•ï¼Ÿ å¼•å…¥å¥‘æœº æ•æ·å¼€å‘éœ€è¦æœ‰ä¸€ç§æ–¹å¼èƒ½å¿«é€Ÿä¿®å¤é—®é¢˜ï¼Œç°åº¦éªŒè¯ï¼Œå’Œä¸Šçº¿éƒ¨ç½² å•†å®¶ç«¯åº”ç”¨ï¼Œæˆ‘ä»¬æä¾›å®šåˆ¶åŒ–çš„ç¡¬ä»¶ï¼Œå‰æœŸæ˜¯é€šè¿‡å…¨é‡å¼ºåˆ¶æ›´æ–°ä¸Šçº¿æ–°åŠŸèƒ½å’Œä¿®å¤é—®é¢˜ æ‹‰å¡æ‹‰Posï¼Œæƒ ç®¡å®¶è‡ªåŠ¨æ›´æ–°ä¸èƒ½å·¥ä½œ å»æ‹‰å¡æ‹‰è‡ªå¸¦åº”ç”¨å•†åº—é‡Œæ›´æ–°æµç¨‹ä¼šç‰¹åˆ«å¤æ‚ï¼Œæ— æ³•ä¿è¯æ–°ç‰ˆæœ¬å®‰è£…ç‡ æœŸæœ›ç›®æ ‡ èƒ½æ–¹ä¾¿çš„ä½¿ç”¨çƒ­æ›´æ–°å¿«é€Ÿä¿®å¤Bugï¼Œä¸Šçº¿ä¸€äº›å°ç‰ˆæœ¬åŠŸèƒ½ èƒ½ç°åº¦å‘å¸ƒæµ‹è¯•å¸ƒä¸ï¼Œå’Œä¸åŒåŠŸèƒ½ï¼ŒAB TestéªŒè¯äº§å“ å®šä¹‰çƒ­æ›´æ–°å’Œè‡ªåŠ¨æ›´æ–°çš„é€‚ç”¨èŒƒå›´ æ–¹æ¡ˆå¯¹æ¯” å¹³å° Amigo Robust Sophix Tinker ç±»æ›¿æ¢ yes no yes yes Soæ›¿æ¢ yes no yes yes èµ„æºæ›¿æ¢ yes no yes yes å³æ—¶ç”Ÿæ•ˆ å¯é€‰ yes éƒ¨åˆ† no æ€§èƒ½æŸè€— æ—  è¾ƒå° è¾ƒå° è¾ƒå° æ¥å…¥å¤æ‚åº¦ ç®€å• ä¸€èˆ¬ ç®€å• å¤æ‚ ä¾µå…¥å¼æ‰“åŒ… æ— ä¾µå…¥ ä¾èµ–ä¾µå…¥ æ— ä¾µå…¥ ä¾èµ–ä¾µå…¥ è¡¥ä¸åŒ…å¤§å° å¤§ è¾ƒå° è¾ƒå° è¾ƒå° è¡¥ä¸åŒ…ç®¡ç† amigoå¹³å° è‡ªå»º é˜¿é‡Œäº‘ å¼€æºä¸‰æ–¹ æ–‡æ¡£èµ„æ–™ ä¸€èˆ¬ å°‘ ä¸°å¯Œ ä¸°å¯Œ æˆåŠŸç‡ é«˜ éå¸¸é«˜ è¾ƒé«˜ è¾ƒé«˜ Amigoå’ŒRobuståŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯å—Instant Runå¯å‘ï¼Œé‡‡ç”¨hack ClassLoaderçš„æ–¹æ¡ˆï¼Œä¼˜ç‚¹æ˜¯å¯ä»¥å³æ—¶ç”Ÿæ•ˆï¼Œç¼ºç‚¹æ˜¯å…¼å®¹æ€§ä¸ä½³ï¼Œä»å®Œæˆåº¦ä¸Šçœ‹Amigoä¼˜äºRobustã€‚ TinkeråŸç†æ˜¯ç”Ÿæˆå·®åˆ†Dexï¼Œä¸ç°åœ¨çš„dexåˆå¹¶ï¼Œå¹¶æ›¿æ¢ç°åœ¨çš„dexã€‚ä¼˜ç‚¹æ˜¯å¯ä»¥åšåˆ°ç²’åº¦å¾ˆå°çš„å…¨é¢ä¿®å¤ï¼Œå…¼å®¹æ€§æå¥½ï¼Œç¼ºç‚¹æ˜¯åˆdexè€—è´¹çš„æ—¶é—´ä¼šæ¯”ä»·é•¿ï¼Œä¹Ÿä¼šå ç”¨é¢å¤–çš„romç©ºé—´ï¼Œå¿…é¡»é‡å¯åº”ç”¨æ‰èƒ½ç”Ÿæ•ˆã€‚ç›¸æ¯”Amigoå®ƒå°‘äº†å››å¤§ç»„ä»¶çš„ä¿®å¤ï¼Œä½†è®¤åŒTinkerçš„åšæ³•ï¼Œçƒ­ä¿®å¤çš„ä½œç”¨åº”è¯¥æ˜¯åœ¨ä¿®å¤ä¸Šé¢è€Œä¸æ˜¯æ·»åŠ æ–°çš„æ¨¡å—ï¼Œè¿™æœ‰äº›è¿èƒŒèŒèƒ½å•ä¸€åŒ–ï¼ŒåŠ ä¸Šç¤¾åŒºçš„æ¥å—å’Œè®¤å¯åº¦ï¼ŒTinkerä¼˜èƒœAmigoã€‚ Sophixæ˜¯Andfixçš„å•†ä¸šç‰ˆï¼Œå¯ä»¥çœ‹æˆæ˜¯Andfix+Tinkerï¼ŒåŸºäºnative hookçš„Andfixå¯ä»¥å¸¦æ¥å¿«é€Ÿä¿®å¤bugï¼Œç«‹å³ç”Ÿæ•ˆçš„å¥½å¤„ã€‚æ— æ³•æ·»åŠ æ–°ç±»å’Œæ–¹æ³•çš„ç¼ºç‚¹å¯ä»¥é€šè¿‡åˆå¹¶ç”Ÿæˆæ–°Dexçš„æ–¹å¼è§£å†³ï¼ŒåŠ ä¸Šæ¥å…¥é—¨æ§›éå¸¸ä½å’Œå¯é çš„è¡¥ä¸æ‰˜ç®¡å¹³å°ï¼Œç»“åˆæˆ‘ä»¬ç°é˜¶æ®µçš„éœ€æ±‚ï¼Œæœ€ç»ˆé€‰æ‹©Sophixã€‚ æ“ä½œæ‰‹æ³•åˆ›å»ºåº”ç”¨ ç™»å½•ç§»åŠ¨çƒ­ä¿®å¤æ§åˆ¶å°ï¼šhttps://hotfix.console.aliyun.com/ åœ¨MHubæ§åˆ¶å°ç‚¹å‡»å³ä¸Šè§’åˆ›å»ºAppï¼Œå¡«å…¥Appåç§°ã€åˆ†ç±»å’Œæè¿° å¿«é€Ÿæ¥å…¥ æ·»åŠ é¡¹ç›®æ ¹ä¾èµ–ï¼Œæ‰¾åˆ°projectçš„build.gradleæ–‡ä»¶ï¼Œæ·»åŠ mavenåœ°å€ï¼š 12345repositories &#123; maven &#123; url &quot;http://maven.aliyun.com/nexus/content/repositories/releases&quot; &#125;&#125; åœ¨appçš„build.gradleé‡Œæ·»åŠ sophixä¾èµ–ï¼š 1compile &apos;com.aliyun.ams:alicloud-android-hotfix:3.0.5&apos; æƒé™ç”³æ˜ 123456&lt;! -- ç½‘ç»œæƒé™ --&gt;&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;&lt;! -- å¤–éƒ¨å­˜å‚¨è¯»æƒé™ï¼Œè°ƒè¯•å·¥å…·åŠ è½½æœ¬åœ°è¡¥ä¸éœ€è¦ --&gt;&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt; é…ç½®AndroidManifestæ–‡ä»¶ åœ¨AndroidManifest.xmlä¸­é—´çš„applicationèŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š123456789&lt;meta-dataandroid:name=&quot;com.taobao.android.hotfix.IDSECRET&quot;android:value=&quot;App ID&quot; /&gt;&lt;meta-dataandroid:name=&quot;com.taobao.android.hotfix.APPSECRET&quot;android:value=&quot;App Secret&quot; /&gt;&lt;meta-dataandroid:name=&quot;com.taobao.android.hotfix.RSASECRET&quot;android:value=&quot;RSAå¯†é’¥&quot; /&gt; å°†ä¸Šè¿°valueä¸­çš„å€¼åˆ†åˆ«æ”¹ä¸ºé€šè¿‡å¹³å°HotFixæœåŠ¡ç”³è¯·å¾—åˆ°çš„App Secretå’ŒRSAå¯†é’¥ã€‚ æ··æ·†é…ç½® 12345678910#åŸºçº¿åŒ…ä½¿ç”¨ï¼Œç”Ÿæˆmapping.txt-printmapping mapping.txt#ç”Ÿæˆçš„mapping.txtåœ¨app/buidl/outputs/mapping/releaseè·¯å¾„ä¸‹ï¼Œç§»åŠ¨åˆ°/appè·¯å¾„ä¸‹#ä¿®å¤åçš„é¡¹ç›®ä½¿ç”¨ï¼Œä¿è¯æ··æ·†ç»“æœä¸€è‡´#-applymapping mapping.txt#hotfix-keep class com.taobao.sophix.**&#123;*;&#125;-keep class com.ta.utdid2.device.**&#123;*;&#125;#é˜²æ­¢inline-dontoptimize Sophixåˆå§‹åŒ– initializeçš„è°ƒç”¨åº”è¯¥å°½å¯èƒ½çš„æ—©ï¼Œå¿…é¡»åœ¨Application.attachBaseContext()æˆ–è€…Application.onCreate()çš„æœ€å¼€å§‹è¿›è¡ŒSDKåˆå§‹åŒ–æ“ä½œï¼Œå¦åˆ™ææœ‰å¯èƒ½å¯¼è‡´å´©æºƒã€‚è€ŒæŸ¥è¯¢æœåŠ¡å™¨æ˜¯å¦æœ‰å¯ç”¨è¡¥ä¸çš„æ“ä½œå¯ä»¥åœ¨åé¢çš„ä»»æ„åœ°æ–¹ã€‚12345678910111213141516171819202122232425262728SophixManager.getInstance().setContext(this) .setAppVersion(appVersion) .setAesKey(null) //.setAesKey(&quot;0123456789123456&quot;) .setEnableDebug(Util.DEBUG) .setPatchLoadStatusStub((mode, code, info, handlePatchVersion) -&gt; &#123; String msg = &quot;&quot; + &quot;Mode:&quot; + mode + &quot; Code:&quot; + code + &quot; Info:&quot; + info + &quot; HandlePatchVersion:&quot; + handlePatchVersion; UtilLog.d(&quot;Tag&quot;, &quot;----initHotFix msg &quot; + msg); switch (code) &#123; case PatchStatus.CODE_LOAD_SUCCESS: // è¡¥ä¸åŠ è½½æˆåŠŸ Log.d(&quot;TAG&quot;,&quot;----patch success!!!&quot;); break; case PatchStatus.CODE_LOAD_RELAUNCH: // æ–°è¡¥ä¸ç”Ÿæ•ˆéœ€è¦é‡å¯ reStartApplication(); break; case PatchStatus.CODE_LOAD_FAIL: // å†…éƒ¨å¼•æ“å¼‚å¸¸, æ­¤æ—¶æ¸…ç©ºæœ¬åœ°è¡¥ä¸ SophixManager.getInstance().cleanPatches(); break; default: &#125; &#125;).initialize(); è¡¥ä¸åŒ…æŸ¥è¯¢ queryAndLoadNewPatchä¸å¯æ”¾åœ¨attachBaseContext ä¸­ï¼Œå¦åˆ™æ— ç½‘ç»œæƒé™ï¼Œå»ºè®®æ”¾åœ¨åé¢ä»»æ„æ—¶åˆ»1SophixManager.getInstance().queryAndLoadNewPatch(); è¡¥ä¸ç”Ÿæˆ ä¸‹è½½è¡¥ä¸åˆ¶ä½œå·¥å…·ï¼šhttps://help.aliyun.com/document_detail/53247.html?spm=5176.doc51416.6.548.gBBrt5å¡«å…¥æ–°æ—§ä¸¤ä¸ªåŒ…çš„åœ°å€ï¼Œç‚¹å‡»ç”ŸæˆPatch è¡¥ä¸æ‰˜ç®¡ åœ¨é˜¿é‡Œäº‘ç§»åŠ¨çƒ­ä¿®å¤é‡Œæ‰¾åˆ°å¯¹åº”appï¼Œæ ¸å®è¡¥ä¸çš„ç›®æ ‡ç‰ˆæœ¬ï¼Œä¸Šæ¬¡è¡¥ä¸ æ³¨æ„äº‹é¡¹å‘å¸ƒå‰è¯·ä¸¥æ ¼æŒ‰ç…§ï¼šæ‰«ç å†…æµ‹ =&gt; ç°åº¦å‘å¸ƒ =&gt; å…¨é‡å‘å¸ƒçš„æµç¨‹è¿›è¡Œï¼Œä»¥ä¿è¯è¡¥ä¸åŒ…èƒ½å¤Ÿæ­£å¸¸åœ¨æ‰€æœ‰Androidç‰ˆæœ¬çš„æœºå‹ä¸Šç”Ÿæ•ˆã€‚ä¸ºäº†ä¿é™©èµ·è§ï¼Œç†è®ºä¸Šæˆ‘ä»¬æä¾›çš„è®¾å¤‡éƒ½éœ€è¦æµ‹ä¸€éæ˜¯å¦ç”Ÿæ•ˆã€‚æœ€å¥½ä¹Ÿæµ‹ä¸‹ä»¥ä¸‹å…·æœ‰ä»£è¡¨æ€§çš„Androidç‰ˆæœ¬å°±åŸºæœ¬æ²¡ä»€ä¹ˆå¤§é—®é¢˜äº†ï¼š4.4ã€5.1ã€7.0 çƒ­ä¿®å¤ï¼Œæˆ‘ä»¬ç”¨åœ¨ç´§æ€¥bugä¿®å¤å’Œå°åŠŸèƒ½è¿­ä»£ä¸Šçº¿ï¼Œè¿™äº›æ”¹åŠ¨éƒ½ä¸ä¼šå‡ç‰ˆæœ¬å·è‡ªåŠ¨æ›´æ–°ï¼Œç”¨æ¥ä¸Šçº¿æœ‰å››å¤§ç»„ä»¶æ”¹åŠ¨çš„å¤§åŠŸèƒ½æˆ–æ¨¡å—é‡åˆ°é—®é¢˜å…ˆæŸ¥çœ‹æ–‡æ¡£ï¼šhttps://help.aliyun.com/knowledge_list/51422.html å‚è€ƒæ–‡æ¡£https://github.com/Tencent/tinker/wikihttps://tech.meituan.com/android_robust.htmlhttps://github.com/eleme/Amigo/wikihttp://mp.weixin.qq.com/s/uY5N_PSny7_CHOgUA99UjA?spm=5176.doc51416.2.3.lDNHmL"},{"title":"ä¸‰æ˜ŸS8","date":"2017-05-31T02:32:00.000Z","path":"2017/05/31/2017/ä¸‰æ˜ŸS8ä½“éªŒ/","text":"ä¸Šä¸ªæ‰‹æœºæ˜¯ä¸€åŠ 2ï¼Œç”¨äº†ä¸€å¹´ï¼Œå‡ºå»ç©ï¼Œå¿…é¡»å¸¦å……ç”µå®ï¼Œä¸ç„¶æ ¹æœ¬æ²¡æœ‰å®‰å…¨æ„Ÿã€‚å±å¹•ä¹Ÿæ°å¥½æ‘”äº†ä¸€ä¸‹ã€‚æ‰€ä»¥æœ‰æœºä¼šæ¢S8+ã€‚ è½¯ä»¶ï¼š è‡ªå¸¦åº”ç”¨å°±çœ‹è®¾ç½®ï¼Œs8çš„è®¾ç½®å½’ç±»ç§‘å­¦ï¼Œæ˜¾ç¤ºæ¸…æ–°ï¼Œé¡¶éƒ¨æœ‰å¿«é€Ÿæœç´¢ä¹Ÿéå¸¸å®ç”¨ã€‚ ç›¸æœºï¼Œè®¡ç®—å™¨çš„UIäº¤äº’ä¹Ÿéå¸¸ç®€å•æ˜“ç”¨ å®‰å…¨æ–‡ä»¶å¤¹ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå®‰å…¨çº§åˆ«å¾ˆé«˜çš„åº”ç”¨åˆ†èº«åŠŸèƒ½ æ¸¸æˆä¸­å¿ƒï¼Œå¯ä»¥è®¾ç½®è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„åº”ç”¨è¿è¡Œæ—¶çš„æ€§èƒ½é€šçŸ¥å…æ‰“æ‰° ç”µè¯ï¼Œä¿¡æ¯äº¤äº’è‡ªç„¶ï¼Œæœ¬åœ°åŒ–ä¹Ÿåšçš„å¾ˆå¥½ï¼Œèƒ½è‡ªåŠ¨æ ‡æ³¨å¸¸è§çš„å·ç  SåŠ©æ‰‹å¾ˆå¥½ç”¨ï¼Œåœ¨æ­å·å‘†çš„ä¸¤å¤©é‡Œï¼Œåƒå–ç©ä¹éƒ½ç”¨å®ƒè§£å†³äº†ï¼Œæ„Ÿè§‰è¿™ä¸ªæ€»å…¥å£çš„æµé‡å¥½å¤§ Bixbyé™¤äº†å‡ æ¬¡è¯¯æŒ‰è¿›å»ï¼Œæš‚æ—¶æ²¡å‘ç°æœ‰å•¥åº”ç”¨åœºæ™¯ é”å±è§£é”ï¼ŒåŠ¨æ€å£çº¸ï¼Œæ­é…é¢éƒ¨è§£é”ï¼Œä½“éªŒç»†è…»è¿…é€Ÿï¼Œä¸æ»‘è‡ªç„¶ ç¼ºç‚¹ï¼šæŒ‡çº¹è§£é”éå¸¸éš¾ç”¨ï¼Œæ‘†æ”¾çš„ä½ç½®æ˜¯è„‘æ®‹ã€‚ç”¨çš„æ—¶å€™æ€»æ˜¯æ‹…å¿ƒä¼šæŒ‰åˆ°é•œå¤´ï¼Œå¾ˆéš¾ä¸‹æ„è¯†è§£é”ï¼Œåªèƒ½ç¿»è¿‡æ¥çœ¼ç›çœ‹ç€æ‰‹æŒ‡æ‰èƒ½è§£é”ï¼Œå¦‚æœæ”¾åœ¨æ‘„åƒå¤´ä¸‹é¢ä¼šå¥½ç”¨å¾ˆå¤šï¼Œåªæ˜¯è§†è§‰ä¸Šä¸é‚£ä¹ˆå¥½çœ‹äº†ã€‚ ç¡¬ä»¶ï¼š é«˜é€š835ç©ç‹è€…å†œè¯å’Œå´©å3ï¼Œæ²¡æœ‰æ¯”è¿™æ›´é¡ºçš„æœºå­äº†ï¼Œæœºèº«å§‹ç»ˆæ¸©çƒ­ ç”µæ± 3500éå¸¸è€ç”¨ï¼Œè‡ªå¸¦çš„å¿«å……ï¼Œ1ä¸ªåŠå°æ—¶å°±èƒ½å……æ»¡ï¼Œæœºèº«å§‹ç»ˆæ¸©çƒ­ ä¹°çš„s8+ï¼Œæ¡æŒæ„Ÿä¼˜äº7plusï¼Œç‚¹äº®å±å¹•ï¼Œå°±ç¾æ„Ÿæ¥è¯´è¿™ä¸¤å®Œå…¨ä¸æ˜¯ä¸€ä¸ªç»´åº¦çš„ä¸œè¥¿ æ‘„åƒå¤´ï¼Œåç½®å¯¹ç„¦å¿«å‡†ç™½å¹³è¡¡è‡ªç„¶åƒç´ é«˜ï¼Œå‰ç½®æ¯«æ— ä¸‹é™çš„ç£¨çš®ç¾é¢œï¼Œè®¨å¥½æœºä¸» å‰åå®Œå…¨å¯¹ç§°çš„åŒé¢ç»ç’ƒï¼Œå¸¦æ¥æ¸©æ¶¦å¦‚ç‰çš„æ‰‹æ„Ÿï¼Œå’Œä¸ç€è¾¹é™…çš„è§†é‡ æ›²é¢å±åœ¨s8ä¸Šåº”è¯¥æ˜¯å¤§æˆï¼Œè‡ªç„¶ä¸ç‚«æŠ€ï¼Œå¤§å¼§åº¦çš„4ä¸ªRè§’å¾ˆæœ‰çµæ€§å’Œç¾æ„Ÿ å¤–æ”¾éŸ³é‡ä¸€èˆ¬ï¼Œè´¨æ„Ÿä¸é”™ æ€»ç»“ï¼šå·¥ä½œç›¸å…³ï¼Œä¸‰æ˜Ÿå†ä»£å®‰å“æ——èˆ°éƒ½æœ‰å…³æ³¨ï¼Œæˆ–æ¬£èµæˆ–åæ§½ã€‚ç»¿çš„å‡ºæ²¹ï¼Œæ–‡å­—é”¯é½¿çš„s1ï¼Œé¹…è½¯çŸ³çš„s3ï¼Œåæ¥ä¹°äº†s5ï¼Œå½»åº•è·¯è½¬é»‘ï¼ŒRomåˆ«å®¶ä¸€èˆ¬500Må®ƒå¾—1.5Gï¼Œæ˜¯å¡äº†å¤šå°‘åƒåœ¾è¿›å»ï¼Œåˆ·æœºè¿˜ç‰¹åˆ«éº»çƒ¦ã€‚åˆ·å®Œå®‰å…¨æ¨¡å¼å°±ä¸å·¥ä½œï¼Œè½¯ä»¶UIå¥‡ä¸‘ï¼Œäº¤äº’å¤æ‚ã€‚GPSå®šä½æ€»æ˜¯ä¼šæ‚„æ‚„èµ·è¿›ç¨‹ï¼Œå¯¼è‡´ä¸€å¤©è‡³å°‘2å†²ã€‚æœ€åå› ä¸ºå±æ¥è§¦ä¸è‰¯ï¼Œæœå½¹1å¹´å°±è¢«å¼ƒã€‚ä¸€ä¸ªæœˆå‰çœ‹åˆ°S8çš„ä¿¡æ¯ï¼Œè¢«è¿™å—å±æŠ˜æœï¼Œå†³å®šå†è¯•ä¸€æ¬¡ä¸‰æ˜Ÿï¼Œå¤§ä¸äº†é€€è´§å˜›ã€‚ä½†çœŸæ˜¯å‡ºä¹æ„æ–™çš„å¥½ç”¨å•Šï¼ï¼ï¼ é€‚ç”¨å¯¹è±¡ï¼šå‡ºäºå„ç§åŸå› ä¸å–œIOSï¼Œä½†å†…å¿ƒè¿½æ±‚ç‹¬ç‰¹ï¼Œåˆä¸æŠŠæ€§ä»·æ¯”æ”¾ç¬¬ä¸€ä½æœ‹å‹"},{"title":"Lodash","date":"2017-04-09T07:06:00.000Z","path":"2017/04/09/2017/lodash/","text":"éšç€æ—¶é—´çš„è¿‡å»ï¼Œæˆ‘ä»¬å†™ç ä¼šç§¯ç´¯ä¸€äº›ä¹ æƒ¯ï¼Œæ€æƒ³ï¼Œå·¥å…·å’Œå¥—è·¯ä»£ç ï¼Œè®©æˆ‘ä»¬ä¸‹æ¬¡åœ¨åšç±»ä¼¼å·¥ä½œæ—¶å¯ä»¥äº‹åŠåŠŸå€ã€‚lodashå°±æ˜¯ä¸€ä¸ªjsçš„å·¥å…·åº“ï¼Œå®ƒå†…éƒ¨å°è£…äº†å¸¸è§çš„æ•°æ®å¤„ç†ï¼Œå¦‚å­—ç¬¦ï¼Œæ•°ç»„ï¼Œå¯¹è±¡ï¼Œæ—¥æœŸã€‚ä¼ æ‰¿äºunderscoreï¼Œä½†æ€§èƒ½ä¸Šå´æ›´ä¼˜å¼‚ã€‚ æ¨¡å—ç»„æˆ Arrayï¼Œé€‚ç”¨äºæ•°ç»„ç±»å‹ï¼Œæ¯”å¦‚å¡«å……æ•°æ®ã€æŸ¥æ‰¾å…ƒç´ ã€æ•°ç»„åˆ†ç‰‡ç­‰æ“ä½œ Collectionï¼Œé€‚ç”¨äºæ•°ç»„å’Œå¯¹è±¡ç±»å‹ï¼Œéƒ¨åˆ†é€‚ç”¨äºå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚åˆ†ç»„ã€æŸ¥æ‰¾ã€è¿‡æ»¤ç­‰æ“ä½œ Dateï¼Œå½“å‰æ—¶é—´æˆ³ Functionï¼Œé€‚ç”¨äºå‡½æ•°ç±»å‹ï¼Œæ¯”å¦‚å­—èŠ‚æµï¼Œå»¶è¿Ÿï¼Œç¼“å­˜ï¼Œè®¾ç½®é’©å­ç­‰æ“ä½œ Langï¼Œç±»å‹è½¬åŒ–å’Œæ•°å€¼æ¯”è¾ƒ Mathï¼Œæ•°å­¦è¿ç®— Numberï¼Œéšæœºæ•°å’Œæ•°å€¼åŒºé—´ Objectï¼Œå¯¹è±¡çš„åˆ›å»ºã€æ‰©å±•ã€ç±»å‹è½¬æ¢ã€æ£€ç´¢ã€é›†åˆç­‰æ“ä½œ Seqï¼Œåˆ›å»ºé“¾å¼è°ƒç”¨ï¼Œæé«˜æ‰§è¡Œæ€§èƒ½ï¼ˆæƒ°æ€§è®¡ç®—ï¼‰ Stringï¼Œé€‚ç”¨äºå­—ç¬¦ä¸²ç±»å‹ å®ä¾‹1.Næ¬¡å¾ªç¯ 1234567891011// 1. Basic for loop. for(var i = 0; i &lt; 5; i++) &#123; // ... &#125; // 2. Using Array's join and split methods Array.apply(null, Array(5)).forEach(function()&#123; // ... &#125;); // Lodash _.times(5, function()&#123; // ... &#125;); for è¯­å¥æ˜¯æ‰§è¡Œå¾ªç¯çš„ä¸äºŒé€‰æ‹©ï¼ŒArray.apply ä¹Ÿå¯ä»¥æ¨¡æ‹Ÿå¾ªç¯ï¼Œä½†åœ¨ä¸Šé¢ä»£ç çš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼Œ_.times() çš„è§£å†³æ–¹å¼æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ã€‚ 2.æ·±å±‚æŸ¥æ‰¾å±æ€§å€¼ 12345678910111213// Fetch the name of the first pet from each owner var ownerArr = [&#123; \"owner\": \"Colin\", \"pets\": [&#123;\"name\":\"dog1\"&#125;, &#123;\"name\": \"dog2\"&#125;]&#125;, &#123; \"owner\": \"John\", \"pets\": [&#123;\"name\":\"dog3\"&#125;, &#123;\"name\": \"dog4\"&#125;] &#125;]; // Array's map method. ownerArr.map(function(owner)&#123; return owner.pets[0].name; &#125;); // Lodash _.map(ownerArr, 'pets[0].name'); _.map æ–¹æ³•æ˜¯å¯¹åŸç”Ÿ map æ–¹æ³•çš„æ”¹è¿›ï¼Œå…¶ä¸­ä½¿ç”¨ pets[0].name å­—ç¬¦ä¸²å¯¹åµŒå¥—æ•°æ®å–å€¼çš„æ–¹å¼ç®€åŒ–äº†å¾ˆå¤šå†—ä½™çš„ä»£ç ï¼Œéå¸¸ç±»ä¼¼ä½¿ç”¨ jQuery é€‰æ‹© DOM èŠ‚ç‚¹ ul &gt; li &gt; aï¼Œå¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´æœ‰ç§ä¹…è¿çš„äº²åˆ‡æ„Ÿã€‚"},{"title":"æˆ‘çš„2016","date":"2017-02-01T22:02:00.000Z","path":"2017/02/02/2017/2016/","text":"ä½œä¸ºä¸€ä¸ªæ¯å¹´éƒ½è¦è¿å¾™å›å®¶è¿‡å¹´çš„ä¿—äººï¼Œç°åœ¨å†™16å¹´çš„æ€»ç»“åº”è¯¥ä¹Ÿæ˜¯è¯´çš„è¿‡å»çš„ã€‚ å·¥ä½œ16å¹´ä¸»è¦å·¥ä½œè¿˜æ˜¯androidæ–¹å‘ï¼Œè¿˜å†™äº†ç‚¹pythonæ¥å£ï¼Œç°å­¦ç°ç”¨äº†reactå¤§ç¤¼åŒ…ã€‚åœ¨padï¼Œposå’Œæ•°æ®é¢æ¿åšäº†ä¸€ç‚¹å¾®å°çš„å·¥ä½œã€‚ æ„Ÿè°¢ç»„ç»‡çš„ä¿¡ä»»ï¼Œæ—¥å¸¸ç»´æŠ¤ç€å•†æˆ·ç®¡å®¶çš„ç›¸å…³FAQã€‚ ç”Ÿæ´»å’Œå¥³æœ‹å‹åƒå–æ‹‰æ’’åœ¨ä¸€èµ·ï¼Œæ„Ÿè§‰è¢«ç…§é¡¾ç€ï¼Œå¾ˆå¼€å¿ƒğŸ˜„ 4æœˆçš„æŸä¸ªå‘¨æœ«å»æµ™æ±Ÿä¸€ä¸ªç«¹æ—çˆ¬å±±ï¼ŒæŒºç´¯ï¼Œä½†æ˜¯ä¾¿å®œå•Šï¼Œè€Œä¸”æœ‰é”»ç‚¼åˆ°ã€‚ 5æœˆçš„æµ·å—å·²ç„¶æ˜¯ç‚å¤äº†ï¼Œèœˆæ”¯æ´²å²›çš„æ°´ç‰¹åˆ«è“ï¼Œç©äº†5å¤©ï¼Œç‰¹åˆ«æ”¾æ¾ã€‚ 6æœˆå…¬å¸é›†ä½“å»è¶Šå—æ—…æ¸¸ï¼Œå¥½åƒçš„é¸¡è‚‰ç±³ç²‰ï¼Œæ¯”æµ·å—æ›´å¥½çš„æ²™æ»©ï¼Œæ¶ˆè´¹ä¹Ÿç‰¹åˆ«ä½ï¼Œæ˜¯ä¸ªå»æµ·è¾¹åº¦å‡çš„å¥½å»å¤„ï¼Œäººæ°‘å¸åœ¨é‚£é‡Œç‰¹åˆ«ç®¡ç”¨ã€‚ æŠ€èƒ½ç‚¹androidæŠ€èƒ½ç‚¹å¹¿åº¦æœ‰æ‰€å¢åŠ  pythonä¸‹åŠå¹´ç”¨çš„å°‘ï¼Œå’Œå»å¹´è¿™ä¸ªæ—¶å€™å·®ä¸å¤šäº† å‰ç«¯æŠ€èƒ½å…¨é¢æœ‰æ‰€é•¿è¿›ï¼Œcss3 sass flexï¼Œjavascript es6ï¼Œæ¡†æ¶reactï¼Œreduxï¼Œè¿˜è¡¥äº†ä¸€éjsçº¢å®ä¹¦ï¼Œåº”è¯¥æ˜¯å…¥é—¨äº†ã€‚ æ„Ÿè°¢çš„å¥³æœ‹å‹è¿™ä¸€å¹´çš„å…³æ€€ä¸â€œå«Œå¼ƒâ€ æ„Ÿè°¢å‰ç«¯å¤§ç¥åœ¨jså’Œreactä¸Šç»™äºˆå¸®åŠ©å’ŒæŒ‡å¯¼ æ„Ÿè°¢åç«¯å¤§ç¥æä¾›çš„é è°±apiå’Œå„ç§é«˜å±‹å»ºç“´èˆ¬å»ºè®® æ„Ÿè°¢ä»Šå¹´æ–°æ‹›çš„ç§»åŠ¨ç«¯å°ä¼™ä¼´é è°±çš„é…åˆå’Œå¤šæ¬¡è¶…å‡ºé¢„æœŸçš„è¡¨ç°ï¼Œè®©æˆ‘çŸ¥é“åç”Ÿå¯ç•ï¼Œè‡ªå·±ä¹Ÿä¸èƒ½æ‡ˆæ€ ã€‚ å±•æœ›2017å¤šçœ‹ï¼Œå¤šæƒ³ï¼Œå¤šå†™ä»£ç  swift 3åº”è¯¥å¯ä»¥å–ä¸€å£¶çš„ ç›‘ç£å¥³æœ‹å‹åŸ¹å…»æ­£ç¡®ä»·å€¼è§‚ å¤šæƒ³æƒ³å¥åº· å¤šå€¾å¬ä»–äºº æ™®ç‘è·¯326å· 34302146"},{"title":"Hello Hexo","date":"2016-12-28T15:30:00.000Z","path":"2016/12/28/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment"}]